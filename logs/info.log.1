2025-04-30 19:37:24,480 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/urls.py changed, reloading.
2025-04-30 19:37:26,075 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 19:37:37,665 django.request WARNING  Not Found: /api/v1/users/profile
2025-04-30 19:45:20,146 apps.core.views INFO     Ping request received from 127.0.0.1
2025-04-30 19:45:20,156 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:45:20,163 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:45:20,170 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:45:20,177 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:45:42,997 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:45:44,542 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-04-30 19:45:46,917 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-04-30 19:45:46,928 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 164, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-04-30 19:45:46,933 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-04-30 19:45:49,799 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:45:52,568 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:45:52,598 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 19:45:55,039 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:45:55,043 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 19:45:57,210 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:45:57,213 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-04-30 19:45:59,258 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:45:59,261 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 19:46:01,274 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:46:01,284 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-04-30 19:46:03,418 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:46:03,422 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 303, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-04-30 19:46:03,423 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-04-30 19:46:05,484 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:46:07,217 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:46:07,225 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 328, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-04-30 19:46:07,254 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 334, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 328, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-04-30 19:50:02,135 apps.core.views INFO     Ping request received from 127.0.0.1
2025-04-30 19:50:02,143 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:50:02,149 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:50:02,157 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:50:02,163 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:50:15,537 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:50:16,148 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-04-30 19:50:17,371 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-04-30 19:50:17,378 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 164, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-04-30 19:50:17,380 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-04-30 19:50:19,238 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:50:21,090 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:50:21,110 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 19:50:22,954 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:50:22,957 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 19:50:24,733 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:50:24,736 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-04-30 19:50:26,588 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:50:26,591 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 19:50:28,483 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:50:28,496 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-04-30 19:50:30,368 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:50:30,370 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 303, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-04-30 19:50:30,371 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-04-30 19:50:32,256 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:50:34,293 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:50:34,299 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 328, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-04-30 19:50:34,313 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 334, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 328, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-04-30 19:50:35,786 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/8b5def2e-b693-4399-9432-59b9412c896d/
2025-04-30 19:50:36,393 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/dd6f7fb1-d4c1-4ccc-8c1e-b23e95622d55/
2025-04-30 19:50:37,041 django.request WARNING  Unauthorized: /api/v1/users/profiles/0397b458-1edf-458d-90a6-f0f80a8e07f6/
2025-04-30 19:50:37,724 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/497165f9-e839-4d0a-8f57-2fb9a4149889/
2025-04-30 19:50:38,359 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/d585b57f-04ad-4f71-9106-c6b5d3536313/
2025-04-30 19:50:57,428 django.request WARNING  Bad Request: /api/v1/users/addresses/
2025-04-30 19:51:57,022 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/category.py changed, reloading.
2025-04-30 19:51:58,656 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 19:54:57,018 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/category.py changed, reloading.
2025-04-30 19:54:58,419 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 19:55:39,324 apps.core.views INFO     Ping request received from 127.0.0.1
2025-04-30 19:55:39,333 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:55:39,341 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:55:39,349 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:55:39,356 django.request WARNING  Method Not Allowed: /core/ping/
2025-04-30 19:55:52,478 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:55:53,161 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-04-30 19:55:54,339 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-04-30 19:55:54,348 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 164, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-04-30 19:55:54,350 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-04-30 19:55:56,212 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:55:58,215 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:55:58,236 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 19:56:00,160 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:56:00,163 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 19:56:02,038 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:56:02,042 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-04-30 19:56:04,001 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:56:04,005 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 19:56:05,929 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:56:05,937 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-04-30 19:56:07,849 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:56:07,857 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 303, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-04-30 19:56:07,860 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-04-30 19:56:09,777 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:56:11,614 apps.users.utils INFO     Cookies set successfully
2025-04-30 19:56:11,618 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 328, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-04-30 19:56:11,630 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 334, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 328, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-04-30 19:56:13,007 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/fb4ac54e-1b86-4068-bc78-8da2e2be1895/
2025-04-30 19:56:13,702 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/eecc0ec1-7bf4-46f9-84b2-6f6c5a874595/
2025-04-30 19:56:14,727 django.request WARNING  Unauthorized: /api/v1/users/profiles/20702074-f90d-4d58-9d0c-6b2cec9af994/
2025-04-30 19:56:15,971 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/56916286-35f1-4589-9e5f-8529bcf002c4/
2025-04-30 19:56:17,149 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/d5ed4e4c-ef0a-4e8b-a0dc-bf0c1a7f503b/
2025-04-30 19:56:31,837 django.request WARNING  Bad Request: /api/v1/users/addresses/
2025-04-30 19:57:37,456 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/base.py changed, reloading.
2025-04-30 19:57:40,875 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 19:58:27,521 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 19:58:27,620 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 19:58:46,814 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/models/escrow_transactions.py changed, reloading.
2025-04-30 19:58:48,463 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 19:59:03,496 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/base.py changed, reloading.
2025-04-30 19:59:06,435 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 19:59:59,334 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 20:00:48,610 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:00:48,613 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:00:48,652 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 20:01:01,894 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:01:01,921 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:01:01,999 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 20:01:03,635 apps.users.social_auth_pipeline INFO     Auth URL: /api/v1/auth/o/google-oauth2/
2025-04-30 20:01:03,635 apps.users.social_auth_pipeline INFO     Full request data: GET=<QueryDict: {'state': ['6Q1pfUbDM9uV12F7YeVxx2Ag5YvGOAlO'], 'code': ['4/0Ab_5qlnLSJvf1VqrWokJk1L5sImM9nZEF2u25DV3BXk9lbtehEI_q481Qlw9sccMtdfP4A']}>, POST=<QueryDict: {}>
2025-04-30 20:01:03,636 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-04-30 20:01:03,637 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-04-30 20:01:03,794 apps.users.utils INFO     Cookies set successfully
2025-04-30 20:01:03,832 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 100, in render
    ret = json.dumps(
        data, cls=self.encoder_class,
        indent=indent, ensure_ascii=self.ensure_ascii,
        allow_nan=not self.strict, separators=separators
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/usr/local/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 66, in default
    return tuple(item for item in obj)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 66, in <genexpr>
    return tuple(item for item in obj)
                                  ^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/files/base.py", line 78, in __iter__
    for chunk in self.chunks():
                 ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/files/base.py", line 55, in chunks
    self.seek(0)
    ^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/files/utils.py", line 45, in <lambda>
    seek = property(lambda self: self.file.seek)
                                 ^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/fields/files.py", line 49, in _get_file
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/fields/files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'profile_picture' attribute has no file associated with it.
2025-04-30 20:01:24,336 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:01:24,384 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:01:24,478 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 20:02:31,840 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:02:31,865 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:02:31,895 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 20:02:33,119 apps.users.social_auth_pipeline INFO     Auth URL: /api/v1/auth/o/google-oauth2/
2025-04-30 20:02:33,120 apps.users.social_auth_pipeline INFO     Full request data: GET=<QueryDict: {'state': ['6Q1pfUbDM9uV12F7YeVxx2Ag5YvGOAlO'], 'code': ['4/0Ab_5qllfsip2mIo8DDls1JOYNF6r9w7ANlNi9_0NzvGtDG5Ccma8NmJCMhM8BqJxxJl9WQ']}>, POST=<QueryDict: {}>
2025-04-30 20:02:33,120 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-04-30 20:02:33,120 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-04-30 20:02:33,169 apps.users.utils INFO     Cookies set successfully
2025-04-30 20:02:33,192 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 100, in render
    ret = json.dumps(
        data, cls=self.encoder_class,
        indent=indent, ensure_ascii=self.ensure_ascii,
        allow_nan=not self.strict, separators=separators
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/usr/local/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 66, in default
    return tuple(item for item in obj)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 66, in <genexpr>
    return tuple(item for item in obj)
                                  ^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/files/base.py", line 78, in __iter__
    for chunk in self.chunks():
                 ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/files/base.py", line 55, in chunks
    self.seek(0)
    ^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/files/utils.py", line 45, in <lambda>
    seek = property(lambda self: self.file.seek)
                                 ^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/fields/files.py", line 49, in _get_file
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/fields/files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'profile_picture' attribute has no file associated with it.
2025-04-30 20:17:01,309 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-04-30 20:17:03,098 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 20:20:35,015 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:20:35,074 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:20:35,141 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 20:20:41,203 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:20:41,226 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:20:41,278 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 20:21:19,119 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:21:19,168 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:21:19,255 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 20:22:30,847 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:22:30,865 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:22:30,914 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 20:22:39,042 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:22:39,045 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:22:39,118 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 20:24:07,314 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:24:07,356 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 20:24:07,439 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 20:24:09,357 apps.users.social_auth_pipeline INFO     Auth URL: /api/v1/auth/o/google-oauth2/
2025-04-30 20:24:09,361 apps.users.social_auth_pipeline INFO     Full request data: GET=<QueryDict: {'state': ['6Q1pfUbDM9uV12F7YeVxx2Ag5YvGOAlO'], 'code': ['4/0Ab_5qlngHqUzCxmhn1sqzsOHkTphk0OwO6fBBQ6J-k4rDaKkIKw8UZGa3rP2dsdvHxEWZQ']}>, POST=<QueryDict: {}>
2025-04-30 20:24:09,363 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-04-30 20:24:09,365 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-04-30 20:24:09,505 apps.users.utils INFO     Cookies set successfully
2025-04-30 20:24:09,536 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 100, in render
    ret = json.dumps(
        data, cls=self.encoder_class,
        indent=indent, ensure_ascii=self.ensure_ascii,
        allow_nan=not self.strict, separators=separators
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/usr/local/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 66, in default
    return tuple(item for item in obj)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 66, in <genexpr>
    return tuple(item for item in obj)
                                  ^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/files/base.py", line 78, in __iter__
    for chunk in self.chunks():
                 ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/files/base.py", line 55, in chunks
    self.seek(0)
    ^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/files/utils.py", line 45, in <lambda>
    seek = property(lambda self: self.file.seek)
                                 ^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/fields/files.py", line 49, in _get_file
    self._require_file()
    ~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/fields/files.py", line 44, in _require_file
    raise ValueError(
        "The '%s' attribute has no file associated with it." % self.field.name
    )
ValueError: The 'profile_picture' attribute has no file associated with it.
2025-04-30 20:26:22,763 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/models/user_profile.py changed, reloading.
2025-04-30 20:26:24,351 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 20:35:47,398 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-04-30 20:35:48,750 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 20:35:50,570 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-04-30 20:35:51,928 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 20:46:30,727 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/models/base.py changed, reloading.
2025-04-30 20:46:32,250 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:01:15,424 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-04-30 21:01:17,187 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:02:59,741 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-04-30 21:03:01,159 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:04:11,424 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-04-30 21:04:12,820 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:06:14,963 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:06:30,528 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:06:30,533 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:06:30,609 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 21:07:24,382 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:07:24,408 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:07:24,524 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 21:07:53,799 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:07:53,859 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:07:53,965 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 21:08:02,012 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:08:02,051 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:08:02,181 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 21:08:20,766 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:08:20,826 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:08:20,893 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 21:08:23,156 apps.users.social_auth_pipeline INFO     Auth URL: /api/v1/auth/o/google-oauth2/
2025-04-30 21:08:23,159 apps.users.social_auth_pipeline INFO     Full request data: GET=<QueryDict: {'state': ['HMPeLAevLCLm4M0slKEQLtCYGJIst7yl'], 'code': ['4/0Ab_5qlncbYGHMGbMqdSIpRPxFoNJy15FeNgARygGaz9LEfN1klgGO1a5ntm-tYrZQ-SuMw']}>, POST=<QueryDict: {}>
2025-04-30 21:08:23,160 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-04-30 21:08:23,161 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-04-30 21:08:23,546 apps.users.utils INFO     Cookies set successfully
2025-04-30 21:08:42,988 apps.users.signals ERROR    Failed to save OAuth profile picture: duplicate key value violates unique constraint "user_profiles_user_id_key"
DETAIL:  Key (user_id)=(2fecacfd-2c46-43e3-82b3-33a85cc4fd00) already exists.

2025-04-30 21:08:43,195 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 177, in me
    return self.partial_update(request, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 82, in partial_update
    return self.update(request, *args, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 75, in update
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 193, in to_representation
    if not instance.profile_picture:
           ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'profile_picture'
2025-04-30 21:08:43,874 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 193, in to_representation
    if not instance.profile_picture:
           ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'profile_picture'
2025-04-30 21:09:51,255 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-04-30 21:09:53,967 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:14:13,363 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-04-30 21:14:15,698 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:16:23,382 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-04-30 21:16:25,946 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:17:30,573 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-04-30 21:17:33,555 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:23:10,608 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-04-30 21:23:13,103 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:23:21,272 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-04-30 21:23:23,577 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:24:14,115 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/models/base.py changed, reloading.
2025-04-30 21:24:16,509 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:24:35,637 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/models/base.py changed, reloading.
2025-04-30 21:24:37,985 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:25:27,998 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-04-30 21:25:30,323 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:25:37,324 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-04-30 21:25:39,598 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 21:32:59,980 apps.users.utils INFO     Cookies set successfully
2025-04-30 21:36:34,383 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "django_session" does not exist
LINE 1: SELECT 1 AS "a" FROM "django_session" WHERE "django_session"...
                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/utils/deprecation.py", line 131, in __call__
    response = self.process_response(request, response)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/contrib/sessions/middleware.py", line 59, in process_response
    request.session.save()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/contrib/sessions/backends/db.py", line 121, in save
    return self.create()
           ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/contrib/sessions/backends/db.py", line 70, in create
    self._session_key = self._get_new_session_key()
                        ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/contrib/sessions/backends/base.py", line 196, in _get_new_session_key
    if not self.exists(session_key):
           ~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/contrib/sessions/backends/db.py", line 63, in exists
    return self.model.objects.filter(session_key=session_key).exists()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1288, in exists
    return self.query.has_results(using=self.db)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 660, in has_results
    return compiler.has_results()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1542, in has_results
    return bool(self.execute_sql(SINGLE))
                ~~~~~~~~~~~~~~~~^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "django_session" does not exist
LINE 1: SELECT 1 AS "a" FROM "django_session" WHERE "django_session"...
                             ^

2025-04-30 21:36:56,207 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "django_session" does not exist
LINE 1: SELECT 1 AS "a" FROM "django_session" WHERE "django_session"...
                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/utils/deprecation.py", line 131, in __call__
    response = self.process_response(request, response)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/contrib/sessions/middleware.py", line 59, in process_response
    request.session.save()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/contrib/sessions/backends/db.py", line 121, in save
    return self.create()
           ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/contrib/sessions/backends/db.py", line 70, in create
    self._session_key = self._get_new_session_key()
                        ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/contrib/sessions/backends/base.py", line 196, in _get_new_session_key
    if not self.exists(session_key):
           ~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/contrib/sessions/backends/db.py", line 63, in exists
    return self.model.objects.filter(session_key=session_key).exists()
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1288, in exists
    return self.query.has_results(using=self.db)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 660, in has_results
    return compiler.has_results()
           ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1542, in has_results
    return bool(self.execute_sql(SINGLE))
                ~~~~~~~~~~~~~~~~^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "django_session" does not exist
LINE 1: SELECT 1 AS "a" FROM "django_session" WHERE "django_session"...
                             ^

2025-04-30 21:43:06,298 django.request WARNING  Bad Request: /api/v1/auth/o/google-oauth2/
2025-04-30 21:43:06,505 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:43:06,628 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 21:43:30,824 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:43:30,941 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:43:31,034 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 21:43:48,741 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:43:48,773 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 21:43:48,828 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 23:43:15,560 apps.users.utils INFO     Cookies set successfully
2025-04-30 23:43:34,129 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:43:34,153 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:43:34,267 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 23:43:55,627 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:43:55,675 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:43:55,739 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 23:44:12,428 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:44:12,457 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:44:12,544 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 23:44:15,909 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:44:15,976 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:44:16,074 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 23:44:17,100 apps.users.utils INFO     Cookies set successfully
2025-04-30 23:49:58,525 apps.users.utils INFO     Cookies set successfully
2025-04-30 23:51:40,893 apps.users.utils INFO     Cookies set successfully
2025-04-30 23:55:02,311 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/social_auth_pipeline.py changed, reloading.
2025-04-30 23:55:04,844 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 23:55:30,387 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-04-30 23:55:32,501 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 23:55:43,178 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-04-30 23:55:45,272 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-04-30 23:57:50,721 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:57:50,752 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:57:50,822 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 23:58:01,541 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:58:01,543 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-04-30 23:58:01,598 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-04-30 23:58:03,743 apps.users.utils INFO     Cookies set successfully
2025-04-30 23:58:03,954 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 100, in render
    ret = json.dumps(
        data, cls=self.encoder_class,
        indent=indent, ensure_ascii=self.ensure_ascii,
        allow_nan=not self.strict, separators=separators
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/usr/local/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 52, in default
    return obj.decode()
           ~~~~~~~~~~^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0x89 in position 0: invalid start byte
2025-04-30 23:59:40,378 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/social_auth_pipeline.py changed, reloading.
2025-04-30 23:59:42,661 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:00:54,546 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:00:54,576 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:00:54,633 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:01:04,952 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:01:04,994 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:01:05,061 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:01:07,147 apps.users.utils INFO     Cookies set successfully
2025-05-01 00:01:07,271 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 100, in render
    ret = json.dumps(
        data, cls=self.encoder_class,
        indent=indent, ensure_ascii=self.ensure_ascii,
        allow_nan=not self.strict, separators=separators
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/usr/local/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 52, in default
    return obj.decode()
           ~~~~~~~~~~^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0x89 in position 0: invalid start byte
2025-05-01 00:01:30,320 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/social_auth_pipeline.py changed, reloading.
2025-05-01 00:01:32,500 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:01:43,903 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:01:43,945 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:01:44,022 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:01:46,499 apps.users.utils INFO     Cookies set successfully
2025-05-01 00:01:46,651 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 100, in render
    ret = json.dumps(
        data, cls=self.encoder_class,
        indent=indent, ensure_ascii=self.ensure_ascii,
        allow_nan=not self.strict, separators=separators
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/usr/local/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 52, in default
    return obj.decode()
           ~~~~~~~~~~^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0x89 in position 0: invalid start byte
2025-05-01 00:01:53,983 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:01:54,021 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:01:54,101 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:02:02,119 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:02:02,121 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:02:02,219 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:02:03,644 apps.users.utils INFO     Cookies set successfully
2025-05-01 00:02:03,789 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 100, in render
    ret = json.dumps(
        data, cls=self.encoder_class,
        indent=indent, ensure_ascii=self.ensure_ascii,
        allow_nan=not self.strict, separators=separators
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/usr/local/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 52, in default
    return obj.decode()
           ~~~~~~~~~~^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0x89 in position 0: invalid start byte
2025-05-01 00:02:33,692 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:02:33,770 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:02:33,814 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:02:39,911 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:02:39,948 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:02:39,999 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:02:50,319 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:02:50,359 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:02:50,386 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:02:51,462 apps.users.utils INFO     Cookies set successfully
2025-05-01 00:02:51,496 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 100, in render
    ret = json.dumps(
        data, cls=self.encoder_class,
        indent=indent, ensure_ascii=self.ensure_ascii,
        allow_nan=not self.strict, separators=separators
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/usr/local/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 52, in default
    return obj.decode()
           ~~~~~~~~~~^^
UnicodeDecodeError: 'utf-8' codec can't decode byte 0x89 in position 0: invalid start byte
2025-05-01 00:04:18,295 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:04:19,791 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:05:41,286 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:05:42,688 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:06:39,376 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:06:39,379 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:06:39,405 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:06:49,181 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:06:49,208 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:06:49,251 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:06:50,843 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 59, in post
    update_last_login(None, user)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/contrib/auth/models.py", line 23, in update_last_login
    user.last_login = timezone.now()
    ^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'last_login' and no __dict__ for setting new attributes
2025-05-01 00:08:15,286 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:08:17,485 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:08:45,225 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:08:46,571 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:09:23,756 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:09:23,781 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:09:23,798 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:09:33,299 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:09:33,314 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:09:33,360 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:09:40,542 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:09:40,577 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:09:40,714 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:16:04,326 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:16:06,130 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:16:29,670 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:16:31,061 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:17:47,235 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:17:49,125 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:18:54,812 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:19:08,689 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:19:08,722 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:19:08,744 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:19:12,570 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:19:12,591 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:19:12,655 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:19:28,847 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:19:28,850 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:19:28,887 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:20:02,477 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:20:02,543 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:20:02,619 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:20:12,211 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:20:12,253 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:20:12,286 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:20:18,833 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:20:18,863 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:20:19,001 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:23:10,510 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:23:12,080 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:24:02,675 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:24:04,159 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:25:25,199 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:25:25,201 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:25:25,243 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:25:53,183 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:25:53,212 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:25:53,249 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:26:11,195 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:26:11,193 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:26:11,240 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:26:22,376 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:26:22,394 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:26:22,487 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:26:30,987 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:26:30,999 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:26:31,044 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:26:34,150 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:26:34,210 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:32:55,125 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:32:56,914 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:33:00,833 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:33:02,303 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:34:25,747 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:34:25,750 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:34:25,775 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:34:38,095 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:34:38,097 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:34:38,155 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:35:08,253 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:35:08,293 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:35:08,370 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:35:18,697 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:35:18,739 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:35:18,780 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:36:15,540 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:36:15,552 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:36:15,588 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:36:50,475 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:36:50,477 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:36:50,516 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:37:58,167 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:37:59,701 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:42:22,504 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:42:24,242 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:42:28,300 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:42:29,853 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:43:32,965 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:43:35,019 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:43:40,028 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:43:41,655 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:45:59,314 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:46:57,750 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDYxMzE3LCJpYXQiOjE3NDYwNjA0MTcsImp0aSI6IjNhY2JiYTA2NDExOTQ5YmJhNjI2MWE4MWE1ZGM5ODE3IiwidXNlcl9pZCI6ImM2MWVkODg4LWQ3NmItNGU5Yy1iMDZiLWZkNWVhN2ZhMWFmOSJ9.G3P5uZPwbFDSZnRKnrQ8HpZ11xsC77tRduQpMU5aOs0', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjE0NjgxNywiaWF0IjoxNzQ2MDYwNDE3LCJqdGkiOiIyODI2YWRiMmNiN2U0NzYxYTRhNWYyNjYxZjY3N2Y1MSIsInVzZXJfaWQiOiJjNjFlZDg4OC1kNzZiLTRlOWMtYjA2Yi1mZDVlYTdmYTFhZjkifQ.2wf7-mLTF0tCvxtQUW-RuRDwkW_FnoapaZd0sSckP1A', 'user': 'mustaphajajjage@gmail.com'}
2025-05-01 00:46:57,750 apps.users.views INFO     Found user email: None
2025-05-01 00:49:04,478 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:49:05,972 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:51:28,353 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 00:51:29,755 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 00:51:37,449 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDYxNTk3LCJpYXQiOjE3NDYwNjA2OTcsImp0aSI6IjJkMjVhY2IwNTcxNzRkMTZiNzc5MDAxNDg1OTI1NTBhIiwidXNlcl9pZCI6Ijg2MTdjMTlmLWRkNGYtNDM1ZC1hMWYwLWJkMjFiM2I0ZDVlOSJ9.cqe9-yvwxvY2NYSvD7woXevdkp1NwpxWmESXo-phE10', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjE0NzA5NywiaWF0IjoxNzQ2MDYwNjk3LCJqdGkiOiIyYjVkNDUwOTk3ZGU0NDNlYmQxMTgzZDhlYjc0ZGU0ZiIsInVzZXJfaWQiOiI4NjE3YzE5Zi1kZDRmLTQzNWQtYTFmMC1iZDIxYjNiNGQ1ZTkifQ.sVXs1EuG9oKa9JGGZTD9GlwsrfsQmIDMwQqn2FAClLA', 'user': 'mussajajjage@gmail.com'}
2025-05-01 00:51:37,449 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDYxNTk3LCJpYXQiOjE3NDYwNjA2OTcsImp0aSI6IjJkMjVhY2IwNTcxNzRkMTZiNzc5MDAxNDg1OTI1NTBhIiwidXNlcl9pZCI6Ijg2MTdjMTlmLWRkNGYtNDM1ZC1hMWYwLWJkMjFiM2I0ZDVlOSJ9.cqe9-yvwxvY2NYSvD7woXevdkp1NwpxWmESXo-phE10', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjE0NzA5NywiaWF0IjoxNzQ2MDYwNjk3LCJqdGkiOiIyYjVkNDUwOTk3ZGU0NDNlYmQxMTgzZDhlYjc0ZGU0ZiIsInVzZXJfaWQiOiI4NjE3YzE5Zi1kZDRmLTQzNWQtYTFmMC1iZDIxYjNiNGQ1ZTkifQ.sVXs1EuG9oKa9JGGZTD9GlwsrfsQmIDMwQqn2FAClLA', 'user': 'mussajajjage@gmail.com'}
2025-05-01 00:51:37,449 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-01 00:51:37,460 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDYxNTk3LCJpYXQiOjE3NDYwNjA2OTcsImp0aSI6IjJkMjVhY2IwNTcxNzRkMTZiNzc5MDAxNDg1OTI1NTBhIiwidXNlcl9pZCI6Ijg2MTdjMTlmLWRkNGYtNDM1ZC1hMWYwLWJkMjFiM2I0ZDVlOSJ9.cqe9-yvwxvY2NYSvD7woXevdkp1NwpxWmESXo-phE10', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjE0NzA5NywiaWF0IjoxNzQ2MDYwNjk3LCJqdGkiOiIyYjVkNDUwOTk3ZGU0NDNlYmQxMTgzZDhlYjc0ZGU0ZiIsInVzZXJfaWQiOiI4NjE3YzE5Zi1kZDRmLTQzNWQtYTFmMC1iZDIxYjNiNGQ1ZTkifQ.sVXs1EuG9oKa9JGGZTD9GlwsrfsQmIDMwQqn2FAClLA'}
2025-05-01 00:51:37,462 apps.users.utils INFO     Cookies set successfully
2025-05-01 00:51:37,462 apps.users.views INFO     Final response data: {'id': '8617c19f-dd4f-435d-a1f0-bd21b3b4d5e9', 'email': 'mussajajjage@gmail.com', 'first_name': '', 'last_name': '', 'user_type': None, 'verification_status': 'VERIFIED', 'profile': {'id': '9c1f73c3-fe08-4f15-b1ef-914545bd5fca', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_8617c19f-dd4f-435d-a1f0-bd21b3b4d5e9.jpg'}}
2025-05-01 00:53:40,636 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDYxNzIwLCJpYXQiOjE3NDYwNjA4MjAsImp0aSI6IjQxMDE3MjQwMmI4MTQyNjRiZWVhNTdlMDA1NzJkMzJmIiwidXNlcl9pZCI6ImM2MWVkODg4LWQ3NmItNGU5Yy1iMDZiLWZkNWVhN2ZhMWFmOSJ9.7zxAf5ysVhVj076PfyCPz9j640yUySIbGGKTcVG_sEQ', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjE0NzIyMCwiaWF0IjoxNzQ2MDYwODIwLCJqdGkiOiI1NTdiZDAwNjkzODU0OTFkOWUzYTBhNGY0Mjc1MDRmZCIsInVzZXJfaWQiOiJjNjFlZDg4OC1kNzZiLTRlOWMtYjA2Yi1mZDVlYTdmYTFhZjkifQ.s1cPAuRoibZpR5Pl7LEmXTeLub-k1bminMUT_UUxEWc', 'user': 'mustaphajajjage@gmail.com'}
2025-05-01 00:53:40,637 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDYxNzIwLCJpYXQiOjE3NDYwNjA4MjAsImp0aSI6IjQxMDE3MjQwMmI4MTQyNjRiZWVhNTdlMDA1NzJkMzJmIiwidXNlcl9pZCI6ImM2MWVkODg4LWQ3NmItNGU5Yy1iMDZiLWZkNWVhN2ZhMWFmOSJ9.7zxAf5ysVhVj076PfyCPz9j640yUySIbGGKTcVG_sEQ', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjE0NzIyMCwiaWF0IjoxNzQ2MDYwODIwLCJqdGkiOiI1NTdiZDAwNjkzODU0OTFkOWUzYTBhNGY0Mjc1MDRmZCIsInVzZXJfaWQiOiJjNjFlZDg4OC1kNzZiLTRlOWMtYjA2Yi1mZDVlYTdmYTFhZjkifQ.s1cPAuRoibZpR5Pl7LEmXTeLub-k1bminMUT_UUxEWc', 'user': 'mustaphajajjage@gmail.com'}
2025-05-01 00:53:40,637 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-01 00:53:40,648 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDYxNzIwLCJpYXQiOjE3NDYwNjA4MjAsImp0aSI6IjQxMDE3MjQwMmI4MTQyNjRiZWVhNTdlMDA1NzJkMzJmIiwidXNlcl9pZCI6ImM2MWVkODg4LWQ3NmItNGU5Yy1iMDZiLWZkNWVhN2ZhMWFmOSJ9.7zxAf5ysVhVj076PfyCPz9j640yUySIbGGKTcVG_sEQ', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjE0NzIyMCwiaWF0IjoxNzQ2MDYwODIwLCJqdGkiOiI1NTdiZDAwNjkzODU0OTFkOWUzYTBhNGY0Mjc1MDRmZCIsInVzZXJfaWQiOiJjNjFlZDg4OC1kNzZiLTRlOWMtYjA2Yi1mZDVlYTdmYTFhZjkifQ.s1cPAuRoibZpR5Pl7LEmXTeLub-k1bminMUT_UUxEWc'}
2025-05-01 00:53:40,650 apps.users.utils INFO     Cookies set successfully
2025-05-01 00:53:40,650 apps.users.views INFO     Final response data: {'id': 'c61ed888-d76b-4e9c-b06b-fd5ea7fa1af9', 'email': 'mustaphajajjage@gmail.com', 'first_name': '', 'last_name': '', 'user_type': None, 'verification_status': 'VERIFIED', 'profile': {'id': '706b76fc-873e-4c85-9f34-64ca0194a0ad', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_c61ed888-d76b-4e9c-b06b-fd5ea7fa1af9.jpg'}}
2025-05-01 00:53:52,760 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:53:52,772 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:53:52,820 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:54:17,039 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:54:17,042 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 00:54:17,076 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 00:54:18,439 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDYxNzU4LCJpYXQiOjE3NDYwNjA4NTgsImp0aSI6IjY2NDBhNWU3NDI4MTQ1ZGJiOTFhN2Q1MWRhNTY2Y2Q2IiwidXNlcl9pZCI6ImVmNTljNjc3LTliMzMtNGEzMi04MDE5LTQyMjEyYTg5NzM2NCJ9.KdUOLJy7233ucTVjnp6XcR71z7kmnbuDrrgi6693yWU', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjE0NzI1OCwiaWF0IjoxNzQ2MDYwODU4LCJqdGkiOiJlZjgzMTM4YTY4Y2Y0MmRkYTcwOWVmZWVhZThiMmE3OSIsInVzZXJfaWQiOiJlZjU5YzY3Ny05YjMzLTRhMzItODAxOS00MjIxMmE4OTczNjQifQ.iocz7OJdj7k8ZBRuaIUurPP-u3f6sPXUxPBrdg47sz0', 'user': 'jajjagesheka@gmail.com'}
2025-05-01 00:54:18,439 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDYxNzU4LCJpYXQiOjE3NDYwNjA4NTgsImp0aSI6IjY2NDBhNWU3NDI4MTQ1ZGJiOTFhN2Q1MWRhNTY2Y2Q2IiwidXNlcl9pZCI6ImVmNTljNjc3LTliMzMtNGEzMi04MDE5LTQyMjEyYTg5NzM2NCJ9.KdUOLJy7233ucTVjnp6XcR71z7kmnbuDrrgi6693yWU', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjE0NzI1OCwiaWF0IjoxNzQ2MDYwODU4LCJqdGkiOiJlZjgzMTM4YTY4Y2Y0MmRkYTcwOWVmZWVhZThiMmE3OSIsInVzZXJfaWQiOiJlZjU5YzY3Ny05YjMzLTRhMzItODAxOS00MjIxMmE4OTczNjQifQ.iocz7OJdj7k8ZBRuaIUurPP-u3f6sPXUxPBrdg47sz0', 'user': 'jajjagesheka@gmail.com'}
2025-05-01 00:54:18,439 apps.users.views INFO     Found user email: jajjagesheka@gmail.com
2025-05-01 00:54:18,450 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MDYxNzU4LCJpYXQiOjE3NDYwNjA4NTgsImp0aSI6IjY2NDBhNWU3NDI4MTQ1ZGJiOTFhN2Q1MWRhNTY2Y2Q2IiwidXNlcl9pZCI6ImVmNTljNjc3LTliMzMtNGEzMi04MDE5LTQyMjEyYTg5NzM2NCJ9.KdUOLJy7233ucTVjnp6XcR71z7kmnbuDrrgi6693yWU', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjE0NzI1OCwiaWF0IjoxNzQ2MDYwODU4LCJqdGkiOiJlZjgzMTM4YTY4Y2Y0MmRkYTcwOWVmZWVhZThiMmE3OSIsInVzZXJfaWQiOiJlZjU5YzY3Ny05YjMzLTRhMzItODAxOS00MjIxMmE4OTczNjQifQ.iocz7OJdj7k8ZBRuaIUurPP-u3f6sPXUxPBrdg47sz0'}
2025-05-01 00:54:18,452 apps.users.utils INFO     Cookies set successfully
2025-05-01 00:54:18,452 apps.users.views INFO     Final response data: {'id': 'ef59c677-9b33-4a32-8019-42212a897364', 'email': 'jajjagesheka@gmail.com', 'first_name': '', 'last_name': '', 'user_type': None, 'verification_status': 'VERIFIED', 'profile': {'id': 'b209ef12-2dff-493a-9c4e-15caf5ce4936', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_ef59c677-9b33-4a32-8019-42212a897364.jpg'}}
2025-05-01 12:21:02,313 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:22:23,778 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 12:22:23,877 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 12:22:23,943 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 12:22:40,575 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 12:22:54,652 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:26:49,820 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 12:26:49,836 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 12:26:49,855 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 12:26:49,871 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 12:26:49,889 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 12:27:08,555 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:27:09,490 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 12:27:11,073 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 12:27:11,080 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 161, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-05-01 12:27:11,086 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 12:27:13,701 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:27:16,219 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:27:16,259 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 12:27:18,734 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:27:18,738 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 12:27:21,166 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:27:21,173 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-05-01 12:27:23,677 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:27:23,684 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 12:27:26,536 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:27:26,549 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 12:27:29,483 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:27:29,487 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 300, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-01 12:27:29,490 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 12:27:32,286 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:27:35,363 apps.users.utils INFO     Cookies set successfully
2025-05-01 12:27:35,368 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 325, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 12:27:35,406 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 331, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 325, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 12:27:37,116 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/c0ae6a74-caf7-4c84-89c0-49cee47d141a/
2025-05-01 12:27:38,322 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/ea12c60b-e1b0-4202-9bf1-f3faed96d241/
2025-05-01 12:27:39,288 django.request WARNING  Unauthorized: /api/v1/users/profiles/2d2731dc-73ac-4474-8621-e1f852eb765c/
2025-05-01 12:27:40,044 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/b9091803-284b-49fe-be79-f6efcf5b05cd/
2025-05-01 12:27:40,819 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/0348cc54-51e4-4e2e-a052-ab90d3fa4a1f/
2025-05-01 12:27:45,109 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (240127b9-3b95-4487-a884-a99626263655, 2025-05-01 12:27:45.107805+00, 2025-05-01 12:27:45.107833+00, 5, Great user!, cbaa40ef-772b-49d7-a164-f7af98ff3a5a, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 350, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (240127b9-3b95-4487-a884-a99626263655, 2025-05-01 12:27:45.107805+00, 2025-05-01 12:27:45.107833+00, 5, Great user!, cbaa40ef-772b-49d7-a164-f7af98ff3a5a, null, null).

2025-05-01 12:27:47,209 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 12:27:48,281 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 12:27:53,492 django.request WARNING  Bad Request: /api/v1/users/addresses/
2025-05-01 12:29:38,691 django.request WARNING  Not Found: /api/v1/auth/userss
2025-05-01 12:29:39,116 django.request WARNING  Not Found: /favicon.ico
2025-05-01 12:32:21,614 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/urls.py changed, reloading.
2025-05-01 12:32:23,781 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 12:33:18,307 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/urls.py changed, reloading.
2025-05-01 12:33:20,062 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 12:33:45,645 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/urls.py changed, reloading.
2025-05-01 12:33:47,453 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 12:36:37,190 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 12:36:49,620 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/urls.py changed, reloading.
2025-05-01 12:36:52,331 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 12:37:09,603 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/urls.py changed, reloading.
2025-05-01 12:37:11,910 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 12:38:00,526 django.request WARNING  Not Found: /api/v1/auth/userss
2025-05-01 12:38:07,038 django.request WARNING  Not Found: /api/v1/auth/userss
2025-05-01 12:39:21,721 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/urls.py changed, reloading.
2025-05-01 12:39:24,435 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:00:40,810 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/urls.py changed, reloading.
2025-05-01 14:00:42,217 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:01:15,616 django.request WARNING  Not Found: /api/v1/auth/userss
2025-05-01 14:03:01,642 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 14:03:01,654 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:03:01,666 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:03:01,682 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:03:01,695 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:03:04,038 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 14:03:04,838 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 14:03:05,630 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:03:06,362 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:03:07,149 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:03:09,740 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:03:10,435 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:03:12,076 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:03:12,090 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 161, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-05-01 14:03:12,109 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:03:14,346 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:03:16,784 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:03:16,821 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:03:19,176 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:03:19,179 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:03:21,521 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:03:21,526 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-05-01 14:03:23,967 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:03:23,971 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:03:26,309 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:03:26,323 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 14:03:28,841 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:03:28,844 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 300, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-01 14:03:28,847 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 14:03:31,154 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:03:33,390 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:03:33,394 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 325, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 14:03:33,409 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 331, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 325, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 14:03:34,985 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/83862500-9cbe-45a4-961c-6e41e14a112b/
2025-05-01 14:03:36,003 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/ea53cff3-0266-43c6-98df-f69ed4f1d4f0/
2025-05-01 14:03:36,771 django.request WARNING  Unauthorized: /api/v1/users/profiles/075ed080-9c4d-4cb8-8915-8e3555fc78bf/
2025-05-01 14:03:37,530 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/a21d6fe6-e60b-46be-b3df-c5712e2ab1bc/
2025-05-01 14:03:38,296 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/6db07829-9524-4fbe-96f2-3093f2b3ca3d/
2025-05-01 14:03:42,671 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (c4ceade7-7903-4dec-b599-1b17da1375fc, 2025-05-01 14:03:42.670407+00, 2025-05-01 14:03:42.670428+00, 5, Great user!, 568dcccf-3a84-4e8b-b523-0d98dfc19b2d, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 350, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (c4ceade7-7903-4dec-b599-1b17da1375fc, 2025-05-01 14:03:42.670407+00, 2025-05-01 14:03:42.670428+00, 5, Great user!, 568dcccf-3a84-4e8b-b523-0d98dfc19b2d, null, null).

2025-05-01 14:03:44,247 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 14:03:45,040 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 14:03:49,185 django.request WARNING  Bad Request: /api/v1/users/addresses/
2025-05-01 14:06:09,322 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 14:06:09,335 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:06:09,348 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:06:09,362 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:06:09,379 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:06:12,180 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 14:06:12,989 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 14:06:13,750 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:06:14,630 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:06:15,384 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:06:17,916 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:06:18,693 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:06:20,321 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:06:20,328 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 161, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-05-01 14:06:20,339 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:06:22,740 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:06:25,158 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:06:25,185 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:06:27,575 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:06:27,578 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:06:30,065 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:06:30,071 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-05-01 14:06:32,613 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:06:32,618 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:06:34,909 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:06:34,921 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 14:06:37,245 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:06:37,248 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 300, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-01 14:06:37,252 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 14:06:39,882 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:06:42,700 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:06:42,704 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 325, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 14:06:42,726 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 331, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 325, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 14:06:44,459 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/909aee1f-302f-45c6-931b-689b26462138/
2025-05-01 14:06:45,472 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/9de351e3-f811-4daf-a295-0e95fbf0ee2d/
2025-05-01 14:06:46,316 django.request WARNING  Unauthorized: /api/v1/users/profiles/7db47b98-0ab0-4311-9a46-77512b7df108/
2025-05-01 14:06:47,194 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/989e03aa-b6af-48dc-9678-e666303911fd/
2025-05-01 14:06:47,947 django.request WARNING  Method Not Allowed: /api/v1/users/profiles/8a8fd524-26de-4d6d-aa39-c4895c6cba29/
2025-05-01 14:06:52,501 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (67d2d1e0-e5f3-4baa-a0a1-e7c629ccf68e, 2025-05-01 14:06:52.500186+00, 2025-05-01 14:06:52.500204+00, 5, Great user!, c61d1343-996b-43eb-bf3b-be677b337d90, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 350, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (67d2d1e0-e5f3-4baa-a0a1-e7c629ccf68e, 2025-05-01 14:06:52.500186+00, 2025-05-01 14:06:52.500204+00, 5, Great user!, c61d1343-996b-43eb-bf3b-be677b337d90, null, null).

2025-05-01 14:06:53,995 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 14:06:54,731 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 14:06:58,866 django.request WARNING  Bad Request: /api/v1/users/addresses/
2025-05-01 14:07:05,847 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 14:07:07,392 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 14:07:12,463 django.request WARNING  Unauthorized: /api/v1/auth/users/set_password/
2025-05-01 14:07:14,947 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 14:07:18,902 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 14:07:22,934 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 14:16:28,401 django.request WARNING  Unauthorized: /api/v1/auth/users/profiles/
2025-05-01 14:16:35,518 apps.users.views ERROR    Token refresh error: CustomUser matching query does not exist.
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 224, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 116, in validate
    user := get_user_model().objects.get(
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        **{api_settings.USER_ID_FIELD: user_id}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
apps.users.models.base.CustomUser.DoesNotExist: CustomUser matching query does not exist.
2025-05-01 14:16:35,688 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-01 14:16:43,824 apps.users.views ERROR    Token refresh error: CustomUser matching query does not exist.
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 224, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 116, in validate
    user := get_user_model().objects.get(
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        **{api_settings.USER_ID_FIELD: user_id}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
apps.users.models.base.CustomUser.DoesNotExist: CustomUser matching query does not exist.
2025-05-01 14:16:43,873 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-01 14:17:22,830 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:17:40,225 django.request WARNING  Not Found: /api/v1/auth/users/profiles/
2025-05-01 14:19:22,823 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 14:19:25,770 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:19:35,231 django.request WARNING  Not Found: /api/v1/auth/users/profiles/
2025-05-01 14:20:07,912 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 14:20:10,496 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:20:18,618 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 14:20:20,480 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:20:28,448 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 14:20:30,722 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:20:35,243 django.request WARNING  Not Found: /api/v1/auth/users/profiles/
2025-05-01 14:20:39,576 django.request WARNING  Not Found: /api/v1/auth/users/profiles/
2025-05-01 14:21:34,013 django.request WARNING  Not Found: /api/v1/auth/users/profile/
2025-05-01 14:21:39,050 django.request WARNING  Not Found: /api/v1/auth/usersj
2025-05-01 14:22:10,631 django.request WARNING  Not Found: /api/v1/auth/users/profiles/
2025-05-01 14:23:35,150 django.request WARNING  Not Found: /api/v1/auth/users/profiles/
2025-05-01 14:23:52,926 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 14:23:52,936 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:23:52,945 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:23:52,955 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:23:52,964 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:23:55,429 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 14:23:56,169 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 14:23:56,981 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:23:57,840 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:23:58,657 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:24:01,255 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:24:02,038 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:24:03,656 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:24:03,665 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 161, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-05-01 14:24:03,677 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:24:06,063 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:24:08,615 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:24:08,656 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:24:11,168 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:24:11,172 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:24:13,617 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:24:13,621 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-05-01 14:24:16,141 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:24:16,146 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:24:18,639 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:24:18,654 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 14:24:21,108 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:24:21,111 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 300, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-01 14:24:21,113 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 14:24:23,790 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:24:26,370 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:24:26,374 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 325, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 14:24:26,390 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 331, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 325, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 14:24:29,025 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 14:24:29,819 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 14:24:30,749 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 14:24:35,677 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (74adb8d3-ebcd-470e-a859-754ae20babfa, 2025-05-01 14:24:35.675882+00, 2025-05-01 14:24:35.675902+00, 5, Great user!, a341e8a8-08b0-4030-bdec-f88a2ec974f5, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 350, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (74adb8d3-ebcd-470e-a859-754ae20babfa, 2025-05-01 14:24:35.675882+00, 2025-05-01 14:24:35.675902+00, 5, Great user!, a341e8a8-08b0-4030-bdec-f88a2ec974f5, null, null).

2025-05-01 14:24:37,178 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 14:24:37,936 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 14:24:42,420 django.request WARNING  Bad Request: /api/v1/users/addresses/
2025-05-01 14:24:48,924 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 14:24:50,593 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 14:24:55,476 django.request WARNING  Unauthorized: /api/v1/auth/users/set_password/
2025-05-01 14:24:57,716 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 14:25:01,639 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 14:25:05,314 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 14:28:52,081 django.request WARNING  Not Found: /api/v1/auth/userss
2025-05-01 14:29:54,854 django.request WARNING  Not Found: /api/v1/auth/users/profiles/
2025-05-01 14:31:59,198 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-01 14:32:01,982 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:32:19,283 django.request WARNING  Not Found: /api/v1/auth/users/profiles/
2025-05-01 14:32:28,325 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-01 14:32:30,235 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:35:12,338 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 14:35:14,362 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:35:54,584 django.request WARNING  Unauthorized: /api/v1/auth/users/profiles/
2025-05-01 14:36:04,987 django.request WARNING  Not Found: /api/v1/auth/users/profiles/
2025-05-01 14:36:49,026 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/urls.py changed, reloading.
2025-05-01 14:36:51,318 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:36:55,314 django.request WARNING  Not Found: /api/v1/auth/users/profiles/
2025-05-01 14:37:05,746 django.request WARNING  Not Found: /api/v1/auth/usersk
2025-05-01 14:37:46,001 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/urls.py changed, reloading.
2025-05-01 14:37:48,043 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:41:29,254 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 14:41:32,304 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:42:11,145 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 14:42:13,632 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:42:16,829 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 14:42:18,926 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:43:15,313 django.request WARNING  Not Found: /api/v1/auth/users/profiles/
2025-05-01 14:45:14,211 django.request WARNING  Not Found: /api/v1/userss
2025-05-01 14:50:58,864 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-01 14:51:01,405 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 14:51:06,327 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 14:52:59,495 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 14:52:59,506 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:52:59,519 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:52:59,531 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:52:59,542 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 14:53:02,051 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 14:53:02,928 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 14:53:03,692 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:53:04,493 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:53:05,259 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 14:53:07,578 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:53:08,478 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:53:10,257 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:53:10,270 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 160, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-05-01 14:53:10,284 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 14:53:13,714 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:53:16,100 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:53:16,135 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:53:18,492 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:53:18,496 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:53:20,736 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:53:20,740 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-05-01 14:53:23,297 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:53:23,303 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 14:53:25,696 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:53:25,708 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 14:53:27,939 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:53:27,942 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 299, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-01 14:53:27,945 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 14:53:30,346 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:53:32,746 apps.users.utils INFO     Cookies set successfully
2025-05-01 14:53:32,752 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 324, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 14:53:32,777 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 330, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 324, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 14:53:35,571 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 14:53:36,432 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 14:53:37,264 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 14:53:42,210 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (9484451c-9090-4440-bdc8-366c9915e173, 2025-05-01 14:53:42.208183+00, 2025-05-01 14:53:42.208212+00, 5, Great user!, 8c7962b3-c7a4-498a-9245-fdf46e697d75, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (9484451c-9090-4440-bdc8-366c9915e173, 2025-05-01 14:53:42.208183+00, 2025-05-01 14:53:42.208212+00, 5, Great user!, 8c7962b3-c7a4-498a-9245-fdf46e697d75, null, null).

2025-05-01 14:53:43,815 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 14:53:44,657 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 14:53:48,839 django.request WARNING  Bad Request: /api/v1/users/addresses/
2025-05-01 14:53:55,531 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 14:53:57,446 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 14:54:02,719 django.request WARNING  Unauthorized: /api/v1/auth/users/set_password/
2025-05-01 14:54:05,431 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 14:54:09,646 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 14:54:14,050 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 20:44:25,121 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 20:44:54,263 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 20:45:10,329 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 20:45:25,971 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 20:45:55,676 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 20:47:40,219 django.request WARNING  Not Found: /api/v1//users/pofiles/
2025-05-01 20:47:54,547 django.request WARNING  Not Found: /api/v1/users/pofiles/
2025-05-01 20:51:54,681 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/models/user_store.py changed, reloading.
2025-05-01 20:51:56,097 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 20:52:42,405 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-01 20:52:44,173 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 20:54:13,252 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 20:54:13,259 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 20:54:13,269 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 20:54:13,283 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 20:54:13,291 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 20:54:14,953 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 20:54:15,463 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 20:54:15,984 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 20:54:16,489 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 20:54:17,020 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 20:54:18,612 apps.users.utils INFO     Cookies set successfully
2025-05-01 20:54:19,126 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 20:54:20,269 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 20:54:20,274 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 160, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-05-01 20:54:20,282 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 20:54:21,917 apps.users.utils INFO     Cookies set successfully
2025-05-01 20:54:23,470 apps.users.utils INFO     Cookies set successfully
2025-05-01 20:54:23,486 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 20:54:25,125 apps.users.utils INFO     Cookies set successfully
2025-05-01 20:54:25,128 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 20:54:26,688 apps.users.utils INFO     Cookies set successfully
2025-05-01 20:54:26,691 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-05-01 20:54:28,306 apps.users.utils INFO     Cookies set successfully
2025-05-01 20:54:28,309 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 20:54:29,952 apps.users.utils INFO     Cookies set successfully
2025-05-01 20:54:29,960 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 20:54:31,601 apps.users.utils INFO     Cookies set successfully
2025-05-01 20:54:31,603 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 299, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-01 20:54:31,604 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 20:54:33,179 apps.users.utils INFO     Cookies set successfully
2025-05-01 20:54:34,804 apps.users.utils INFO     Cookies set successfully
2025-05-01 20:54:34,807 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 324, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 20:54:34,818 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 330, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 324, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 20:54:36,545 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 20:54:37,100 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 20:54:41,158 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (f231c133-3221-4bf3-bd01-f5a04f91fd19, 2025-05-01 20:54:41.157231+00, 2025-05-01 20:54:41.157245+00, 5, Great user!, 79aa4c4a-57f3-459a-8166-59a8b4ba6e39, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (f231c133-3221-4bf3-bd01-f5a04f91fd19, 2025-05-01 20:54:41.157231+00, 2025-05-01 20:54:41.157245+00, 5, Great user!, 79aa4c4a-57f3-459a-8166-59a8b4ba6e39, null, null).

2025-05-01 20:54:42,392 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 20:54:42,995 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 20:54:45,953 django.request WARNING  Bad Request: /api/v1/users/addresses/
2025-05-01 20:54:50,396 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 20:54:51,544 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 20:54:54,780 django.request WARNING  Unauthorized: /api/v1/auth/users/set_password/
2025-05-01 20:54:56,401 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 20:54:59,541 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 20:55:02,332 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 21:02:31,234 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 21:02:31,239 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:02:31,245 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:02:31,252 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:02:31,263 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:02:32,879 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 21:02:33,392 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 21:02:33,914 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 21:02:34,471 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 21:02:34,966 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 21:02:36,562 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:02:37,062 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 21:02:38,102 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 21:02:38,107 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 160, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-05-01 21:02:38,109 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 21:02:39,626 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:02:41,188 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:02:41,205 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 21:02:42,861 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:02:42,864 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 21:02:44,563 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:02:44,565 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-05-01 21:02:46,132 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:02:46,135 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 21:02:47,750 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:02:47,758 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 21:02:49,314 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:02:49,315 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 299, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-01 21:02:49,317 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 21:02:50,897 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:02:52,546 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:02:52,548 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 324, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 21:02:52,559 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 330, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 324, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 21:02:54,259 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 21:02:54,800 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 21:02:58,683 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (5932aeeb-f195-4153-bf2c-5b4ac87d8d76, 2025-05-01 21:02:58.682613+00, 2025-05-01 21:02:58.682628+00, 5, Great user!, 5048d650-9344-423e-afdf-b7c60751f832, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (5932aeeb-f195-4153-bf2c-5b4ac87d8d76, 2025-05-01 21:02:58.682613+00, 2025-05-01 21:02:58.682628+00, 5, Great user!, 5048d650-9344-423e-afdf-b7c60751f832, null, null).

2025-05-01 21:02:59,897 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 21:03:00,457 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 21:03:03,323 django.request WARNING  Bad Request: /api/v1/users/addresses/
2025-05-01 21:03:07,766 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 21:03:08,857 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 21:03:12,209 django.request WARNING  Unauthorized: /api/v1/auth/users/set_password/
2025-05-01 21:03:14,279 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 21:03:18,333 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 21:03:22,370 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 21:13:17,064 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 21:13:17,073 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:13:17,082 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:13:17,093 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:13:17,103 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:13:19,802 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 21:13:20,625 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-01 21:13:21,419 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 21:13:22,215 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 21:13:22,997 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-01 21:13:25,468 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:13:26,248 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 21:13:27,775 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 21:13:27,784 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 160, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-05-01 21:13:27,787 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-01 21:13:30,107 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:13:32,377 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:13:32,410 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 21:13:35,042 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:13:35,047 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 21:13:37,491 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:13:37,495 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-05-01 21:13:39,848 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:13:39,852 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-01 21:13:42,211 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:13:42,227 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 21:13:44,881 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:13:44,884 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 299, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-01 21:13:44,886 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-01 21:13:47,220 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:13:49,500 apps.users.utils INFO     Cookies set successfully
2025-05-01 21:13:49,505 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 324, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 21:13:49,523 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 330, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 324, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-01 21:13:51,900 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-01 21:13:52,738 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-01 21:13:58,408 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (ff0c8e97-2a64-4b82-914d-3f1c722fb238, 2025-05-01 21:13:58.407188+00, 2025-05-01 21:13:58.40721+00, 5, Great user!, 26f13057-8652-4543-8d17-702a7ecb0556, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (ff0c8e97-2a64-4b82-914d-3f1c722fb238, 2025-05-01 21:13:58.407188+00, 2025-05-01 21:13:58.40721+00, 5, Great user!, 26f13057-8652-4543-8d17-702a7ecb0556, null, null).

2025-05-01 21:14:00,158 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 21:14:01,007 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 21:14:11,422 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 21:14:12,997 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-01 21:14:17,641 django.request WARNING  Unauthorized: /api/v1/auth/users/set_password/
2025-05-01 21:14:19,991 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 21:14:24,094 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 21:14:28,090 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-01 21:16:45,990 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 21:16:46,003 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:16:46,018 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:16:46,036 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:16:46,053 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:16:47,855 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (71c8fd58-f84d-43df-8312-fb9b4be9a6f1, 2025-05-01 21:16:47.831337+00, 2025-05-01 21:16:47.831355+00, 5, Great user!, 0efb56a0-6ebc-429f-9081-641eb385ff82, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (71c8fd58-f84d-43df-8312-fb9b4be9a6f1, 2025-05-01 21:16:47.831337+00, 2025-05-01 21:16:47.831355+00, 5, Great user!, 0efb56a0-6ebc-429f-9081-641eb385ff82, null, null).

2025-05-01 21:16:49,421 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 21:16:50,184 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 21:18:13,047 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 21:18:15,363 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 21:18:30,539 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 21:18:30,550 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:18:30,560 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:18:30,570 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:18:30,581 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:18:33,086 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (a888d820-37ac-4dd9-b968-db3b56a9d6be, 2025-05-01 21:18:33.056079+00, 2025-05-01 21:18:33.056106+00, 5, Great user!, 52304e65-ced9-4b01-9cb2-317e7aa9ba2d, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (a888d820-37ac-4dd9-b968-db3b56a9d6be, 2025-05-01 21:18:33.056079+00, 2025-05-01 21:18:33.056106+00, 5, Great user!, 52304e65-ced9-4b01-9cb2-317e7aa9ba2d, null, null).

2025-05-01 21:18:34,711 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 21:18:35,582 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 21:18:37,286 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 21:18:38,087 django.request ERROR    Internal Server Error: /api/v1/users/store/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "user_id" of relation "user_stores" violates not-null constraint
DETAIL:  Failing row contains (fa0bbc2f-f5bd-4e87-baa8-63e9d04c7652, 2025-05-01 21:18:38.085523+00, 2025-05-01 21:18:38.085544+00, Test Store, , , , Test store description, 30 days return, Free shipping, https://teststore.com, null, t).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 364, in perform_create
    serializer.save(user=self.request.user)
    ^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "user_id" of relation "user_stores" violates not-null constraint
DETAIL:  Failing row contains (fa0bbc2f-f5bd-4e87-baa8-63e9d04c7652, 2025-05-01 21:18:38.085523+00, 2025-05-01 21:18:38.085544+00, Test Store, , , , Test store description, 30 days return, Free shipping, https://teststore.com, null, t).

2025-05-01 21:18:39,224 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 21:18:52,599 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 21:18:52,608 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:18:52,617 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:18:52,628 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:18:52,638 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:18:54,293 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "from_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (047a5289-6a55-49af-a731-e8dfddfdd225, 2025-05-01 21:18:54.280121+00, 2025-05-01 21:18:54.28014+00, 5, Great user!, null, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save()
    ~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "from_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (047a5289-6a55-49af-a731-e8dfddfdd225, 2025-05-01 21:18:54.280121+00, 2025-05-01 21:18:54.28014+00, 5, Great user!, null, null, null).

2025-05-01 21:18:55,889 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 21:18:56,744 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 21:19:14,591 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 21:19:16,555 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 21:20:15,211 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 21:20:15,222 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:20:15,233 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:20:15,249 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:20:15,266 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:20:17,058 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (ade74e4e-362e-499d-9828-8537bec9bafa, 2025-05-01 21:20:17.037531+00, 2025-05-01 21:20:17.03755+00, 5, Great user!, 1b4ea900-7ce6-46af-84a0-73da2bde5f9c, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (ade74e4e-362e-499d-9828-8537bec9bafa, 2025-05-01 21:20:17.037531+00, 2025-05-01 21:20:17.03755+00, 5, Great user!, 1b4ea900-7ce6-46af-84a0-73da2bde5f9c, null, null).

2025-05-01 21:20:18,583 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 21:20:19,366 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 21:22:27,524 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 21:22:29,419 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 21:22:38,218 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 21:22:38,229 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:22:38,239 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:22:38,250 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:22:38,259 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:22:39,786 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "transaction_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (809b5966-090e-4fdf-8bea-42c7dbc44265, 2025-05-01 21:22:39.771836+00, 2025-05-01 21:22:39.771854+00, 5, Great user!, 41017ea1-c5fc-4ef5-9f5a-7b0946d0c47c, 41017ea1-c5fc-4ef5-9f5a-7b0946d0c47c, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user, to_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "transaction_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (809b5966-090e-4fdf-8bea-42c7dbc44265, 2025-05-01 21:22:39.771836+00, 2025-05-01 21:22:39.771854+00, 5, Great user!, 41017ea1-c5fc-4ef5-9f5a-7b0946d0c47c, 41017ea1-c5fc-4ef5-9f5a-7b0946d0c47c, null).

2025-05-01 21:22:41,285 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 21:22:42,062 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 21:22:58,151 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-01 21:23:00,256 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 21:23:28,396 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 21:23:28,405 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:23:28,413 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:23:28,424 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:23:28,437 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:23:30,043 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (07c8dcee-fa0d-4416-af1d-5295604c8825, 2025-05-01 21:23:30.019334+00, 2025-05-01 21:23:30.01936+00, 5, Great user!, 6f22af7d-3574-446d-a85f-af79119e0ed2, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (07c8dcee-fa0d-4416-af1d-5295604c8825, 2025-05-01 21:23:30.019334+00, 2025-05-01 21:23:30.01936+00, 5, Great user!, 6f22af7d-3574-446d-a85f-af79119e0ed2, null, null).

2025-05-01 21:23:31,526 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 21:23:32,332 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 21:23:53,352 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (6e2d4bc6-bd7c-4dea-aace-4db48e6153d6, 2025-05-01 21:23:53.335142+00, 2025-05-01 21:23:53.335162+00, 5, Great user!, bc02adb3-1475-4e78-b9f5-c606871496e5, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (6e2d4bc6-bd7c-4dea-aace-4db48e6153d6, 2025-05-01 21:23:53.335142+00, 2025-05-01 21:23:53.335162+00, 5, Great user!, bc02adb3-1475-4e78-b9f5-c606871496e5, null, null).

2025-05-01 21:25:04,083 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (28924e4f-d93d-48cd-b0b9-7849472c77c5, 2025-05-01 21:25:04.058636+00, 2025-05-01 21:25:04.058656+00, 5, Great user!, be80b895-437e-4d0a-b42b-368851ceeb97, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (28924e4f-d93d-48cd-b0b9-7849472c77c5, 2025-05-01 21:25:04.058636+00, 2025-05-01 21:25:04.058656+00, 5, Great user!, be80b895-437e-4d0a-b42b-368851ceeb97, null, null).

2025-05-01 21:34:41,823 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/models/escrow_transactions.py changed, reloading.
2025-05-01 21:34:44,220 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 21:37:42,240 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 21:37:42,259 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:37:42,277 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:37:42,292 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:37:42,305 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:42:15,203 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/migrations/0002_initial.py changed, reloading.
2025-05-01 21:42:17,497 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 21:42:48,711 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 21:42:48,721 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:42:48,732 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:42:48,744 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:42:48,757 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:42:50,450 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (2af0e046-4637-4094-940e-9a45796d6be3, 2025-05-01 21:42:50.407526+00, 2025-05-01 21:42:50.407551+00, 5, Great user!, d3f2f4e0-a04c-467d-a8ba-c763699d1ea5, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (2af0e046-4637-4094-940e-9a45796d6be3, 2025-05-01 21:42:50.407526+00, 2025-05-01 21:42:50.407551+00, 5, Great user!, d3f2f4e0-a04c-467d-a8ba-c763699d1ea5, null, null).

2025-05-01 21:42:52,054 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 21:42:52,977 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 21:45:05,733 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (7e6ad8b5-ad70-4dee-95c4-74b8f0402324, 2025-05-01 21:45:05.694729+00, 2025-05-01 21:45:05.694762+00, 5, Great user!, 5ae211bb-299b-4741-88fb-cb08ba3e1d50, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (7e6ad8b5-ad70-4dee-95c4-74b8f0402324, 2025-05-01 21:45:05.694729+00, 2025-05-01 21:45:05.694762+00, 5, Great user!, 5ae211bb-299b-4741-88fb-cb08ba3e1d50, null, null).

2025-05-01 21:46:41,210 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (95b180a5-28b0-4306-92e8-3e132d127d45, 2025-05-01 21:46:41.18745+00, 2025-05-01 21:46:41.187473+00, 5, Great user!, c1686602-fa5a-4ea8-b958-ea14ef0eedb4, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (95b180a5-28b0-4306-92e8-3e132d127d45, 2025-05-01 21:46:41.18745+00, 2025-05-01 21:46:41.187473+00, 5, Great user!, c1686602-fa5a-4ea8-b958-ea14ef0eedb4, null, null).

2025-05-01 21:59:33,097 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 21:59:33,107 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:59:33,116 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:59:33,128 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 21:59:33,138 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:01:55,625 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 22:01:55,635 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:01:55,645 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:01:55,658 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:01:55,671 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:01:58,195 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (6d4000d8-a658-48ef-bcc6-38f4b322ccee, 2025-05-01 22:01:58.171341+00, 2025-05-01 22:01:58.171361+00, 5, Great user!, 1d3dfda5-6e70-4653-9ab3-2a39400b9ac7, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (6d4000d8-a658-48ef-bcc6-38f4b322ccee, 2025-05-01 22:01:58.171341+00, 2025-05-01 22:01:58.171361+00, 5, Great user!, 1d3dfda5-6e70-4653-9ab3-2a39400b9ac7, null, null).

2025-05-01 22:02:00,368 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:02:01,878 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 22:06:14,838 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-01 22:06:17,251 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 22:06:31,118 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 22:06:31,127 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:06:31,137 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:06:31,148 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:06:31,159 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:06:33,644 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (aa9960aa-2787-4f7b-af43-c24cf83a0239, 2025-05-01 22:06:33.625017+00, 2025-05-01 22:06:33.625035+00, 5, Great user!, f8c50217-7af5-41f5-b967-ce2e2e7d0315, null, 5d98eee8-808d-4f54-bac7-74f4996c96df).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (aa9960aa-2787-4f7b-af43-c24cf83a0239, 2025-05-01 22:06:33.625017+00, 2025-05-01 22:06:33.625035+00, 5, Great user!, f8c50217-7af5-41f5-b967-ce2e2e7d0315, null, 5d98eee8-808d-4f54-bac7-74f4996c96df).

2025-05-01 22:06:35,993 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:06:37,729 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 22:08:35,426 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-01 22:08:37,641 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 22:08:47,828 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 22:08:47,837 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:08:47,847 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:08:47,857 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:08:47,869 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:08:50,186 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:08:51,906 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:08:53,502 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 22:09:02,135 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-01 22:09:03,864 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 22:10:04,207 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 22:10:04,218 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:10:04,228 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:10:04,241 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:10:04,260 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:10:06,807 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:10:08,524 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:10:10,145 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 22:12:08,893 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 22:12:08,902 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:12:08,910 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:12:08,921 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:12:08,932 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:12:11,301 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (7eb510f7-5bed-4401-8740-654241111352, 2025-05-01 22:12:11.276096+00, 2025-05-01 22:12:11.276113+00, 5, Great user!, ed4f062c-68aa-41c7-8f92-64d9dd6a8b57, null, 3faf1352-2916-4eb6-bbbb-7323cc29113e).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (7eb510f7-5bed-4401-8740-654241111352, 2025-05-01 22:12:11.276096+00, 2025-05-01 22:12:11.276113+00, 5, Great user!, ed4f062c-68aa-41c7-8f92-64d9dd6a8b57, null, 3faf1352-2916-4eb6-bbbb-7323cc29113e).

2025-05-01 22:12:13,489 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:12:15,016 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 22:13:10,455 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-01 22:13:13,066 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-01 22:15:03,350 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 22:15:03,360 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:15:03,371 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:15:03,382 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:15:03,394 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:15:05,899 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (1513dd5f-80df-4e73-b8cb-68c723274a50, 2025-05-01 22:15:05.869889+00, 2025-05-01 22:15:05.869914+00, 5, Great user!, 3d8fc59a-5e50-44e4-99c5-001f05308f4e, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (1513dd5f-80df-4e73-b8cb-68c723274a50, 2025-05-01 22:15:05.869889+00, 2025-05-01 22:15:05.869914+00, 5, Great user!, 3d8fc59a-5e50-44e4-99c5-001f05308f4e, null, null).

2025-05-01 22:15:08,494 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:15:10,179 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 22:21:37,770 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 22:21:37,779 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:21:37,789 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:21:37,799 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:21:37,809 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:21:40,257 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(
    ~~~~~~~~~~~~~~~^
        from_user=self.request.user, to_user=self.request.data.get("to_user")
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 543, in __init__
    _setattr(self, field.name, rel_obj)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/fields/related_descriptors.py", line 287, in __set__
    raise ValueError(
    ...<7 lines>...
    )
ValueError: Cannot assign "'d4b79fa8-e470-41d5-ac08-910f61de2534'": "UserRating.to_user" must be a "CustomUser" instance.
2025-05-01 22:21:42,279 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:21:43,953 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 22:22:59,185 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 22:22:59,195 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:22:59,204 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:22:59,214 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:22:59,225 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:23:02,012 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "transaction_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (fe30b0b2-2703-4a7e-806e-8b1d9d4c3c65, 2025-05-01 22:23:01.982122+00, 2025-05-01 22:23:01.982148+00, 5, Great user!, 868cc770-6587-4e4c-b8ee-bce8f933e0c5, 6e45094e-24bf-4042-823d-f8dd3b82bcb5, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 349, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "transaction_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (fe30b0b2-2703-4a7e-806e-8b1d9d4c3c65, 2025-05-01 22:23:01.982122+00, 2025-05-01 22:23:01.982148+00, 5, Great user!, 868cc770-6587-4e4c-b8ee-bce8f933e0c5, 6e45094e-24bf-4042-823d-f8dd3b82bcb5, null).

2025-05-01 22:23:04,320 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:23:05,960 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 22:31:07,720 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 22:31:07,729 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:31:07,738 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:31:07,747 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:31:07,759 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:31:10,746 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 357, in perform_create
    transaction = EscrowTransaction.objects.get(transaction_id)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 635, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1488, in build_filter
    arg, value = filter_expr
    ^^^^^^^^^^
ValueError: too many values to unpack (expected 2)
2025-05-01 22:31:13,092 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:31:15,755 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-01 22:31:44,395 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-01 22:31:44,408 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:31:44,419 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:31:44,429 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:31:44,439 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-01 22:31:46,990 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 357, in perform_create
    transaction = EscrowTransaction.objects.get(transaction_id)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 635, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1488, in build_filter
    arg, value = filter_expr
    ^^^^^^^^^^
ValueError: too many values to unpack (expected 2)
2025-05-01 22:31:49,144 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-01 22:31:50,738 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-02 09:37:48,616 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-02 09:37:48,622 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:37:48,628 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:37:48,636 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:37:48,643 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:37:50,511 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 444, in run_validation
    value = self.to_internal_value(data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 501, in to_internal_value
    validated_value = field.run_validation(primitive_value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/relations.py", line 155, in run_validation
    return super().run_validation(data)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 538, in run_validation
    value = self.to_internal_value(data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/relations.py", line 259, in to_internal_value
    return queryset.get(pk=data)
           ^^^^^^^^^^^^
AttributeError: 'function' object has no attribute 'get'
2025-05-02 09:37:52,073 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 444, in run_validation
    value = self.to_internal_value(data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 501, in to_internal_value
    validated_value = field.run_validation(primitive_value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/relations.py", line 155, in run_validation
    return super().run_validation(data)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 538, in run_validation
    value = self.to_internal_value(data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/relations.py", line 259, in to_internal_value
    return queryset.get(pk=data)
           ^^^^^^^^^^^^
AttributeError: 'function' object has no attribute 'get'
2025-05-02 09:37:53,463 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-02 09:38:55,417 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-02 09:38:55,423 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:38:55,429 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:38:55,436 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:38:55,444 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:38:57,185 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 444, in run_validation
    value = self.to_internal_value(data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 501, in to_internal_value
    validated_value = field.run_validation(primitive_value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/relations.py", line 155, in run_validation
    return super().run_validation(data)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 538, in run_validation
    value = self.to_internal_value(data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/relations.py", line 259, in to_internal_value
    return queryset.get(pk=data)
           ^^^^^^^^^^^^
AttributeError: 'function' object has no attribute 'get'
2025-05-02 09:38:58,658 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 18, in create
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 444, in run_validation
    value = self.to_internal_value(data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 501, in to_internal_value
    validated_value = field.run_validation(primitive_value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/relations.py", line 155, in run_validation
    return super().run_validation(data)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 538, in run_validation
    value = self.to_internal_value(data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/relations.py", line 259, in to_internal_value
    return queryset.get(pk=data)
           ^^^^^^^^^^^^
AttributeError: 'function' object has no attribute 'get'
2025-05-02 09:39:00,051 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-02 09:40:12,562 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-02 09:40:12,568 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:40:12,574 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:40:12,581 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:40:12,593 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:40:14,450 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (adc61fc9-724b-4438-9449-87367eec6409, 2025-05-02 09:40:14.434453+00, 2025-05-02 09:40:14.434467+00, 5, Great user!, 49d74a78-e1ac-4861-8a83-5e3090feff1a, null, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 359, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (adc61fc9-724b-4438-9449-87367eec6409, 2025-05-02 09:40:14.434453+00, 2025-05-02 09:40:14.434467+00, 5, Great user!, 49d74a78-e1ac-4861-8a83-5e3090feff1a, null, null).

2025-05-02 09:40:16,182 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-02 09:40:17,334 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-02 09:42:12,557 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-02 09:42:12,564 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:42:12,570 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:42:12,578 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:42:12,586 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:42:14,437 django.request ERROR    Internal Server Error: /api/v1/users/ratings/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (703fcfae-7fcc-46cb-ac12-f856a1d6a66f, 2025-05-02 09:42:14.422645+00, 2025-05-02 09:42:14.422658+00, 5, Great user!, 072753e7-0986-4faa-87d2-85fd3a9a3713, null, 26ea5734-c8eb-43c4-a060-0b78ef66464d).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/views.py", line 359, in perform_create
    serializer.save(from_user=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "to_user_id" of relation "user_ratings" violates not-null constraint
DETAIL:  Failing row contains (703fcfae-7fcc-46cb-ac12-f856a1d6a66f, 2025-05-02 09:42:14.422645+00, 2025-05-02 09:42:14.422658+00, 5, Great user!, 072753e7-0986-4faa-87d2-85fd3a9a3713, null, 26ea5734-c8eb-43c4-a060-0b78ef66464d).

2025-05-02 09:42:16,154 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-02 09:42:17,335 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-02 09:42:54,803 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-02 09:42:54,809 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:42:54,815 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:42:54,822 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:42:54,831 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:42:57,914 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-02 09:42:59,090 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-02 09:44:25,450 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-02 09:44:42,071 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 09:44:46,320 django.request WARNING  Not Found: /api/v1/auth/userss
2025-05-02 09:45:11,690 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-02 09:45:11,700 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:45:11,710 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:45:11,724 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:45:11,733 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 09:45:14,361 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-02 09:45:15,311 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-02 09:45:16,208 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-02 09:45:17,113 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-02 09:45:17,967 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-02 09:45:20,586 apps.users.utils INFO     Cookies set successfully
2025-05-02 09:45:21,430 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-02 09:45:23,139 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-02 09:45:23,148 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 164, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-05-02 09:45:23,151 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-02 09:45:25,828 apps.users.utils INFO     Cookies set successfully
2025-05-02 09:45:27,883 apps.users.utils INFO     Cookies set successfully
2025-05-02 09:45:27,904 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 09:45:29,964 apps.users.utils INFO     Cookies set successfully
2025-05-02 09:45:29,967 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 09:45:31,913 apps.users.utils INFO     Cookies set successfully
2025-05-02 09:45:31,917 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-05-02 09:45:34,104 apps.users.utils INFO     Cookies set successfully
2025-05-02 09:45:34,108 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 09:45:36,672 apps.users.utils INFO     Cookies set successfully
2025-05-02 09:45:36,684 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-02 09:45:39,309 apps.users.utils INFO     Cookies set successfully
2025-05-02 09:45:39,311 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 303, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-02 09:45:39,313 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-02 09:45:41,854 apps.users.utils INFO     Cookies set successfully
2025-05-02 09:45:44,359 apps.users.utils INFO     Cookies set successfully
2025-05-02 09:45:44,363 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 328, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-02 09:45:44,380 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 334, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 328, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-02 09:45:47,057 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-02 09:45:47,840 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 09:45:56,074 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-02 09:45:57,388 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-02 09:46:06,282 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-02 09:46:07,747 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-02 09:46:12,683 django.request WARNING  Unauthorized: /api/v1/auth/users/set_password/
2025-05-02 09:46:15,513 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-02 09:46:19,603 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-02 09:46:23,594 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-02 15:22:16,759 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 15:22:16,808 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 15:22:17,876 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 15:28:32,791 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 15:28:32,837 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 15:32:43,602 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 15:32:43,641 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:26:03,639 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:26:03,924 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:31:54,750 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:31:54,784 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:31:55,460 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:31:56,541 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:31:58,594 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:02,444 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:02,504 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:32:02,747 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:03,844 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:05,892 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:09,929 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:09,956 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:32:10,098 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:11,183 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:13,246 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:17,291 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:17,323 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:32:17,521 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:18,616 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:20,659 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:24,693 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:24,726 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:32:24,883 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:25,965 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:28,056 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:32,111 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:32,136 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:32:32,276 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:33,361 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:32:35,396 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:33:00,072 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:33:00,304 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:33:00,919 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:33:01,998 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:33:04,045 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:33:08,088 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:33:08,114 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:33:08,280 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:33:09,968 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:33:12,041 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:41:06,108 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:41:06,370 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:41:06,784 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:41:10,579 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI2NTcwLCJpYXQiOjE3NDYyMjU2NzAsImp0aSI6ImM3Y2YyYjQ3YjYyODRjMjM5ZTJjZmQyYjgwZjU3MWZlIiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9.CGmOe4OKotcCm-YGxp8AzvQUVgNKR-I3qx-VtPDe_Iw', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjA3MCwiaWF0IjoxNzQ2MjI1NjcwLCJqdGkiOiIxODU4ODQxNjQzODc0NjNiYTgwNjE3ODg3N2I0YTg3OSIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.0_KKz50810EVeAUzTOjvYgAbV7_d_MWzTGW1kzri8Y8', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 22:41:10,581 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI2NTcwLCJpYXQiOjE3NDYyMjU2NzAsImp0aSI6ImM3Y2YyYjQ3YjYyODRjMjM5ZTJjZmQyYjgwZjU3MWZlIiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9.CGmOe4OKotcCm-YGxp8AzvQUVgNKR-I3qx-VtPDe_Iw', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjA3MCwiaWF0IjoxNzQ2MjI1NjcwLCJqdGkiOiIxODU4ODQxNjQzODc0NjNiYTgwNjE3ODg3N2I0YTg3OSIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.0_KKz50810EVeAUzTOjvYgAbV7_d_MWzTGW1kzri8Y8', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 22:41:10,582 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-02 22:41:10,630 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI2NTcwLCJpYXQiOjE3NDYyMjU2NzAsImp0aSI6ImM3Y2YyYjQ3YjYyODRjMjM5ZTJjZmQyYjgwZjU3MWZlIiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9.CGmOe4OKotcCm-YGxp8AzvQUVgNKR-I3qx-VtPDe_Iw', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjA3MCwiaWF0IjoxNzQ2MjI1NjcwLCJqdGkiOiIxODU4ODQxNjQzODc0NjNiYTgwNjE3ODg3N2I0YTg3OSIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.0_KKz50810EVeAUzTOjvYgAbV7_d_MWzTGW1kzri8Y8'}
2025-05-02 22:41:10,647 apps.users.utils INFO     Cookies set successfully
2025-05-02 22:41:10,649 apps.users.views INFO     Final response data: {'id': '5bf3651c-b62a-4892-8083-ef78001f0dfb', 'email': 'mustaphajajjage@gmail.com', 'first_name': '', 'last_name': '', 'user_type': None, 'verification_status': 'VERIFIED', 'profile': {'id': '37d4b4cd-b878-43e7-9c63-07ce69d49d2b', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_5bf3651c-b62a-4892-8083-ef78001f0dfb.jpg'}}
2025-05-02 22:53:17,716 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:17,900 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:53:18,456 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:19,495 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:21,524 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:25,571 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:25,598 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:53:25,776 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:27,513 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:27,573 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:53:27,849 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:28,915 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:41,869 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:42,060 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:53:43,434 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:44,573 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:53:44,792 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3MzI0LCJpYXQiOjE3NDYyMjY0MjQsImp0aSI6IjNjOTQ2ODQwZGNiODRkMWNiMzNkYzEwNjZjOGM1YzM3IiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9._X6kShTI73MO7_wHkl8EPS5EXpzrf0TOK_pbOXtHbtk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjgyNCwiaWF0IjoxNzQ2MjI2NDI0LCJqdGkiOiI1MTIwNjgwZGJiMWU0YzdjYTA3ZDI5ZTY1M2MwN2NiZiIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.J4s49D-oI0mNSM-YaNSzAzoPG9wK8XVTV1uGVRy3FPY', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 22:53:44,793 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3MzI0LCJpYXQiOjE3NDYyMjY0MjQsImp0aSI6IjNjOTQ2ODQwZGNiODRkMWNiMzNkYzEwNjZjOGM1YzM3IiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9._X6kShTI73MO7_wHkl8EPS5EXpzrf0TOK_pbOXtHbtk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjgyNCwiaWF0IjoxNzQ2MjI2NDI0LCJqdGkiOiI1MTIwNjgwZGJiMWU0YzdjYTA3ZDI5ZTY1M2MwN2NiZiIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.J4s49D-oI0mNSM-YaNSzAzoPG9wK8XVTV1uGVRy3FPY', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 22:53:44,794 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-02 22:53:44,821 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3MzI0LCJpYXQiOjE3NDYyMjY0MjQsImp0aSI6IjNjOTQ2ODQwZGNiODRkMWNiMzNkYzEwNjZjOGM1YzM3IiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9._X6kShTI73MO7_wHkl8EPS5EXpzrf0TOK_pbOXtHbtk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjgyNCwiaWF0IjoxNzQ2MjI2NDI0LCJqdGkiOiI1MTIwNjgwZGJiMWU0YzdjYTA3ZDI5ZTY1M2MwN2NiZiIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.J4s49D-oI0mNSM-YaNSzAzoPG9wK8XVTV1uGVRy3FPY'}
2025-05-02 22:53:44,826 apps.users.utils INFO     Cookies set successfully
2025-05-02 22:53:44,826 apps.users.views INFO     Final response data: {'id': '5bf3651c-b62a-4892-8083-ef78001f0dfb', 'email': 'mustaphajajjage@gmail.com', 'first_name': '', 'last_name': '', 'user_type': None, 'verification_status': 'VERIFIED', 'profile': {'id': '37d4b4cd-b878-43e7-9c63-07ce69d49d2b', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_5bf3651c-b62a-4892-8083-ef78001f0dfb.jpg'}}
2025-05-02 22:54:51,643 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:54:51,713 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:54:51,993 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:54:53,068 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:54:55,156 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:54:58,696 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:54:58,798 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:54:58,972 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:55:00,078 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:55:00,117 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3NDAwLCJpYXQiOjE3NDYyMjY1MDAsImp0aSI6IjY0NWUyYjljNmQ1MjRmNDJhYzc5YmQ1MzA5MTVkNTIwIiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9.j8AGIUE3TxTbnFjcJEd-4C__ZVsVgBrVB2E3gT2pY2E', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjkwMCwiaWF0IjoxNzQ2MjI2NTAwLCJqdGkiOiI4OWNlMjIyZDA5ZDY0OGQzYTg5ZWRmOTUzNDJiOGJlMyIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.umyX7rC4I7GSw0fL7JPh_7xTzank7Mkd2r4HeK28AxA', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 22:55:00,117 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3NDAwLCJpYXQiOjE3NDYyMjY1MDAsImp0aSI6IjY0NWUyYjljNmQ1MjRmNDJhYzc5YmQ1MzA5MTVkNTIwIiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9.j8AGIUE3TxTbnFjcJEd-4C__ZVsVgBrVB2E3gT2pY2E', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjkwMCwiaWF0IjoxNzQ2MjI2NTAwLCJqdGkiOiI4OWNlMjIyZDA5ZDY0OGQzYTg5ZWRmOTUzNDJiOGJlMyIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.umyX7rC4I7GSw0fL7JPh_7xTzank7Mkd2r4HeK28AxA', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 22:55:00,117 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-02 22:55:00,124 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3NDAwLCJpYXQiOjE3NDYyMjY1MDAsImp0aSI6IjY0NWUyYjljNmQ1MjRmNDJhYzc5YmQ1MzA5MTVkNTIwIiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9.j8AGIUE3TxTbnFjcJEd-4C__ZVsVgBrVB2E3gT2pY2E', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjkwMCwiaWF0IjoxNzQ2MjI2NTAwLCJqdGkiOiI4OWNlMjIyZDA5ZDY0OGQzYTg5ZWRmOTUzNDJiOGJlMyIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.umyX7rC4I7GSw0fL7JPh_7xTzank7Mkd2r4HeK28AxA'}
2025-05-02 22:55:00,126 apps.users.utils INFO     Cookies set successfully
2025-05-02 22:55:00,126 apps.users.views INFO     Final response data: {'id': '5bf3651c-b62a-4892-8083-ef78001f0dfb', 'email': 'mustaphajajjage@gmail.com', 'first_name': '', 'last_name': '', 'user_type': 'SELLER', 'verification_status': 'VERIFIED', 'profile': {'id': '37d4b4cd-b878-43e7-9c63-07ce69d49d2b', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_5bf3651c-b62a-4892-8083-ef78001f0dfb.jpg'}}
2025-05-02 22:55:13,923 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:55:14,013 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:55:14,233 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:55:15,358 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:55:16,660 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:55:16,755 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:55:16,939 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:55:17,929 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3NDE3LCJpYXQiOjE3NDYyMjY1MTcsImp0aSI6ImJhMmQ3NTBkZjRkNjRmMmI5MDA3Mzc4NzhhYjdlYTY2IiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9.sipugPPyJZgAcQ2sgdkO1ilbwvGXz3fL5I-hoj_TeUU', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjkxNywiaWF0IjoxNzQ2MjI2NTE3LCJqdGkiOiI0NGE0YjUwMmVkOTk0ZmE4YWQ5OGM5ZDUwZDcyNWJmYSIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.s9Mo8-r5VYDoa8rDNp7W9dH5fq214P3FTnpEkNnxzmc', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 22:55:17,929 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3NDE3LCJpYXQiOjE3NDYyMjY1MTcsImp0aSI6ImJhMmQ3NTBkZjRkNjRmMmI5MDA3Mzc4NzhhYjdlYTY2IiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9.sipugPPyJZgAcQ2sgdkO1ilbwvGXz3fL5I-hoj_TeUU', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjkxNywiaWF0IjoxNzQ2MjI2NTE3LCJqdGkiOiI0NGE0YjUwMmVkOTk0ZmE4YWQ5OGM5ZDUwZDcyNWJmYSIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.s9Mo8-r5VYDoa8rDNp7W9dH5fq214P3FTnpEkNnxzmc', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 22:55:17,929 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-02 22:55:17,937 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3NDE3LCJpYXQiOjE3NDYyMjY1MTcsImp0aSI6ImJhMmQ3NTBkZjRkNjRmMmI5MDA3Mzc4NzhhYjdlYTY2IiwidXNlcl9pZCI6IjViZjM2NTFjLWI2MmEtNDg5Mi04MDgzLWVmNzgwMDFmMGRmYiJ9.sipugPPyJZgAcQ2sgdkO1ilbwvGXz3fL5I-hoj_TeUU', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMjkxNywiaWF0IjoxNzQ2MjI2NTE3LCJqdGkiOiI0NGE0YjUwMmVkOTk0ZmE4YWQ5OGM5ZDUwZDcyNWJmYSIsInVzZXJfaWQiOiI1YmYzNjUxYy1iNjJhLTQ4OTItODA4My1lZjc4MDAxZjBkZmIifQ.s9Mo8-r5VYDoa8rDNp7W9dH5fq214P3FTnpEkNnxzmc'}
2025-05-02 22:55:17,941 apps.users.utils INFO     Cookies set successfully
2025-05-02 22:55:17,942 apps.users.views INFO     Final response data: {'id': '5bf3651c-b62a-4892-8083-ef78001f0dfb', 'email': 'mustaphajajjage@gmail.com', 'first_name': '', 'last_name': '', 'user_type': 'SELLER', 'verification_status': 'VERIFIED', 'profile': {'id': '37d4b4cd-b878-43e7-9c63-07ce69d49d2b', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_5bf3651c-b62a-4892-8083-ef78001f0dfb.jpg'}}
2025-05-02 22:56:49,657 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:56:49,782 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:56:49,962 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:56:51,029 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:57:49,478 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:57:49,521 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:57:49,695 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:57:50,785 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:57:52,814 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:57:56,844 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:57:56,879 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:57:57,028 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:57:58,113 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:02,042 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:02,102 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:58:02,259 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:03,378 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:05,424 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:09,463 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:09,489 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:58:09,652 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:13,895 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:13,935 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:58:14,066 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:15,161 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:17,204 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:46,238 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:46,291 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:58:46,447 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:47,531 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:58:48,142 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3NjI4LCJpYXQiOjE3NDYyMjY3MjgsImp0aSI6IjE2NWYwMGZkNWFkMjQ2OGViYjM1MzI3OWU3MDkxZmIyIiwidXNlcl9pZCI6IjFlMGIzODIwLTYxOTEtNDc1OS1hNGUzLTNiZjRhNDU5NzExMiJ9.ZNRoT7_aF6uKyC9dGDKcCgu4RQT527xBZ5M4IDuljPI', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMzEyOCwiaWF0IjoxNzQ2MjI2NzI4LCJqdGkiOiIzNzg2OTZhYjRkODA0ODQ0OTYwNGJlMzFkZjA0YzAzYiIsInVzZXJfaWQiOiIxZTBiMzgyMC02MTkxLTQ3NTktYTRlMy0zYmY0YTQ1OTcxMTIifQ.SfATQ45OyaSUyLti8HC9Va8tmUGeDY_d4ydUaeDZYQg', 'user': 'jajjagesheka@gmail.com'}
2025-05-02 22:58:48,142 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3NjI4LCJpYXQiOjE3NDYyMjY3MjgsImp0aSI6IjE2NWYwMGZkNWFkMjQ2OGViYjM1MzI3OWU3MDkxZmIyIiwidXNlcl9pZCI6IjFlMGIzODIwLTYxOTEtNDc1OS1hNGUzLTNiZjRhNDU5NzExMiJ9.ZNRoT7_aF6uKyC9dGDKcCgu4RQT527xBZ5M4IDuljPI', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMzEyOCwiaWF0IjoxNzQ2MjI2NzI4LCJqdGkiOiIzNzg2OTZhYjRkODA0ODQ0OTYwNGJlMzFkZjA0YzAzYiIsInVzZXJfaWQiOiIxZTBiMzgyMC02MTkxLTQ3NTktYTRlMy0zYmY0YTQ1OTcxMTIifQ.SfATQ45OyaSUyLti8HC9Va8tmUGeDY_d4ydUaeDZYQg', 'user': 'jajjagesheka@gmail.com'}
2025-05-02 22:58:48,143 apps.users.views INFO     Found user email: jajjagesheka@gmail.com
2025-05-02 22:58:48,153 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI3NjI4LCJpYXQiOjE3NDYyMjY3MjgsImp0aSI6IjE2NWYwMGZkNWFkMjQ2OGViYjM1MzI3OWU3MDkxZmIyIiwidXNlcl9pZCI6IjFlMGIzODIwLTYxOTEtNDc1OS1hNGUzLTNiZjRhNDU5NzExMiJ9.ZNRoT7_aF6uKyC9dGDKcCgu4RQT527xBZ5M4IDuljPI', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMzEyOCwiaWF0IjoxNzQ2MjI2NzI4LCJqdGkiOiIzNzg2OTZhYjRkODA0ODQ0OTYwNGJlMzFkZjA0YzAzYiIsInVzZXJfaWQiOiIxZTBiMzgyMC02MTkxLTQ3NTktYTRlMy0zYmY0YTQ1OTcxMTIifQ.SfATQ45OyaSUyLti8HC9Va8tmUGeDY_d4ydUaeDZYQg'}
2025-05-02 22:58:48,156 apps.users.utils INFO     Cookies set successfully
2025-05-02 22:58:48,157 apps.users.views INFO     Final response data: {'id': '1e0b3820-6191-4759-a4e3-3bf4a4597112', 'email': 'jajjagesheka@gmail.com', 'first_name': '', 'last_name': '', 'user_type': None, 'verification_status': 'VERIFIED', 'profile': {'id': '262dba9a-c068-4e00-9dc4-48a38c10280d', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_1e0b3820-6191-4759-a4e3-3bf4a4597112.jpg'}}
2025-05-02 22:59:11,825 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:59:11,857 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 22:59:12,010 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 22:59:13,090 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:02:01,267 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:02:01,296 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:02:01,508 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:02:02,596 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:02:36,491 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:02:36,532 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:02:36,675 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:02:37,758 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:08:44,137 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/social_auth_pipeline.py changed, reloading.
2025-05-02 23:08:45,925 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-02 23:09:22,047 apps.core.views INFO     Ping request received from 127.0.0.1
2025-05-02 23:09:22,055 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 23:09:22,064 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 23:09:22,074 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 23:09:22,082 django.request WARNING  Method Not Allowed: /core/ping/
2025-05-02 23:09:23,149 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:23,269 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:09:23,470 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:24,384 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-02 23:09:25,007 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-02 23:09:25,636 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-02 23:09:26,229 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-02 23:09:26,845 django.request WARNING  Method Not Allowed: /api/v1/auth/users/
2025-05-02 23:09:28,747 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:09:29,364 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-02 23:09:30,642 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-02 23:09:30,649 apps.users.views ERROR    Token generation failed: Token generation failed
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 164, in post
    response = super().post(request, *args, **kwargs)
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.TokenError: Token generation failed
2025-05-02 23:09:30,653 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-02 23:09:32,349 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:32,407 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:09:32,580 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:32,750 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:09:33,662 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:34,760 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:09:34,782 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:09:35,714 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:36,860 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:09:36,862 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:09:38,832 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:09:38,836 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-05-02 23:09:39,760 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:39,801 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:09:39,996 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:41,090 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:09:41,093 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:09:43,223 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:09:43,232 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-02 23:09:45,494 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:09:45,497 apps.users.views ERROR    Token verification error: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 303, in post
    return super().post(request, *args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Invalid token', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-02 23:09:45,500 django.request WARNING  Unauthorized: /api/v1/auth/verify/
2025-05-02 23:09:47,436 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:09:49,273 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:49,332 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:09:49,451 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:50,436 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:09:50,440 apps.users.views ERROR    Logout error: Logout error
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 328, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-02 23:09:50,461 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 334, in post
    return Response(
        {"error": "Logout failed"}, status=status.HTTP_400_BAD_REQUEST
    )
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
  File "/workspaces/safetrade-backend/apps/users/views.py", line 328, in post
    response = Response({"detail": "Successfully logged out."})
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1167, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1171, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/unittest/mock.py", line 1226, in _execute_mock_call
    raise effect
Exception: Logout error
2025-05-02 23:09:50,545 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:52,801 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-02 23:09:53,043 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:53,637 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:57,101 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:57,168 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:09:57,427 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:09:58,502 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:10:00,743 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:10:05,197 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:10:05,631 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:10:06,092 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:10:13,603 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:10:13,851 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:10:14,182 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:10:19,044 django.request WARNING  Bad Request: /api/v1/users/ratings/
2025-05-02 23:10:21,309 django.request WARNING  Unauthorized: /api/v1/users/ratings/
2025-05-02 23:10:21,584 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:10:21,726 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:10:21,898 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:10:23,015 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:10:27,076 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:10:27,147 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:10:27,364 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:10:33,531 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-02 23:10:34,728 django.request WARNING  Bad Request: /api/v1/auth/users/reset_password_confirm/
2025-05-02 23:10:38,224 django.request WARNING  Unauthorized: /api/v1/auth/users/set_password/
2025-05-02 23:10:40,043 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-02 23:10:43,639 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-02 23:10:47,089 django.request WARNING  Bad Request: /api/v1/auth/users/set_password/
2025-05-02 23:11:09,270 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:11:09,306 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:11:09,470 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:11:10,551 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:11:14,044 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:11:18,449 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:11:18,515 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:11:18,699 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:11:19,818 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:11:21,060 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI4MzgxLCJpYXQiOjE3NDYyMjc0ODEsImp0aSI6ImQyMDc5ODFlNWE1MTRmNWM5ZWQyZjJkYjhlZTdjZDQwIiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.ILPketLJo9RJ_DyLIFzkCg6mlKYnAQCncUTDJOzExVw', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMzg4MSwiaWF0IjoxNzQ2MjI3NDgxLCJqdGkiOiIwNmY1MDRjM2EzYTU0OGUyYWM0YmRhMjgxYWU4NDk0MCIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.go2sxCOVr2LbA5WEt08y2VbUWcD0Ylb8lpTfXDvlBMA', 'user': 'mussajajjage@gmail.com'}
2025-05-02 23:11:21,064 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI4MzgxLCJpYXQiOjE3NDYyMjc0ODEsImp0aSI6ImQyMDc5ODFlNWE1MTRmNWM5ZWQyZjJkYjhlZTdjZDQwIiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.ILPketLJo9RJ_DyLIFzkCg6mlKYnAQCncUTDJOzExVw', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMzg4MSwiaWF0IjoxNzQ2MjI3NDgxLCJqdGkiOiIwNmY1MDRjM2EzYTU0OGUyYWM0YmRhMjgxYWU4NDk0MCIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.go2sxCOVr2LbA5WEt08y2VbUWcD0Ylb8lpTfXDvlBMA', 'user': 'mussajajjage@gmail.com'}
2025-05-02 23:11:21,069 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-02 23:11:21,120 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI4MzgxLCJpYXQiOjE3NDYyMjc0ODEsImp0aSI6ImQyMDc5ODFlNWE1MTRmNWM5ZWQyZjJkYjhlZTdjZDQwIiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.ILPketLJo9RJ_DyLIFzkCg6mlKYnAQCncUTDJOzExVw', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxMzg4MSwiaWF0IjoxNzQ2MjI3NDgxLCJqdGkiOiIwNmY1MDRjM2EzYTU0OGUyYWM0YmRhMjgxYWU4NDk0MCIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.go2sxCOVr2LbA5WEt08y2VbUWcD0Ylb8lpTfXDvlBMA'}
2025-05-02 23:11:21,125 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:11:21,126 apps.users.views INFO     Final response data: {'id': 'b4c29a6d-8bbc-4893-81fa-7ba2cbd3011a', 'email': 'mussajajjage@gmail.com', 'first_name': '', 'last_name': '', 'user_type': None, 'verification_status': 'VERIFIED', 'profile': {'id': '2bcdabdb-23e0-4da8-8b5f-c596c6d48c77', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_b4c29a6d-8bbc-4893-81fa-7ba2cbd3011a.jpg'}}
2025-05-02 23:11:33,204 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:11:33,233 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:11:33,400 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:11:35,305 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:13:00,851 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:13:00,876 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:13:01,069 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:14:10,605 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/social_auth_pipeline.py changed, reloading.
2025-05-02 23:14:12,062 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-02 23:16:36,861 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:16:36,876 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:16:36,990 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:16:37,439 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:16:46,641 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:16:46,670 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:16:46,859 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:16:47,931 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:17:12,867 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:17:12,921 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:17:13,122 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:17:14,219 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:17:16,343 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:17:20,446 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:17:20,570 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:17:20,773 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:17:21,894 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:18,830 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:18,894 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:18:19,079 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:20,220 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:22,268 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:26,327 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:26,396 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:18:26,628 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:27,734 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:29,795 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:33,835 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:33,876 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:18:34,139 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:35,180 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:37,224 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:41,892 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:42,006 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:18:42,182 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:43,276 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:45,316 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:49,352 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:49,383 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:18:49,555 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:50,647 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:53,165 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:57,212 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:57,253 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:18:57,459 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:18:58,575 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:00,710 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:07,665 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:07,922 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:19:08,403 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:09,473 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:12,637 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:21,304 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:21,430 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:19:21,607 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:23,246 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:23,450 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:23,600 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:19:23,847 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:37,089 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:37,218 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:37,270 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:19:37,341 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:19:37,702 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:37,871 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:19:43,587 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-02 23:19:48,238 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-02 23:20:36,301 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:20:36,332 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:20:36,418 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:20:36,478 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:20:36,878 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:20:36,926 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:20:40,529 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-02 23:20:44,679 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-02 23:20:56,475 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:20:56,704 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:20:57,296 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:20:58,753 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:01,239 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:18,727 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:19,058 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:21:19,427 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:20,556 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:22,371 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI4OTgyLCJpYXQiOjE3NDYyMjgwODIsImp0aSI6IjA3NGYxNTRkZWM2NzQxMWQ5YzI4N2FiZjA0ZDc1MDRkIiwidXNlcl9pZCI6IjE4MDAyMjVkLWViY2MtNGQyMy05YmZjLTIzNmExYjUxODViNyJ9.YK6P_SQPCKqlgnf2_WqFo2RaUdi2knCpvI6CpH0uRpA', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDQ4MiwiaWF0IjoxNzQ2MjI4MDgyLCJqdGkiOiI4OWQzZGRkNDYwZjY0Yzk2OTVjNWVmYTBhNjFmZTAxMyIsInVzZXJfaWQiOiIxODAwMjI1ZC1lYmNjLTRkMjMtOWJmYy0yMzZhMWI1MTg1YjcifQ.z_U2PbqSqIWAT1tytahImkO5Zp1KGqX81nX4ccuwjfw', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 23:21:22,371 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI4OTgyLCJpYXQiOjE3NDYyMjgwODIsImp0aSI6IjA3NGYxNTRkZWM2NzQxMWQ5YzI4N2FiZjA0ZDc1MDRkIiwidXNlcl9pZCI6IjE4MDAyMjVkLWViY2MtNGQyMy05YmZjLTIzNmExYjUxODViNyJ9.YK6P_SQPCKqlgnf2_WqFo2RaUdi2knCpvI6CpH0uRpA', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDQ4MiwiaWF0IjoxNzQ2MjI4MDgyLCJqdGkiOiI4OWQzZGRkNDYwZjY0Yzk2OTVjNWVmYTBhNjFmZTAxMyIsInVzZXJfaWQiOiIxODAwMjI1ZC1lYmNjLTRkMjMtOWJmYy0yMzZhMWI1MTg1YjcifQ.z_U2PbqSqIWAT1tytahImkO5Zp1KGqX81nX4ccuwjfw', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 23:21:22,372 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-02 23:21:22,385 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI4OTgyLCJpYXQiOjE3NDYyMjgwODIsImp0aSI6IjA3NGYxNTRkZWM2NzQxMWQ5YzI4N2FiZjA0ZDc1MDRkIiwidXNlcl9pZCI6IjE4MDAyMjVkLWViY2MtNGQyMy05YmZjLTIzNmExYjUxODViNyJ9.YK6P_SQPCKqlgnf2_WqFo2RaUdi2knCpvI6CpH0uRpA', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDQ4MiwiaWF0IjoxNzQ2MjI4MDgyLCJqdGkiOiI4OWQzZGRkNDYwZjY0Yzk2OTVjNWVmYTBhNjFmZTAxMyIsInVzZXJfaWQiOiIxODAwMjI1ZC1lYmNjLTRkMjMtOWJmYy0yMzZhMWI1MTg1YjcifQ.z_U2PbqSqIWAT1tytahImkO5Zp1KGqX81nX4ccuwjfw'}
2025-05-02 23:21:22,388 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:21:22,389 apps.users.views INFO     Final response data: {'id': '1800225d-ebcc-4d23-9bfc-236a1b5185b7', 'email': 'mustaphajajjage@gmail.com', 'first_name': '', 'last_name': '', 'user_type': None, 'verification_status': 'VERIFIED', 'profile': {'id': '691127a0-80f6-48b9-a7ff-3868523c7ac4', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_1800225d-ebcc-4d23-9bfc-236a1b5185b7.jpg'}}
2025-05-02 23:21:22,693 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:43,357 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:43,394 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:21:43,610 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:46,354 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:48,385 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:50,361 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:50,439 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:21:50,997 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:52,547 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:21:52,871 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MDEyLCJpYXQiOjE3NDYyMjgxMTIsImp0aSI6IjEyOWNhMTE3YWE1MjQ4NDNhZGNlNjBiMjZmNTU4NzdhIiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.-VKZo64MkH66Fuk8VmYPvhraVBf5GG3UNgsZuqCBPEU', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDUxMiwiaWF0IjoxNzQ2MjI4MTEyLCJqdGkiOiI2MzFmNmI4ODFiYWY0ODdhOWYxM2JmMGNkZjY0NTBhMyIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.dJjYKj-6lqWI5j7-msI6efgR1Dv9qla6F-FVdpw-gcg', 'user': 'mussajajjage@gmail.com'}
2025-05-02 23:21:52,871 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MDEyLCJpYXQiOjE3NDYyMjgxMTIsImp0aSI6IjEyOWNhMTE3YWE1MjQ4NDNhZGNlNjBiMjZmNTU4NzdhIiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.-VKZo64MkH66Fuk8VmYPvhraVBf5GG3UNgsZuqCBPEU', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDUxMiwiaWF0IjoxNzQ2MjI4MTEyLCJqdGkiOiI2MzFmNmI4ODFiYWY0ODdhOWYxM2JmMGNkZjY0NTBhMyIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.dJjYKj-6lqWI5j7-msI6efgR1Dv9qla6F-FVdpw-gcg', 'user': 'mussajajjage@gmail.com'}
2025-05-02 23:21:52,872 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-02 23:21:52,882 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MDEyLCJpYXQiOjE3NDYyMjgxMTIsImp0aSI6IjEyOWNhMTE3YWE1MjQ4NDNhZGNlNjBiMjZmNTU4NzdhIiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.-VKZo64MkH66Fuk8VmYPvhraVBf5GG3UNgsZuqCBPEU', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDUxMiwiaWF0IjoxNzQ2MjI4MTEyLCJqdGkiOiI2MzFmNmI4ODFiYWY0ODdhOWYxM2JmMGNkZjY0NTBhMyIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.dJjYKj-6lqWI5j7-msI6efgR1Dv9qla6F-FVdpw-gcg'}
2025-05-02 23:21:52,885 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:21:52,885 apps.users.views INFO     Final response data: {'id': 'b4c29a6d-8bbc-4893-81fa-7ba2cbd3011a', 'email': 'mussajajjage@gmail.com', 'first_name': '', 'last_name': '', 'user_type': 'SELLER', 'verification_status': 'VERIFIED', 'profile': {'id': '2bcdabdb-23e0-4da8-8b5f-c596c6d48c77', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_b4c29a6d-8bbc-4893-81fa-7ba2cbd3011a.jpg'}}
2025-05-02 23:22:19,389 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-02 23:22:22,797 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-02 23:22:31,687 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:22:31,769 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:22:31,950 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:22:33,403 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:22:36,776 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:22:36,894 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:22:37,235 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:22:38,347 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:22:38,860 apps.users.social_auth_pipeline INFO     Updated first name for user: mussajajjage@gmail.com
2025-05-02 23:22:38,860 apps.users.social_auth_pipeline INFO     Updated last name for user: mussajajjage@gmail.com
2025-05-02 23:22:38,860 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mussajajjage@gmail.com
2025-05-02 23:22:38,889 apps.users.social_auth_pipeline INFO     Saved user details for: mussajajjage@gmail.com
2025-05-02 23:22:38,890 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-02 23:22:38,890 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-02 23:22:39,011 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MDU4LCJpYXQiOjE3NDYyMjgxNTgsImp0aSI6IjRjOTAwMjE2ZTAyYjRkNWU4YTljMWI2OWUxMDliMGU1IiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.ojjOf1UhN1i2Ixg5u8i5M5O5xJQd7KFSGCeOKFWEq-U', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDU1OCwiaWF0IjoxNzQ2MjI4MTU4LCJqdGkiOiI4NzEwMGU3ZWJiMDE0MDNiYTQ4NGI3ZjFmODI3ZGU1NiIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.zckPM2LImPg5_83ncRD5ZpDntPOKOf2YlGnDtvW0DPw', 'user': 'mussajajjage@gmail.com'}
2025-05-02 23:22:39,012 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MDU4LCJpYXQiOjE3NDYyMjgxNTgsImp0aSI6IjRjOTAwMjE2ZTAyYjRkNWU4YTljMWI2OWUxMDliMGU1IiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.ojjOf1UhN1i2Ixg5u8i5M5O5xJQd7KFSGCeOKFWEq-U', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDU1OCwiaWF0IjoxNzQ2MjI4MTU4LCJqdGkiOiI4NzEwMGU3ZWJiMDE0MDNiYTQ4NGI3ZjFmODI3ZGU1NiIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.zckPM2LImPg5_83ncRD5ZpDntPOKOf2YlGnDtvW0DPw', 'user': 'mussajajjage@gmail.com'}
2025-05-02 23:22:39,012 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-02 23:22:39,033 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MDU4LCJpYXQiOjE3NDYyMjgxNTgsImp0aSI6IjRjOTAwMjE2ZTAyYjRkNWU4YTljMWI2OWUxMDliMGU1IiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.ojjOf1UhN1i2Ixg5u8i5M5O5xJQd7KFSGCeOKFWEq-U', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDU1OCwiaWF0IjoxNzQ2MjI4MTU4LCJqdGkiOiI4NzEwMGU3ZWJiMDE0MDNiYTQ4NGI3ZjFmODI3ZGU1NiIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.zckPM2LImPg5_83ncRD5ZpDntPOKOf2YlGnDtvW0DPw'}
2025-05-02 23:22:39,042 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:22:39,042 apps.users.views INFO     Final response data: {'id': 'b4c29a6d-8bbc-4893-81fa-7ba2cbd3011a', 'email': 'mussajajjage@gmail.com', 'first_name': 'Mustapha', 'last_name': 'Ibrahim', 'user_type': 'SELLER', 'verification_status': 'VERIFIED', 'profile': {'id': '2bcdabdb-23e0-4da8-8b5f-c596c6d48c77', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_b4c29a6d-8bbc-4893-81fa-7ba2cbd3011a.jpg'}}
2025-05-02 23:23:40,493 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:23:40,537 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:23:40,697 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:23:41,801 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:23:42,781 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:23:42,863 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:23:43,088 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:23:44,163 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:23:44,564 apps.users.social_auth_pipeline INFO     Updated first name for user: jajjagesheka@gmail.com
2025-05-02 23:23:44,564 apps.users.social_auth_pipeline INFO     Updated last name for user: jajjagesheka@gmail.com
2025-05-02 23:23:44,565 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: jajjagesheka@gmail.com
2025-05-02 23:23:44,572 apps.users.social_auth_pipeline INFO     Saved user details for: jajjagesheka@gmail.com
2025-05-02 23:23:44,572 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-02 23:23:44,572 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-02 23:23:44,583 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MTI0LCJpYXQiOjE3NDYyMjgyMjQsImp0aSI6ImU0ZGUwMjI1Mzg0MTQwYzk4YzMxNzgxZDY2YmU4Mzk3IiwidXNlcl9pZCI6IjFlMGIzODIwLTYxOTEtNDc1OS1hNGUzLTNiZjRhNDU5NzExMiJ9.hZo0a6-Ure1ECJQUoy28nAXmc9Plm33pzebD60YcHCY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDYyNCwiaWF0IjoxNzQ2MjI4MjI0LCJqdGkiOiJhMzUzMzg5MDA5NmQ0MGQ0OTgwZjE1NzkwN2M0NzAyYiIsInVzZXJfaWQiOiIxZTBiMzgyMC02MTkxLTQ3NTktYTRlMy0zYmY0YTQ1OTcxMTIifQ.DAP4fh29EzpTUzgGLx9WGVGx_AUuSPbVbDcNAelLVoY', 'user': 'jajjagesheka@gmail.com'}
2025-05-02 23:23:44,584 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MTI0LCJpYXQiOjE3NDYyMjgyMjQsImp0aSI6ImU0ZGUwMjI1Mzg0MTQwYzk4YzMxNzgxZDY2YmU4Mzk3IiwidXNlcl9pZCI6IjFlMGIzODIwLTYxOTEtNDc1OS1hNGUzLTNiZjRhNDU5NzExMiJ9.hZo0a6-Ure1ECJQUoy28nAXmc9Plm33pzebD60YcHCY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDYyNCwiaWF0IjoxNzQ2MjI4MjI0LCJqdGkiOiJhMzUzMzg5MDA5NmQ0MGQ0OTgwZjE1NzkwN2M0NzAyYiIsInVzZXJfaWQiOiIxZTBiMzgyMC02MTkxLTQ3NTktYTRlMy0zYmY0YTQ1OTcxMTIifQ.DAP4fh29EzpTUzgGLx9WGVGx_AUuSPbVbDcNAelLVoY', 'user': 'jajjagesheka@gmail.com'}
2025-05-02 23:23:44,584 apps.users.views INFO     Found user email: jajjagesheka@gmail.com
2025-05-02 23:23:44,593 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MTI0LCJpYXQiOjE3NDYyMjgyMjQsImp0aSI6ImU0ZGUwMjI1Mzg0MTQwYzk4YzMxNzgxZDY2YmU4Mzk3IiwidXNlcl9pZCI6IjFlMGIzODIwLTYxOTEtNDc1OS1hNGUzLTNiZjRhNDU5NzExMiJ9.hZo0a6-Ure1ECJQUoy28nAXmc9Plm33pzebD60YcHCY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDYyNCwiaWF0IjoxNzQ2MjI4MjI0LCJqdGkiOiJhMzUzMzg5MDA5NmQ0MGQ0OTgwZjE1NzkwN2M0NzAyYiIsInVzZXJfaWQiOiIxZTBiMzgyMC02MTkxLTQ3NTktYTRlMy0zYmY0YTQ1OTcxMTIifQ.DAP4fh29EzpTUzgGLx9WGVGx_AUuSPbVbDcNAelLVoY'}
2025-05-02 23:23:44,595 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:23:44,596 apps.users.views INFO     Final response data: {'id': '1e0b3820-6191-4759-a4e3-3bf4a4597112', 'email': 'jajjagesheka@gmail.com', 'first_name': 'Jajjage', 'last_name': 'Sheka', 'user_type': 'SELLER', 'verification_status': 'VERIFIED', 'profile': {'id': '262dba9a-c068-4e00-9dc4-48a38c10280d', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_1e0b3820-6191-4759-a4e3-3bf4a4597112.jpg'}}
2025-05-02 23:24:00,252 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:24:00,286 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:24:00,490 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:24:01,566 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:24:04,024 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:24:04,111 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:24:04,465 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:24:05,546 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:24:06,031 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-02 23:24:06,032 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-02 23:24:06,032 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-02 23:24:06,053 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-02 23:24:06,053 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-02 23:24:06,054 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-02 23:24:06,075 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MTQ2LCJpYXQiOjE3NDYyMjgyNDYsImp0aSI6ImJhZjAxY2Q5MGMxMjQ2NmU4NDEzZmY5ODdlMmMwZWYzIiwidXNlcl9pZCI6IjE4MDAyMjVkLWViY2MtNGQyMy05YmZjLTIzNmExYjUxODViNyJ9.kGa1vwk2jEIU9eogtWg1hRUGs0emZF8Y-57C47cMW8o', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDY0NiwiaWF0IjoxNzQ2MjI4MjQ2LCJqdGkiOiIzMGFjOTc4OWYwODg0ZWI1YjE3MDE2YTg5YWM3YWRlNCIsInVzZXJfaWQiOiIxODAwMjI1ZC1lYmNjLTRkMjMtOWJmYy0yMzZhMWI1MTg1YjcifQ.iHERsEhEjzQ2QMUg_i38VapZxeQhqbx1B_xOMLHbdnw', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 23:24:06,075 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MTQ2LCJpYXQiOjE3NDYyMjgyNDYsImp0aSI6ImJhZjAxY2Q5MGMxMjQ2NmU4NDEzZmY5ODdlMmMwZWYzIiwidXNlcl9pZCI6IjE4MDAyMjVkLWViY2MtNGQyMy05YmZjLTIzNmExYjUxODViNyJ9.kGa1vwk2jEIU9eogtWg1hRUGs0emZF8Y-57C47cMW8o', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDY0NiwiaWF0IjoxNzQ2MjI4MjQ2LCJqdGkiOiIzMGFjOTc4OWYwODg0ZWI1YjE3MDE2YTg5YWM3YWRlNCIsInVzZXJfaWQiOiIxODAwMjI1ZC1lYmNjLTRkMjMtOWJmYy0yMzZhMWI1MTg1YjcifQ.iHERsEhEjzQ2QMUg_i38VapZxeQhqbx1B_xOMLHbdnw', 'user': 'mustaphajajjage@gmail.com'}
2025-05-02 23:24:06,075 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-02 23:24:06,087 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjI5MTQ2LCJpYXQiOjE3NDYyMjgyNDYsImp0aSI6ImJhZjAxY2Q5MGMxMjQ2NmU4NDEzZmY5ODdlMmMwZWYzIiwidXNlcl9pZCI6IjE4MDAyMjVkLWViY2MtNGQyMy05YmZjLTIzNmExYjUxODViNyJ9.kGa1vwk2jEIU9eogtWg1hRUGs0emZF8Y-57C47cMW8o', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjMxNDY0NiwiaWF0IjoxNzQ2MjI4MjQ2LCJqdGkiOiIzMGFjOTc4OWYwODg0ZWI1YjE3MDE2YTg5YWM3YWRlNCIsInVzZXJfaWQiOiIxODAwMjI1ZC1lYmNjLTRkMjMtOWJmYy0yMzZhMWI1MTg1YjcifQ.iHERsEhEjzQ2QMUg_i38VapZxeQhqbx1B_xOMLHbdnw'}
2025-05-02 23:24:06,089 apps.users.utils INFO     Cookies set successfully
2025-05-02 23:24:06,090 apps.users.views INFO     Final response data: {'id': '1800225d-ebcc-4d23-9bfc-236a1b5185b7', 'email': 'mustaphajajjage@gmail.com', 'first_name': 'Mustapha', 'last_name': 'Ibrahim', 'user_type': 'SELLER', 'verification_status': 'VERIFIED', 'profile': {'id': '691127a0-80f6-48b9-a7ff-3868523c7ac4', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_1800225d-ebcc-4d23-9bfc-236a1b5185b7.jpg'}}
2025-05-02 23:27:05,824 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:06,075 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:27:06,377 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:13,281 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:13,303 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:27:13,450 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:14,540 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:28,766 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:28,793 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:27:28,945 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:30,068 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:32,100 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:40,424 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:40,463 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:27:40,635 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:44,373 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:46,410 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:46,428 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:27:46,561 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:52,657 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:52,714 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:27:52,891 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:27:54,006 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:28:19,546 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:28:19,569 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:28:19,750 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:28:22,895 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:28:31,603 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:28:31,646 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:28:31,799 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:28:32,899 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:28:58,538 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:28:58,561 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:28:58,728 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:28:59,825 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:01,851 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:05,869 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:05,889 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:29:06,041 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:07,134 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:09,580 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:13,600 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:13,624 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:29:13,755 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:14,838 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:16,870 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:21,345 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:21,365 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:29:21,516 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:22,596 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:24,625 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:29,083 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:29,102 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-02 23:29:29,250 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:30,345 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:32,388 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-02 23:29:35,060 apps.users.utils INFO     Cookies set successfully
2025-05-03 10:57:06,611 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 10:57:06,688 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 10:57:06,758 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:02:40,675 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:15,604 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:15,787 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:07:16,637 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:23,275 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:23,343 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:07:23,653 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:24,809 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:36,730 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:36,791 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:07:37,065 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:38,198 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:40,244 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:44,714 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:44,771 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:07:46,690 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:47,008 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:47,859 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:49,988 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:50,108 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:07:50,299 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:51,486 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:53,565 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:58,167 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:58,241 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:07:58,646 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:07:58,708 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:05,419 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:06,135 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:08:06,296 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:07,527 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:09,581 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:13,656 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:13,794 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:08:14,080 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:14,120 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:15,259 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:18,082 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:22,309 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:22,449 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:08:22,727 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:08:22,783 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:09:02,215 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:09:02,260 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:09:02,523 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:09:03,612 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:09:06,677 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:12:35,217 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:12:35,278 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:12:35,469 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:12:36,604 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:12:38,731 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:12:42,254 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:12:42,366 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 11:12:42,567 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:12:43,803 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:12:43,884 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-03 11:12:43,886 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-03 11:12:43,887 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-03 11:12:43,928 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-03 11:12:43,929 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-03 11:12:43,929 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-03 11:12:43,955 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjcxNjYzLCJpYXQiOjE3NDYyNzA3NjMsImp0aSI6ImUzMmU2NTllZDkyZjQyMGNhNDc4Njc5NWU2ZjlkMWI1IiwidXNlcl9pZCI6IjE4MDAyMjVkLWViY2MtNGQyMy05YmZjLTIzNmExYjUxODViNyJ9.pQM-wl9SferrJxk5gwWngSESNo418IGJwiuNcEy5MgE', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM1NzE2MywiaWF0IjoxNzQ2MjcwNzYzLCJqdGkiOiIwMjIyOTU5MzJkMWM0OGI5OTU1OGQ1OTY2OWU0MmEwMSIsInVzZXJfaWQiOiIxODAwMjI1ZC1lYmNjLTRkMjMtOWJmYy0yMzZhMWI1MTg1YjcifQ.hUTD1kN1vll2GnwrjkgMYXE2eDKoHGJ5cK7eaj0tDPg', 'user': 'mustaphajajjage@gmail.com'}
2025-05-03 11:12:43,956 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjcxNjYzLCJpYXQiOjE3NDYyNzA3NjMsImp0aSI6ImUzMmU2NTllZDkyZjQyMGNhNDc4Njc5NWU2ZjlkMWI1IiwidXNlcl9pZCI6IjE4MDAyMjVkLWViY2MtNGQyMy05YmZjLTIzNmExYjUxODViNyJ9.pQM-wl9SferrJxk5gwWngSESNo418IGJwiuNcEy5MgE', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM1NzE2MywiaWF0IjoxNzQ2MjcwNzYzLCJqdGkiOiIwMjIyOTU5MzJkMWM0OGI5OTU1OGQ1OTY2OWU0MmEwMSIsInVzZXJfaWQiOiIxODAwMjI1ZC1lYmNjLTRkMjMtOWJmYy0yMzZhMWI1MTg1YjcifQ.hUTD1kN1vll2GnwrjkgMYXE2eDKoHGJ5cK7eaj0tDPg', 'user': 'mustaphajajjage@gmail.com'}
2025-05-03 11:12:43,956 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-03 11:12:43,973 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MjcxNjYzLCJpYXQiOjE3NDYyNzA3NjMsImp0aSI6ImUzMmU2NTllZDkyZjQyMGNhNDc4Njc5NWU2ZjlkMWI1IiwidXNlcl9pZCI6IjE4MDAyMjVkLWViY2MtNGQyMy05YmZjLTIzNmExYjUxODViNyJ9.pQM-wl9SferrJxk5gwWngSESNo418IGJwiuNcEy5MgE', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM1NzE2MywiaWF0IjoxNzQ2MjcwNzYzLCJqdGkiOiIwMjIyOTU5MzJkMWM0OGI5OTU1OGQ1OTY2OWU0MmEwMSIsInVzZXJfaWQiOiIxODAwMjI1ZC1lYmNjLTRkMjMtOWJmYy0yMzZhMWI1MTg1YjcifQ.hUTD1kN1vll2GnwrjkgMYXE2eDKoHGJ5cK7eaj0tDPg'}
2025-05-03 11:12:43,978 apps.users.utils INFO     Cookies set successfully
2025-05-03 11:12:43,984 apps.users.views INFO     Final response data: {'id': '1800225d-ebcc-4d23-9bfc-236a1b5185b7', 'email': 'mustaphajajjage@gmail.com', 'first_name': 'Mustapha', 'last_name': 'Ibrahim', 'user_type': 'SELLER', 'verification_status': 'VERIFIED', 'profile': {'id': '691127a0-80f6-48b9-a7ff-3868523c7ac4', 'display_name': '', 'bio': '', 'phone_number': '', 'country': '', 'city': '', 'email_verified': False, 'phone_verified': False, 'profile_picture': '/media/profile_pictures/profile_1800225d-ebcc-4d23-9bfc-236a1b5185b7.jpg'}}
2025-05-03 11:13:08,235 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:13:25,757 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:33:24,122 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:33:24,237 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:33:24,241 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:33:24,315 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:51:50,791 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 11:51:54,201 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 11:54:20,904 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 11:54:23,088 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 11:57:56,237 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:57:56,294 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 11:58:18,921 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 11:58:21,957 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:00:57,234 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 12:00:59,691 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:03:49,128 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/serializers.py changed, reloading.
2025-05-03 12:03:52,183 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:04:28,725 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 12:04:34,495 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:05:55,130 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 12:05:57,802 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:07:50,246 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 158, in get_purchases
    purchases = obj.buyer_transactions.all()
                ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'buyer_transactions'
2025-05-03 12:07:50,256 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 158, in get_purchases
    purchases = obj.buyer_transactions.all()
                ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'buyer_transactions'
2025-05-03 12:08:05,249 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 158, in get_purchases
    purchases = obj.buyer_transactions.all()
                ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'buyer_transactions'
2025-05-03 12:08:09,431 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 158, in get_purchases
    purchases = obj.buyer_transactions.all()
                ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'buyer_transactions'
2025-05-03 12:08:09,557 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 158, in get_purchases
    purchases = obj.buyer_transactions.all()
                ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'buyer_transactions'
2025-05-03 12:10:11,738 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 158, in get_purchases
    purchases = obj.sales.all()
AttributeError: 'CustomUser' object has no attribute 'buyer_transactions'
2025-05-03 12:10:11,830 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 158, in get_purchases
    purchases = obj.sales.all()
AttributeError: 'CustomUser' object has no attribute 'buyer_transactions'
2025-05-03 12:10:12,123 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 12:10:14,843 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:10:18,532 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 163, in get_sales
    sales = obj.seller_transactions.all()
            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'seller_transactions'
2025-05-03 12:10:18,534 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 163, in get_sales
    sales = obj.seller_transactions.all()
            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'seller_transactions'
2025-05-03 12:10:25,624 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 163, in get_sales
    sales = obj.seller_transactions.all()
            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'seller_transactions'
2025-05-03 12:10:27,207 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 163, in get_sales
    sales = obj.seller_transactions.all()
            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'seller_transactions'
2025-05-03 12:10:27,378 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 163, in get_sales
    sales = obj.seller_transactions.all()
            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'seller_transactions'
2025-05-03 12:10:28,965 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 163, in get_sales
    sales = obj.seller_transactions.all()
            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'seller_transactions'
2025-05-03 12:10:29,300 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 163, in get_sales
    sales = obj.seller_transactions.all()
            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'seller_transactions'
2025-05-03 12:10:31,691 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 163, in get_sales
    sales = obj.seller_transactions.all()
            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'seller_transactions'
2025-05-03 12:10:32,049 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 204, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 163, in get_sales
    sales = obj.seller_transactions.all()
            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CustomUser' object has no attribute 'seller_transactions'
2025-05-03 12:11:21,583 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 12:11:23,742 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:12:51,086 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 12:12:53,693 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:13:42,403 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-03 12:14:57,322 apps.users.utils INFO     Cookies set successfully
2025-05-03 12:15:47,747 django.request WARNING  Bad Request: /api/v1/auth/users/me/
2025-05-03 12:18:29,237 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-05-03 12:18:32,213 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:18:39,371 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-03 12:19:12,107 apps.users.utils INFO     Cookies set successfully
2025-05-03 12:24:12,107 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-05-03 12:24:14,331 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:26:18,494 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-05-03 12:26:20,615 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:28:56,368 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 12:28:58,468 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 12:30:39,829 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:30:39,975 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 12:30:40,680 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:30:41,780 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:30:43,827 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:30:47,947 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:30:48,111 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 12:30:48,430 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:30:49,575 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:09,534 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:09,593 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 12:31:09,935 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:11,041 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:13,122 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:17,206 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:17,336 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 12:31:17,629 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:18,854 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:20,958 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:25,061 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:25,178 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 12:31:25,495 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:26,652 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:28,734 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:31:33,205 apps.users.utils INFO     Cookies set successfully
2025-05-03 12:31:33,493 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 12:34:42,547 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 20:01:15,167 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 20:01:15,216 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 20:01:15,269 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 20:01:15,310 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 20:09:56,251 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/models/__init__.py changed, reloading.
2025-05-03 20:09:59,222 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:11:21,915 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/models/transaction_history.py changed, reloading.
2025-05-03 20:11:23,812 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:11:34,021 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/models/transaction_history.py changed, reloading.
2025-05-03 20:11:36,218 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:11:45,362 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/models/transaction_dispute.py changed, reloading.
2025-05-03 20:11:47,702 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:21:21,897 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/serializers.py changed, reloading.
2025-05-03 20:21:23,838 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:27:13,437 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/serializers.py changed, reloading.
2025-05-03 20:27:15,978 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:27:29,450 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/serializers.py changed, reloading.
2025-05-03 20:27:32,008 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:34:17,798 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 20:34:20,155 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:34:29,192 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-03 20:34:31,168 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:43:39,581 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-03 20:43:41,641 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:43:58,731 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-03 20:44:01,202 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:52:36,918 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-03 20:52:38,904 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:55:29,820 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 20:55:34,087 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:56:25,211 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 20:56:26,978 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:57:27,022 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 20:57:29,265 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 20:59:53,084 django.request ERROR    Internal Server Error: /api/v1/auth/users/me/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "disputes" does not exist
LINE 1: ...disputes"."description", "disputes"."status" FROM "disputes"...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/djoser/views.py", line 173, in me
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/serializers.py", line 214, in to_representation
    data = super().to_representation(instance)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 716, in to_representation
    self.child.to_representation(item) for item in iterable
                                                   ^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 400, in __iter__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "disputes" does not exist
LINE 1: ...disputes"."description", "disputes"."status" FROM "disputes"...
                                                             ^

2025-05-03 21:00:55,180 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 21:00:57,648 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:01:17,418 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/models/transaction_history.py changed, reloading.
2025-05-03 21:01:19,804 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:03:51,555 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 21:03:53,990 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:04:19,352 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 21:04:25,356 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:04:58,628 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 21:05:06,162 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:05:38,426 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 21:05:42,689 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:06:00,045 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 21:06:02,632 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:06:12,358 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 21:06:14,554 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:06:50,926 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 21:06:54,663 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:07:30,497 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 21:07:32,413 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:08:08,310 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:08:45,711 django.request WARNING  Not Found: /api/v1//users/profiles/
2025-05-03 21:18:47,066 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/urls.py changed, reloading.
2025-05-03 21:18:49,445 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:19:17,728 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:22:39,066 django.request WARNING  Unauthorized: /api/v1/transactions/
2025-05-03 21:22:59,164 django.request WARNING  Unauthorized: /api/v1/transactions/
2025-05-03 21:23:08,285 django.request WARNING  Unauthorized: /api/v1/transactions/
2025-05-03 21:23:38,521 apps.users.views ERROR    Token refresh error: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 112, in validate
    refresh = self.token_class(attrs["refresh"])
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 71, in __init__
    self.verify()
    ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 280, in verify
    self.check_blacklist()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 292, in check_blacklist
    raise TokenError(_("Token is blacklisted"))
rest_framework_simplejwt.exceptions.TokenError: Token is blacklisted

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 232, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 46, in post
    raise InvalidToken(e.args[0])
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-03 21:23:38,693 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-03 21:23:46,481 apps.users.views ERROR    Token refresh error: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 112, in validate
    refresh = self.token_class(attrs["refresh"])
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 71, in __init__
    self.verify()
    ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 280, in verify
    self.check_blacklist()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 292, in check_blacklist
    raise TokenError(_("Token is blacklisted"))
rest_framework_simplejwt.exceptions.TokenError: Token is blacklisted

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 232, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 46, in post
    raise InvalidToken(e.args[0])
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-03 21:23:46,635 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-03 21:25:18,493 apps.users.views ERROR    Token refresh error: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 112, in validate
    refresh = self.token_class(attrs["refresh"])
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 71, in __init__
    self.verify()
    ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 280, in verify
    self.check_blacklist()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 292, in check_blacklist
    raise TokenError(_("Token is blacklisted"))
rest_framework_simplejwt.exceptions.TokenError: Token is blacklisted

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 232, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 46, in post
    raise InvalidToken(e.args[0])
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-03 21:25:18,558 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-03 21:26:07,316 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-03 21:26:09,853 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:26:16,287 apps.users.views ERROR    Token refresh error: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 112, in validate
    refresh = self.token_class(attrs["refresh"])
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 71, in __init__
    self.verify()
    ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 280, in verify
    self.check_blacklist()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 292, in check_blacklist
    raise TokenError(_("Token is blacklisted"))
rest_framework_simplejwt.exceptions.TokenError: Token is blacklisted

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 233, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 46, in post
    raise InvalidToken(e.args[0])
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-03 21:26:16,431 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-03 21:28:53,626 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:28:53,708 django.request WARNING  Too Many Requests: /api/v1/auth/refresh/
2025-05-03 21:28:54,625 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:28:55,774 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:28:57,909 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:28:59,700 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:28:59,821 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:28:59,992 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:01,360 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:03,451 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:05,597 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:05,740 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:29:05,997 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:07,099 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:08,049 apps.users.social_auth_pipeline INFO     Updated first name for user: mussajajjage@gmail.com
2025-05-03 21:29:08,050 apps.users.social_auth_pipeline INFO     Updated last name for user: mussajajjage@gmail.com
2025-05-03 21:29:08,050 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mussajajjage@gmail.com
2025-05-03 21:29:08,065 apps.users.social_auth_pipeline INFO     Saved user details for: mussajajjage@gmail.com
2025-05-03 21:29:08,065 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-03 21:29:08,066 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-03 21:29:08,091 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA4NjQ4LCJpYXQiOjE3NDYzMDc3NDgsImp0aSI6ImU3MDk0ZGE0MmQ3NzRjYjk4ODU3NTM2MDFiYzFhNmQwIiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.FC5_MhiNFUFgJb_-LDubd8qOP_PEvmqR2O5qg8MG2H4', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDE0OCwiaWF0IjoxNzQ2MzA3NzQ4LCJqdGkiOiJmNzAzZTE5MTEzMDI0OWJlYTdjMzY3ZmI0NTRmOGIwNSIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.9KwnWEnRPiquS1PAKXNGJ0DtMAVhK_t4Zc2hC_7YDuc', 'user': 'mussajajjage@gmail.com'}
2025-05-03 21:29:08,091 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA4NjQ4LCJpYXQiOjE3NDYzMDc3NDgsImp0aSI6ImU3MDk0ZGE0MmQ3NzRjYjk4ODU3NTM2MDFiYzFhNmQwIiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.FC5_MhiNFUFgJb_-LDubd8qOP_PEvmqR2O5qg8MG2H4', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDE0OCwiaWF0IjoxNzQ2MzA3NzQ4LCJqdGkiOiJmNzAzZTE5MTEzMDI0OWJlYTdjMzY3ZmI0NTRmOGIwNSIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.9KwnWEnRPiquS1PAKXNGJ0DtMAVhK_t4Zc2hC_7YDuc', 'user': 'mussajajjage@gmail.com'}
2025-05-03 21:29:08,092 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-03 21:29:08,112 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA4NjQ4LCJpYXQiOjE3NDYzMDc3NDgsImp0aSI6ImU3MDk0ZGE0MmQ3NzRjYjk4ODU3NTM2MDFiYzFhNmQwIiwidXNlcl9pZCI6ImI0YzI5YTZkLThiYmMtNDg5My04MWZhLTdiYTJjYmQzMDExYSJ9.FC5_MhiNFUFgJb_-LDubd8qOP_PEvmqR2O5qg8MG2H4', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDE0OCwiaWF0IjoxNzQ2MzA3NzQ4LCJqdGkiOiJmNzAzZTE5MTEzMDI0OWJlYTdjMzY3ZmI0NTRmOGIwNSIsInVzZXJfaWQiOiJiNGMyOWE2ZC04YmJjLTQ4OTMtODFmYS03YmEyY2JkMzAxMWEifQ.9KwnWEnRPiquS1PAKXNGJ0DtMAVhK_t4Zc2hC_7YDuc'}
2025-05-03 21:29:08,118 apps.users.utils INFO     Cookies set successfully
2025-05-03 21:29:09,176 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:13,297 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:13,467 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:29:13,822 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:14,745 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:14,926 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:17,041 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:21,099 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:21,163 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:29:21,399 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:22,638 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:25,354 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:29,495 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:29,550 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:29:29,802 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:30,959 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:33,096 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:37,710 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:37,833 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:29:38,100 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:39,202 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:42,196 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:42,295 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:29:42,547 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:43,703 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:29:45,839 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:30:56,863 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:30:57,065 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:30:57,226 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:30:58,342 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:00,971 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:02,476 apps.users.social_auth_pipeline INFO     Updated first name for user: 02uak8286@gmail.com
2025-05-03 21:31:02,477 apps.users.social_auth_pipeline INFO     Updated last name for user: 02uak8286@gmail.com
2025-05-03 21:31:02,477 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: 02uak8286@gmail.com
2025-05-03 21:31:02,488 apps.users.social_auth_pipeline INFO     Saved user details for: 02uak8286@gmail.com
2025-05-03 21:31:02,489 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-03 21:31:02,489 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-03 21:31:02,508 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA4NzYyLCJpYXQiOjE3NDYzMDc4NjIsImp0aSI6ImY0YjBlOGVhYTVkMDQ3NTg5ZTk4M2UwMGUzNWM3YjZjIiwidXNlcl9pZCI6IjdhYjMwZDQxLTIwOTktNDA2NC1iYjA4LTg4NmQ2YTIwZGZkYiJ9.gxAkCFjHzxWb2yjNXIV27bppbtfs_AzNgiZ-v60t5x4', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDI2MiwiaWF0IjoxNzQ2MzA3ODYyLCJqdGkiOiI3ZDY2MjhlYTJlYWM0YjMzYWVkNTM3MTM5YjM1ZTU2YyIsInVzZXJfaWQiOiI3YWIzMGQ0MS0yMDk5LTQwNjQtYmIwOC04ODZkNmEyMGRmZGIifQ.ZA0BNXhs2V16PfbSe5hcBdRgWwfx3wI6ek4GDyP7F7Q', 'user': '02uak8286@gmail.com'}
2025-05-03 21:31:02,508 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA4NzYyLCJpYXQiOjE3NDYzMDc4NjIsImp0aSI6ImY0YjBlOGVhYTVkMDQ3NTg5ZTk4M2UwMGUzNWM3YjZjIiwidXNlcl9pZCI6IjdhYjMwZDQxLTIwOTktNDA2NC1iYjA4LTg4NmQ2YTIwZGZkYiJ9.gxAkCFjHzxWb2yjNXIV27bppbtfs_AzNgiZ-v60t5x4', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDI2MiwiaWF0IjoxNzQ2MzA3ODYyLCJqdGkiOiI3ZDY2MjhlYTJlYWM0YjMzYWVkNTM3MTM5YjM1ZTU2YyIsInVzZXJfaWQiOiI3YWIzMGQ0MS0yMDk5LTQwNjQtYmIwOC04ODZkNmEyMGRmZGIifQ.ZA0BNXhs2V16PfbSe5hcBdRgWwfx3wI6ek4GDyP7F7Q', 'user': '02uak8286@gmail.com'}
2025-05-03 21:31:02,508 apps.users.views INFO     Found user email: 02uak8286@gmail.com
2025-05-03 21:31:02,534 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA4NzYyLCJpYXQiOjE3NDYzMDc4NjIsImp0aSI6ImY0YjBlOGVhYTVkMDQ3NTg5ZTk4M2UwMGUzNWM3YjZjIiwidXNlcl9pZCI6IjdhYjMwZDQxLTIwOTktNDA2NC1iYjA4LTg4NmQ2YTIwZGZkYiJ9.gxAkCFjHzxWb2yjNXIV27bppbtfs_AzNgiZ-v60t5x4', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDI2MiwiaWF0IjoxNzQ2MzA3ODYyLCJqdGkiOiI3ZDY2MjhlYTJlYWM0YjMzYWVkNTM3MTM5YjM1ZTU2YyIsInVzZXJfaWQiOiI3YWIzMGQ0MS0yMDk5LTQwNjQtYmIwOC04ODZkNmEyMGRmZGIifQ.ZA0BNXhs2V16PfbSe5hcBdRgWwfx3wI6ek4GDyP7F7Q'}
2025-05-03 21:31:02,538 apps.users.utils INFO     Cookies set successfully
2025-05-03 21:31:05,015 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:05,055 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:31:05,257 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:06,453 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:08,565 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:41,068 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:41,129 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:31:41,426 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:42,632 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:44,749 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:45,740 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:48,822 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:48,889 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:31:49,124 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:50,266 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:52,341 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:56,436 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:56,615 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:31:56,872 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:31:58,121 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:38:45,772 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/utils.py changed, reloading.
2025-05-03 21:38:48,810 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:40:08,279 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:40:08,372 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:40:08,613 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:40:09,713 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:40:11,765 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:40:15,906 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:40:15,969 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:40:16,174 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:40:17,350 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:41:25,986 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:41:26,046 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:41:26,255 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:41:27,419 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:41:29,478 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:41:34,048 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:41:34,156 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:41:34,497 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:41:36,097 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:41:37,412 apps.users.social_auth_pipeline INFO     Updated first name for user: 02uak8286@gmail.com
2025-05-03 21:41:37,413 apps.users.social_auth_pipeline INFO     Updated last name for user: 02uak8286@gmail.com
2025-05-03 21:41:37,414 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: 02uak8286@gmail.com
2025-05-03 21:41:37,442 apps.users.social_auth_pipeline INFO     Saved user details for: 02uak8286@gmail.com
2025-05-03 21:41:37,443 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-03 21:41:37,444 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-03 21:41:37,615 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA5Mzk3LCJpYXQiOjE3NDYzMDg0OTcsImp0aSI6IjUwYzU2ZDZhYzI1MjQzNmRiOWJmZDg2YzhlZDcyYmU2IiwidXNlcl9pZCI6ImQ1MDg3Mjk0LTRjMDItNGEyNy1iNTljLWNmMGVhYzU5NjMzYSJ9.9moMdg79XvJ53KVxqRbvxrKP9gMjxybUEh2Ha-6ZLUY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDg5NywiaWF0IjoxNzQ2MzA4NDk3LCJqdGkiOiI3YmFjZDcxYzY0OTc0ZGQyYTNhOWUzMjU2ZDgwOGY1OCIsInVzZXJfaWQiOiJkNTA4NzI5NC00YzAyLTRhMjctYjU5Yy1jZjBlYWM1OTYzM2EifQ.y0rM5OwDHNDZCmRSY1_CYSEciuKZu9CQEeWzQjs7GRM', 'user': '02uak8286@gmail.com'}
2025-05-03 21:41:37,616 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA5Mzk3LCJpYXQiOjE3NDYzMDg0OTcsImp0aSI6IjUwYzU2ZDZhYzI1MjQzNmRiOWJmZDg2YzhlZDcyYmU2IiwidXNlcl9pZCI6ImQ1MDg3Mjk0LTRjMDItNGEyNy1iNTljLWNmMGVhYzU5NjMzYSJ9.9moMdg79XvJ53KVxqRbvxrKP9gMjxybUEh2Ha-6ZLUY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDg5NywiaWF0IjoxNzQ2MzA4NDk3LCJqdGkiOiI3YmFjZDcxYzY0OTc0ZGQyYTNhOWUzMjU2ZDgwOGY1OCIsInVzZXJfaWQiOiJkNTA4NzI5NC00YzAyLTRhMjctYjU5Yy1jZjBlYWM1OTYzM2EifQ.y0rM5OwDHNDZCmRSY1_CYSEciuKZu9CQEeWzQjs7GRM', 'user': '02uak8286@gmail.com'}
2025-05-03 21:41:37,616 apps.users.views INFO     Found user email: 02uak8286@gmail.com
2025-05-03 21:41:37,628 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA5Mzk3LCJpYXQiOjE3NDYzMDg0OTcsImp0aSI6IjUwYzU2ZDZhYzI1MjQzNmRiOWJmZDg2YzhlZDcyYmU2IiwidXNlcl9pZCI6ImQ1MDg3Mjk0LTRjMDItNGEyNy1iNTljLWNmMGVhYzU5NjMzYSJ9.9moMdg79XvJ53KVxqRbvxrKP9gMjxybUEh2Ha-6ZLUY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDg5NywiaWF0IjoxNzQ2MzA4NDk3LCJqdGkiOiI3YmFjZDcxYzY0OTc0ZGQyYTNhOWUzMjU2ZDgwOGY1OCIsInVzZXJfaWQiOiJkNTA4NzI5NC00YzAyLTRhMjctYjU5Yy1jZjBlYWM1OTYzM2EifQ.y0rM5OwDHNDZCmRSY1_CYSEciuKZu9CQEeWzQjs7GRM'}
2025-05-03 21:41:37,631 apps.users.utils INFO     Cookies set successfully
2025-05-03 21:41:38,205 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:21,855 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/utils.py changed, reloading.
2025-05-03 21:42:24,294 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:42:33,131 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:33,206 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:42:33,524 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:34,690 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:37,233 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:39,461 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:39,709 apps.users.views ERROR    Token refresh error: CustomUser matching query does not exist.
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 233, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 116, in validate
    user := get_user_model().objects.get(
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        **{api_settings.USER_ID_FIELD: user_id}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
apps.users.models.base.CustomUser.DoesNotExist: CustomUser matching query does not exist.
2025-05-03 21:42:39,805 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-03 21:42:40,593 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:41,760 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:43,878 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:46,421 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:46,590 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:42:46,975 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:48,106 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:50,817 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:50,984 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:42:51,221 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:52,347 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:54,412 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:54,719 apps.users.social_auth_pipeline INFO     Updated first name for user: mussajajjage@gmail.com
2025-05-03 21:42:54,720 apps.users.social_auth_pipeline INFO     Updated last name for user: mussajajjage@gmail.com
2025-05-03 21:42:54,720 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mussajajjage@gmail.com
2025-05-03 21:42:54,736 apps.users.social_auth_pipeline INFO     Saved user details for: mussajajjage@gmail.com
2025-05-03 21:42:54,737 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-03 21:42:54,737 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-03 21:42:54,765 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA5NDc0LCJpYXQiOjE3NDYzMDg1NzQsImp0aSI6ImZiNDA2MTg5MGY3NjRjOWRiMjA0NDc4ZjQ0ZGY4Mjc2IiwidXNlcl9pZCI6IjA0NmNkMDk1LWI1MGQtNGVmNC04MWQ2LWY5ZGQ1ZDQ5MjgyYSJ9.VfO6Nc90TY6YfJtHZ_207gZBSCJNo0IsuLiIjFTHWAY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDk3NCwiaWF0IjoxNzQ2MzA4NTc0LCJqdGkiOiJjY2VjZjIzZjRmOTg0MzRmYjBhZWE0NWMwMWNkOThiOSIsInVzZXJfaWQiOiIwNDZjZDA5NS1iNTBkLTRlZjQtODFkNi1mOWRkNWQ0OTI4MmEifQ.k7nCdkYWXpdqXLA9MsUuoLeKeNv-5Y5cHVAmXJxePVU', 'user': 'mussajajjage@gmail.com'}
2025-05-03 21:42:54,765 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA5NDc0LCJpYXQiOjE3NDYzMDg1NzQsImp0aSI6ImZiNDA2MTg5MGY3NjRjOWRiMjA0NDc4ZjQ0ZGY4Mjc2IiwidXNlcl9pZCI6IjA0NmNkMDk1LWI1MGQtNGVmNC04MWQ2LWY5ZGQ1ZDQ5MjgyYSJ9.VfO6Nc90TY6YfJtHZ_207gZBSCJNo0IsuLiIjFTHWAY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDk3NCwiaWF0IjoxNzQ2MzA4NTc0LCJqdGkiOiJjY2VjZjIzZjRmOTg0MzRmYjBhZWE0NWMwMWNkOThiOSIsInVzZXJfaWQiOiIwNDZjZDA5NS1iNTBkLTRlZjQtODFkNi1mOWRkNWQ0OTI4MmEifQ.k7nCdkYWXpdqXLA9MsUuoLeKeNv-5Y5cHVAmXJxePVU', 'user': 'mussajajjage@gmail.com'}
2025-05-03 21:42:54,766 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-03 21:42:54,786 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzA5NDc0LCJpYXQiOjE3NDYzMDg1NzQsImp0aSI6ImZiNDA2MTg5MGY3NjRjOWRiMjA0NDc4ZjQ0ZGY4Mjc2IiwidXNlcl9pZCI6IjA0NmNkMDk1LWI1MGQtNGVmNC04MWQ2LWY5ZGQ1ZDQ5MjgyYSJ9.VfO6Nc90TY6YfJtHZ_207gZBSCJNo0IsuLiIjFTHWAY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjM5NDk3NCwiaWF0IjoxNzQ2MzA4NTc0LCJqdGkiOiJjY2VjZjIzZjRmOTg0MzRmYjBhZWE0NWMwMWNkOThiOSIsInVzZXJfaWQiOiIwNDZjZDA5NS1iNTBkLTRlZjQtODFkNi1mOWRkNWQ0OTI4MmEifQ.k7nCdkYWXpdqXLA9MsUuoLeKeNv-5Y5cHVAmXJxePVU'}
2025-05-03 21:42:54,791 apps.users.utils INFO     Cookies set successfully
2025-05-03 21:42:58,461 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:58,721 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:58,920 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:42:59,056 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:42:59,664 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:42:59,824 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:43:17,819 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/utils.py changed, reloading.
2025-05-03 21:43:20,076 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-03 21:43:55,800 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:43:55,919 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:43:56,008 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:43:56,144 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:43:56,257 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:43:56,405 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:43:59,852 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:43:59,905 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:01,968 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:02,115 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:44:02,499 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:03,617 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:05,674 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:09,787 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:09,939 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:44:10,260 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:11,401 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:12,412 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:12,486 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:44:12,820 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:13,606 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:39,142 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:39,263 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:39,317 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:44:39,414 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:44:39,674 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:39,722 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:39,774 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:40,840 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:40,935 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:43,062 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:46,866 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:46,980 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-03 21:44:47,136 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:44:48,364 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-03 21:45:33,106 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 07:14:09,047 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 07:17:53,306 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:17:54,018 apps.users.views ERROR    Token refresh error: CustomUser matching query does not exist.
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 233, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 116, in validate
    user := get_user_model().objects.get(
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        **{api_settings.USER_ID_FIELD: user_id}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
apps.users.models.base.CustomUser.DoesNotExist: CustomUser matching query does not exist.
2025-05-04 07:17:54,960 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-04 07:17:58,741 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:17:58,842 apps.users.views ERROR    Token refresh error: CustomUser matching query does not exist.
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 233, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 116, in validate
    user := get_user_model().objects.get(
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        **{api_settings.USER_ID_FIELD: user_id}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
apps.users.models.base.CustomUser.DoesNotExist: CustomUser matching query does not exist.
2025-05-04 07:17:59,015 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-04 07:18:01,974 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:07,971 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:08,252 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:18:08,622 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:09,909 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:12,027 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:16,637 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:16,764 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:18:17,000 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:18,103 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:20,305 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:22,356 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:22,494 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:18:22,850 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:23,949 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:24,330 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 07:18:24,331 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 07:18:24,331 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 07:18:24,344 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 07:18:24,346 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 07:18:24,347 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 07:18:24,380 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ0MDA0LCJpYXQiOjE3NDYzNDMxMDQsImp0aSI6ImM4M2ZhYWNlN2Q2MDQwMDFiN2E3ZmI2MjdmNDUxYWRjIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.mnMQajwztz2IsLXB37AIunifgnYbAg_DUa_N9iTUO6Q', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQyOTUwNCwiaWF0IjoxNzQ2MzQzMTA0LCJqdGkiOiI3ZWZiNjdiYWE4Mjk0ODc4OTI5NDkwMjE5NWVmMDExZSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.E0qfM9Nv-bih6DSwLpnvc5JCKuqjIqVPJiAKnBs_tZk', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 07:18:24,381 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ0MDA0LCJpYXQiOjE3NDYzNDMxMDQsImp0aSI6ImM4M2ZhYWNlN2Q2MDQwMDFiN2E3ZmI2MjdmNDUxYWRjIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.mnMQajwztz2IsLXB37AIunifgnYbAg_DUa_N9iTUO6Q', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQyOTUwNCwiaWF0IjoxNzQ2MzQzMTA0LCJqdGkiOiI3ZWZiNjdiYWE4Mjk0ODc4OTI5NDkwMjE5NWVmMDExZSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.E0qfM9Nv-bih6DSwLpnvc5JCKuqjIqVPJiAKnBs_tZk', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 07:18:24,381 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 07:18:24,399 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ0MDA0LCJpYXQiOjE3NDYzNDMxMDQsImp0aSI6ImM4M2ZhYWNlN2Q2MDQwMDFiN2E3ZmI2MjdmNDUxYWRjIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.mnMQajwztz2IsLXB37AIunifgnYbAg_DUa_N9iTUO6Q', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQyOTUwNCwiaWF0IjoxNzQ2MzQzMTA0LCJqdGkiOiI3ZWZiNjdiYWE4Mjk0ODc4OTI5NDkwMjE5NWVmMDExZSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.E0qfM9Nv-bih6DSwLpnvc5JCKuqjIqVPJiAKnBs_tZk'}
2025-05-04 07:18:24,403 apps.users.utils INFO     Cookies set successfully
2025-05-04 07:18:25,987 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:30,046 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:30,097 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:18:30,361 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:31,732 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:33,790 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:38,337 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:38,397 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:18:38,646 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:42,476 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:46,277 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:46,592 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:18:46,966 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:48,059 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:51,024 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:56,330 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:56,514 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:18:57,238 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:18:58,393 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:19:00,592 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:19:05,398 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:19:05,568 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:19:06,113 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:19:06,120 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:19:07,279 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:19:09,393 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:19:50,944 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:19:51,449 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:20:06,098 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:20:06,148 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:20:07,241 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:20:21,380 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:20:21,579 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:20:45,602 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:20:45,787 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:21:16,641 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:21:16,814 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:21:17,977 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:21:20,055 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:21:24,132 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:21:24,227 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:21:53,618 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:21:54,021 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:21:55,436 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:21:57,843 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:38:39,608 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:38:44,253 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:38:44,656 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:38:45,731 django.request WARNING  Not Found: /favicon.ico
2025-05-04 07:38:50,816 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:38:50,882 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 07:38:51,996 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:38:54,053 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:56:23,607 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 07:56:23,608 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 07:56:23,609 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 07:56:23,617 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 07:56:23,617 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 07:56:23,618 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 07:56:23,634 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ2MjgzLCJpYXQiOjE3NDYzNDUzODMsImp0aSI6IjM0ZWYyNmQ2Yzg0NzQ0ZGRhZjBiNTA1MzM5MTVlY2JjIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.lhBxbX4iNStLgoEBHdWI3Qfq8qy5K3H_O5wUMo9pplE', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMTc4MywiaWF0IjoxNzQ2MzQ1MzgzLCJqdGkiOiI4MmYwMzllNDEyMWQ0MTkyOWNhMTZjMjEwOTI4MDQzMiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.zGZw7tzp0i4dp_Jh0FNkbf2IdHvTGBLq_1QcNGq6-FU', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 07:56:23,634 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ2MjgzLCJpYXQiOjE3NDYzNDUzODMsImp0aSI6IjM0ZWYyNmQ2Yzg0NzQ0ZGRhZjBiNTA1MzM5MTVlY2JjIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.lhBxbX4iNStLgoEBHdWI3Qfq8qy5K3H_O5wUMo9pplE', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMTc4MywiaWF0IjoxNzQ2MzQ1MzgzLCJqdGkiOiI4MmYwMzllNDEyMWQ0MTkyOWNhMTZjMjEwOTI4MDQzMiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.zGZw7tzp0i4dp_Jh0FNkbf2IdHvTGBLq_1QcNGq6-FU', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 07:56:23,634 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 07:56:23,644 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ2MjgzLCJpYXQiOjE3NDYzNDUzODMsImp0aSI6IjM0ZWYyNmQ2Yzg0NzQ0ZGRhZjBiNTA1MzM5MTVlY2JjIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.lhBxbX4iNStLgoEBHdWI3Qfq8qy5K3H_O5wUMo9pplE', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMTc4MywiaWF0IjoxNzQ2MzQ1MzgzLCJqdGkiOiI4MmYwMzllNDEyMWQ0MTkyOWNhMTZjMjEwOTI4MDQzMiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.zGZw7tzp0i4dp_Jh0FNkbf2IdHvTGBLq_1QcNGq6-FU'}
2025-05-04 07:56:23,647 apps.users.utils INFO     Cookies set successfully
2025-05-04 07:58:07,885 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 07:58:07,918 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 08:08:15,444 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/utils.py changed, reloading.
2025-05-04 08:08:18,532 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:09:40,711 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:09:40,713 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:09:40,713 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:09:40,741 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:09:40,743 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:09:40,744 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:09:40,922 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ3MDgwLCJpYXQiOjE3NDYzNDYxODAsImp0aSI6IjBhNTRiY2ZlYjkyZDRkYTZhZjg5YjVhZTFhZGU4NTMzIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.TpwwWbzJGzOJbvAdH8aN7fbc3yqKX-J1vU3C94UVBhk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMjU4MCwiaWF0IjoxNzQ2MzQ2MTgwLCJqdGkiOiIwOGQzMDY2N2Q2MDQ0MTg4YjQyMWUwMzBjNTdkZDZlMSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.J9eh7mRn1YxTNuCGNcRDYza11pQgKmbWivUhc55HZZU', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:09:40,923 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ3MDgwLCJpYXQiOjE3NDYzNDYxODAsImp0aSI6IjBhNTRiY2ZlYjkyZDRkYTZhZjg5YjVhZTFhZGU4NTMzIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.TpwwWbzJGzOJbvAdH8aN7fbc3yqKX-J1vU3C94UVBhk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMjU4MCwiaWF0IjoxNzQ2MzQ2MTgwLCJqdGkiOiIwOGQzMDY2N2Q2MDQ0MTg4YjQyMWUwMzBjNTdkZDZlMSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.J9eh7mRn1YxTNuCGNcRDYza11pQgKmbWivUhc55HZZU', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:09:40,923 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:09:40,940 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ3MDgwLCJpYXQiOjE3NDYzNDYxODAsImp0aSI6IjBhNTRiY2ZlYjkyZDRkYTZhZjg5YjVhZTFhZGU4NTMzIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.TpwwWbzJGzOJbvAdH8aN7fbc3yqKX-J1vU3C94UVBhk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMjU4MCwiaWF0IjoxNzQ2MzQ2MTgwLCJqdGkiOiIwOGQzMDY2N2Q2MDQ0MTg4YjQyMWUwMzBjNTdkZDZlMSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.J9eh7mRn1YxTNuCGNcRDYza11pQgKmbWivUhc55HZZU'}
2025-05-04 08:09:40,945 apps.users.utils INFO     Cookies set successfully
2025-05-04 08:12:17,137 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:12:26,785 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:14:25,301 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:14:25,301 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:14:25,302 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:14:25,326 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:14:25,327 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:14:25,328 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:14:25,515 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ3MzY1LCJpYXQiOjE3NDYzNDY0NjUsImp0aSI6IjhjNTY2MTcyY2Y0ZTQzMzc4OTg5ZWVjNjUzYmU2NTg2IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.8GNjV1g3Q7SwJ3iKs_XmxktfFixr-Xec0RmjQhgxNmk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMjg2NSwiaWF0IjoxNzQ2MzQ2NDY1LCJqdGkiOiIyZmNmZTlhNTFkNTI0NjI3YWVmOTAxNjE5ZWU2ZWE2NiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.GtSV0rQvTiOIngvoXGaaQuL84JnSsGEpIAA0CJ73Amg', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:14:25,515 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ3MzY1LCJpYXQiOjE3NDYzNDY0NjUsImp0aSI6IjhjNTY2MTcyY2Y0ZTQzMzc4OTg5ZWVjNjUzYmU2NTg2IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.8GNjV1g3Q7SwJ3iKs_XmxktfFixr-Xec0RmjQhgxNmk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMjg2NSwiaWF0IjoxNzQ2MzQ2NDY1LCJqdGkiOiIyZmNmZTlhNTFkNTI0NjI3YWVmOTAxNjE5ZWU2ZWE2NiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.GtSV0rQvTiOIngvoXGaaQuL84JnSsGEpIAA0CJ73Amg', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:14:25,516 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:14:25,549 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ3MzY1LCJpYXQiOjE3NDYzNDY0NjUsImp0aSI6IjhjNTY2MTcyY2Y0ZTQzMzc4OTg5ZWVjNjUzYmU2NTg2IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.8GNjV1g3Q7SwJ3iKs_XmxktfFixr-Xec0RmjQhgxNmk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMjg2NSwiaWF0IjoxNzQ2MzQ2NDY1LCJqdGkiOiIyZmNmZTlhNTFkNTI0NjI3YWVmOTAxNjE5ZWU2ZWE2NiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.GtSV0rQvTiOIngvoXGaaQuL84JnSsGEpIAA0CJ73Amg'}
2025-05-04 08:14:25,687 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 129, in post
TypeError: CookieSet.set_token_cookies() takes 2 positional arguments but 3 were given
2025-05-04 08:14:46,358 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:14:49,264 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:16:15,317 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:16:15,318 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:16:15,319 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:16:15,347 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:16:15,349 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:16:15,351 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:16:15,633 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ3NDc1LCJpYXQiOjE3NDYzNDY1NzUsImp0aSI6IjRiMDYzOGEyNmMwZjQ3NmU4MGNlY2Q2NmJhYzQyYzViIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.1FSG_Sa9hvvTZTanpnR7yFG9jUzA88nuwHegJNEWDlc', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMjk3NSwiaWF0IjoxNzQ2MzQ2NTc1LCJqdGkiOiI0MjM3NGU4YmVkYTg0MDE3YjcxZWNhNDhjZjA4YzgyZiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.N6mmVaqT8nftFxBxpynHGZnnlcQhXVd1FrPDI8ONpMY', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:16:15,634 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ3NDc1LCJpYXQiOjE3NDYzNDY1NzUsImp0aSI6IjRiMDYzOGEyNmMwZjQ3NmU4MGNlY2Q2NmJhYzQyYzViIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.1FSG_Sa9hvvTZTanpnR7yFG9jUzA88nuwHegJNEWDlc', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMjk3NSwiaWF0IjoxNzQ2MzQ2NTc1LCJqdGkiOiI0MjM3NGU4YmVkYTg0MDE3YjcxZWNhNDhjZjA4YzgyZiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.N6mmVaqT8nftFxBxpynHGZnnlcQhXVd1FrPDI8ONpMY', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:16:15,634 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:16:15,652 apps.users.views INFO     Tokens before setting cookies: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ3NDc1LCJpYXQiOjE3NDYzNDY1NzUsImp0aSI6IjRiMDYzOGEyNmMwZjQ3NmU4MGNlY2Q2NmJhYzQyYzViIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.1FSG_Sa9hvvTZTanpnR7yFG9jUzA88nuwHegJNEWDlc', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMjk3NSwiaWF0IjoxNzQ2MzQ2NTc1LCJqdGkiOiI0MjM3NGU4YmVkYTg0MDE3YjcxZWNhNDhjZjA4YzgyZiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.N6mmVaqT8nftFxBxpynHGZnnlcQhXVd1FrPDI8ONpMY'}
2025-05-04 08:16:15,657 apps.users.utils ERROR    Failed to set cookies: Token data missing from response
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/utils.py", line 15, in set_token_cookies
    self._validate_token_data(response.data)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/users/utils.py", line 79, in _validate_token_data
    raise ValueError("Token data missing from response")
ValueError: Token data missing from response
2025-05-04 08:16:15,921 django.request ERROR    Internal Server Error: /api/v1/auth/o/google-oauth2/
2025-05-04 08:16:46,296 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:16:48,823 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:17:37,450 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:17:39,638 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:18:11,730 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:18:11,730 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:18:11,731 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:18:11,752 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:18:11,753 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:18:11,754 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:18:11,921 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ3NTkxLCJpYXQiOjE3NDYzNDY2OTEsImp0aSI6IjYyMDkwZDlkODUzNDQyMjViMWM4ZDI1MTE0MGUyZjM3IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.vVUSLg2BTdWLTcj1UHneRBwy-VPHLYe8yRY6lmoaADo', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMzA5MSwiaWF0IjoxNzQ2MzQ2NjkxLCJqdGkiOiI1MzVhMzkwM2Q5MjI0YTJhODcyNzNjNmVlM2EyMmVkNyIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.1T7jChCrcOBMe-EFPBdh8rtZ2KagRZdXPEjAR67lvd8', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:18:11,921 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ3NTkxLCJpYXQiOjE3NDYzNDY2OTEsImp0aSI6IjYyMDkwZDlkODUzNDQyMjViMWM4ZDI1MTE0MGUyZjM3IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.vVUSLg2BTdWLTcj1UHneRBwy-VPHLYe8yRY6lmoaADo', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMzA5MSwiaWF0IjoxNzQ2MzQ2NjkxLCJqdGkiOiI1MzVhMzkwM2Q5MjI0YTJhODcyNzNjNmVlM2EyMmVkNyIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.1T7jChCrcOBMe-EFPBdh8rtZ2KagRZdXPEjAR67lvd8', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:18:11,922 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:18:11,959 apps.users.utils INFO     Cookies set successfully
2025-05-04 08:18:36,136 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:18:40,141 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:20:00,287 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/utils.py changed, reloading.
2025-05-04 08:20:02,612 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:20:12,844 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/utils.py changed, reloading.
2025-05-04 08:20:15,146 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:23:17,439 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:23:22,293 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:24:07,100 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:24:09,248 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:24:44,029 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:24:46,394 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:27:41,519 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:27:43,944 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:28:45,645 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:28:45,647 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:28:45,648 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:28:45,685 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:28:45,687 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:28:45,688 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:28:45,834 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ4MjI1LCJpYXQiOjE3NDYzNDczMjUsImp0aSI6ImU4YjdhZDYwYjc5MjQ4NThhZWRiNTQxZGNiOTMyNmVmIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.hYLl-Qz7vlMLkD2lyu3gfWoYmTi_vvPMKKS8TXuxrx8', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMzcyNSwiaWF0IjoxNzQ2MzQ3MzI1LCJqdGkiOiI0NzlmMzRmZmQ0NDI0Yjg5ODJiYjg5ZTgxYzRhNmRmNSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.9tod7QcASikB-gELRgUq-ObX6I7Te7-pe8EjIZ9dUFI', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:28:45,835 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ4MjI1LCJpYXQiOjE3NDYzNDczMjUsImp0aSI6ImU4YjdhZDYwYjc5MjQ4NThhZWRiNTQxZGNiOTMyNmVmIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.hYLl-Qz7vlMLkD2lyu3gfWoYmTi_vvPMKKS8TXuxrx8', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMzcyNSwiaWF0IjoxNzQ2MzQ3MzI1LCJqdGkiOiI0NzlmMzRmZmQ0NDI0Yjg5ODJiYjg5ZTgxYzRhNmRmNSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.9tod7QcASikB-gELRgUq-ObX6I7Te7-pe8EjIZ9dUFI', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:28:45,835 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:28:45,847 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:28:45,851 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:30:04,712 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:30:07,253 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:30:41,843 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:30:41,844 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:30:41,844 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:30:41,863 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:30:41,864 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:30:41,865 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:30:42,021 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ4MzQxLCJpYXQiOjE3NDYzNDc0NDEsImp0aSI6ImZkMTlkMzVhYzc0MjQ0NmViMDhlYWFkODczZTQwZjE1IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.HzjumZDWFaMx5ic8aZr5k397br_qlIx6DbPfXLQ_1us', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMzg0MSwiaWF0IjoxNzQ2MzQ3NDQxLCJqdGkiOiJlYjUzYzU4ZWViZjA0MWY0ODMxODhjNDgxZDUzYzAxYSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.0kHKGiN4KDsfjsPFnrzcPgsKq0i8YYAkPlZkMM-MuPE', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:30:42,021 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ4MzQxLCJpYXQiOjE3NDYzNDc0NDEsImp0aSI6ImZkMTlkMzVhYzc0MjQ0NmViMDhlYWFkODczZTQwZjE1IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.HzjumZDWFaMx5ic8aZr5k397br_qlIx6DbPfXLQ_1us', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzMzg0MSwiaWF0IjoxNzQ2MzQ3NDQxLCJqdGkiOiJlYjUzYzU4ZWViZjA0MWY0ODMxODhjNDgxZDUzYzAxYSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.0kHKGiN4KDsfjsPFnrzcPgsKq0i8YYAkPlZkMM-MuPE', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:30:42,022 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:30:42,051 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:30:42,063 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:33:01,375 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:33:04,172 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:33:24,193 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:33:24,194 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:33:24,194 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:33:24,209 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:33:24,210 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:33:24,211 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:33:24,306 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ4NTA0LCJpYXQiOjE3NDYzNDc2MDQsImp0aSI6IjgxZmQ5NjRkM2NiYjQwNmE5ODQzZDZiNjlmNDgxMmU1IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.h8ajYSu9QH7ENrrP6qBLAtO38IwacHbGQFdbmf7o02A', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNDAwNCwiaWF0IjoxNzQ2MzQ3NjA0LCJqdGkiOiJlZGIxNGIwY2I2MzA0Yjc2YmEwNGY1NzM1Y2MzNGMyYSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.KtMbNJO-aUP-5vqrOdkRp_a9eH9ESkFgST9bm9B5AFo', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:33:24,307 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ4NTA0LCJpYXQiOjE3NDYzNDc2MDQsImp0aSI6IjgxZmQ5NjRkM2NiYjQwNmE5ODQzZDZiNjlmNDgxMmU1IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.h8ajYSu9QH7ENrrP6qBLAtO38IwacHbGQFdbmf7o02A', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNDAwNCwiaWF0IjoxNzQ2MzQ3NjA0LCJqdGkiOiJlZGIxNGIwY2I2MzA0Yjc2YmEwNGY1NzM1Y2MzNGMyYSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.KtMbNJO-aUP-5vqrOdkRp_a9eH9ESkFgST9bm9B5AFo', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:33:24,307 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:33:24,328 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:33:24,333 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:33:53,184 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:33:55,771 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:34:41,605 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:34:41,606 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:34:41,606 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:34:41,618 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:34:41,619 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:34:41,620 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:34:41,766 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ4NTgxLCJpYXQiOjE3NDYzNDc2ODEsImp0aSI6IjNmNzg4NjEyNmU3ZjQxZTY5ODI0YjljY2Q2ODMyNTk0IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.AJL_Ta5Kq8APXKx8h_K_Sv_WFdvrfME-a3q6zAjMPVk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNDA4MSwiaWF0IjoxNzQ2MzQ3NjgxLCJqdGkiOiI4OWExYzhkNjMzNjc0ZWZjOGVkNjRjNTFmZGFlZjM4ZSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.eQuFNAwCOh6ncmmFoIBTwbrYQ4wHkNH2iOSFAD1Z2GU', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:34:41,766 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ4NTgxLCJpYXQiOjE3NDYzNDc2ODEsImp0aSI6IjNmNzg4NjEyNmU3ZjQxZTY5ODI0YjljY2Q2ODMyNTk0IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.AJL_Ta5Kq8APXKx8h_K_Sv_WFdvrfME-a3q6zAjMPVk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNDA4MSwiaWF0IjoxNzQ2MzQ3NjgxLCJqdGkiOiI4OWExYzhkNjMzNjc0ZWZjOGVkNjRjNTFmZGFlZjM4ZSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.eQuFNAwCOh6ncmmFoIBTwbrYQ4wHkNH2iOSFAD1Z2GU', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:34:41,767 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:34:41,786 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:35:07,727 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 08:35:10,007 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:40:26,872 apps.users.social_auth_pipeline INFO     Updated first name for user: mussajajjage@gmail.com
2025-05-04 08:40:26,873 apps.users.social_auth_pipeline INFO     Updated last name for user: mussajajjage@gmail.com
2025-05-04 08:40:26,873 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mussajajjage@gmail.com
2025-05-04 08:40:26,897 apps.users.social_auth_pipeline INFO     Saved user details for: mussajajjage@gmail.com
2025-05-04 08:40:26,898 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:40:26,899 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:40:27,122 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ4OTI2LCJpYXQiOjE3NDYzNDgwMjYsImp0aSI6IjE3ZWJkMGVmN2Q2ODQxZmVhNTlmNGJkNmJiMzYyNWYyIiwidXNlcl9pZCI6IjA0NmNkMDk1LWI1MGQtNGVmNC04MWQ2LWY5ZGQ1ZDQ5MjgyYSJ9.P5z1lhtDnrGfvxq5X-BpuNoNPebLqaxTOZmcDbKNfUQ', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNDQyNiwiaWF0IjoxNzQ2MzQ4MDI2LCJqdGkiOiI4NzFmN2VjMjdmZWY0NGVhYjlmMDc5ZWNmZDhmZDgyNSIsInVzZXJfaWQiOiIwNDZjZDA5NS1iNTBkLTRlZjQtODFkNi1mOWRkNWQ0OTI4MmEifQ.of4jOEfjtc3QXqD7uSieviP2yVOtaezRkmK88k7R3Mk', 'user': 'mussajajjage@gmail.com'}
2025-05-04 08:40:27,123 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ4OTI2LCJpYXQiOjE3NDYzNDgwMjYsImp0aSI6IjE3ZWJkMGVmN2Q2ODQxZmVhNTlmNGJkNmJiMzYyNWYyIiwidXNlcl9pZCI6IjA0NmNkMDk1LWI1MGQtNGVmNC04MWQ2LWY5ZGQ1ZDQ5MjgyYSJ9.P5z1lhtDnrGfvxq5X-BpuNoNPebLqaxTOZmcDbKNfUQ', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNDQyNiwiaWF0IjoxNzQ2MzQ4MDI2LCJqdGkiOiI4NzFmN2VjMjdmZWY0NGVhYjlmMDc5ZWNmZDhmZDgyNSIsInVzZXJfaWQiOiIwNDZjZDA5NS1iNTBkLTRlZjQtODFkNi1mOWRkNWQ0OTI4MmEifQ.of4jOEfjtc3QXqD7uSieviP2yVOtaezRkmK88k7R3Mk', 'user': 'mussajajjage@gmail.com'}
2025-05-04 08:40:27,123 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-04 08:40:27,211 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:44:34,584 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/utils.py changed, reloading.
2025-05-04 08:44:36,769 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:45:33,306 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:45:33,308 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:45:33,308 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:45:33,334 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:45:33,336 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:45:33,336 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:45:33,558 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ5MjMzLCJpYXQiOjE3NDYzNDgzMzMsImp0aSI6Ijc5MTNjYTIxODU2ZTRiYWQ5MGFmNGM2NzQzZGRmN2U1IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.J8uYFpxoqZHiAumtPbMjVokwIMxFL6Na5VlFhWQy5Sc', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNDczMywiaWF0IjoxNzQ2MzQ4MzMzLCJqdGkiOiI3MGExNWY2MDFlNTk0MDMyYTJjNmEyOWJjNDRlNmZmMSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.t_7U6KB36nQgFA9jMlxPTivA8UHnBmAnh-4Jt1kxGJY', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:45:33,560 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ5MjMzLCJpYXQiOjE3NDYzNDgzMzMsImp0aSI6Ijc5MTNjYTIxODU2ZTRiYWQ5MGFmNGM2NzQzZGRmN2U1IiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.J8uYFpxoqZHiAumtPbMjVokwIMxFL6Na5VlFhWQy5Sc', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNDczMywiaWF0IjoxNzQ2MzQ4MzMzLCJqdGkiOiI3MGExNWY2MDFlNTk0MDMyYTJjNmEyOWJjNDRlNmZmMSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.t_7U6KB36nQgFA9jMlxPTivA8UHnBmAnh-4Jt1kxGJY', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:45:33,563 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:45:33,609 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:46:30,022 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-04 08:46:32,882 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:46:53,828 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:46:53,829 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:46:53,829 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:46:53,877 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:46:53,878 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:46:53,878 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:46:54,027 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ5MzEzLCJpYXQiOjE3NDYzNDg0MTMsImp0aSI6IjA2M2U0ZTA2ODQ0YjQ4MmE4NDQwYjNkM2YwNTZmNGQxIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.Khb_o57pV9JOrb33ZavBCnaJffLo2r95vCDXWatCHr4', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNDgxMywiaWF0IjoxNzQ2MzQ4NDEzLCJqdGkiOiJkOWY0NWRjOWU4OTQ0ODUzOTYzZGUyNmVkMTk2ZjIxNyIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.6DKbJNFngvvEmqa7j2E-Xnis2DvyUMQ1DESiwku-sOg', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:46:54,027 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ5MzEzLCJpYXQiOjE3NDYzNDg0MTMsImp0aSI6IjA2M2U0ZTA2ODQ0YjQ4MmE4NDQwYjNkM2YwNTZmNGQxIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.Khb_o57pV9JOrb33ZavBCnaJffLo2r95vCDXWatCHr4', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNDgxMywiaWF0IjoxNzQ2MzQ4NDEzLCJqdGkiOiJkOWY0NWRjOWU4OTQ0ODUzOTYzZGUyNmVkMTk2ZjIxNyIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.6DKbJNFngvvEmqa7j2E-Xnis2DvyUMQ1DESiwku-sOg', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:46:54,028 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:46:54,069 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:47:43,115 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-04 08:47:45,339 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:50:02,267 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-04 08:50:04,610 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:51:20,469 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/utils.py changed, reloading.
2025-05-04 08:51:23,048 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:52:01,988 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:52:01,990 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:52:01,991 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:52:02,021 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:52:02,022 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:52:02,023 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:52:02,180 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ5NjIyLCJpYXQiOjE3NDYzNDg3MjIsImp0aSI6IjJlNzk4MWI3M2IwYzRlYjdiMzk5ZWFhNTUxMDk1OWNmIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.2IfTMeyXJZujppPfX0iP6aZS99ZvOHsF82kTx5x1xQ0', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNTEyMiwiaWF0IjoxNzQ2MzQ4NzIyLCJqdGkiOiJkNjI3YjM4MGQ2YTA0ODQ2OGQwYjBlNmI4OTM0MDM1YiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.-1_d19VMlBVkLn3Wc5JKHubB1pshfq2VZ4odgPGsspA', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:52:02,181 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzQ5NjIyLCJpYXQiOjE3NDYzNDg3MjIsImp0aSI6IjJlNzk4MWI3M2IwYzRlYjdiMzk5ZWFhNTUxMDk1OWNmIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.2IfTMeyXJZujppPfX0iP6aZS99ZvOHsF82kTx5x1xQ0', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNTEyMiwiaWF0IjoxNzQ2MzQ4NzIyLCJqdGkiOiJkNjI3YjM4MGQ2YTA0ODQ2OGQwYjBlNmI4OTM0MDM1YiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.-1_d19VMlBVkLn3Wc5JKHubB1pshfq2VZ4odgPGsspA', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:52:02,181 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:52:02,206 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:53:11,495 django.request WARNING  Bad Request: /api/v1/auth/login/
2025-05-04 08:53:12,683 django.request WARNING  Not Found: /favicon.ico
2025-05-04 08:53:21,516 django.request WARNING  Bad Request: /api/v1/auth/users/
2025-05-04 08:54:02,096 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 08:54:09,411 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 08:57:18,676 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/utils.py changed, reloading.
2025-05-04 08:57:21,365 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:57:52,213 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/utils.py changed, reloading.
2025-05-04 08:57:54,713 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 08:59:58,510 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 08:59:58,510 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 08:59:58,511 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 08:59:58,534 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 08:59:58,535 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 08:59:58,536 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 08:59:58,695 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzUwMDk4LCJpYXQiOjE3NDYzNDkxOTgsImp0aSI6IjYxOWM2MTRiNmYxZDQ1MWNhNzUwZTg4NGQ0MDg1YmMzIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.3dghcABX6EJ-gOFZ8nACTG3oj2yZRkMExRjCRFD288U', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNTU5OCwiaWF0IjoxNzQ2MzQ5MTk4LCJqdGkiOiIyMWUyOWE5Y2I5NDM0ZDI3YmYzNDZjZWYyZjQ0ZWI4YiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.GaiDBUGoTvXRpNKQMNQWbqK5tFUd7dPObnfxPg4yAKk', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:59:58,696 apps.users.views INFO     Response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzUwMDk4LCJpYXQiOjE3NDYzNDkxOTgsImp0aSI6IjYxOWM2MTRiNmYxZDQ1MWNhNzUwZTg4NGQ0MDg1YmMzIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.3dghcABX6EJ-gOFZ8nACTG3oj2yZRkMExRjCRFD288U', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNTU5OCwiaWF0IjoxNzQ2MzQ5MTk4LCJqdGkiOiIyMWUyOWE5Y2I5NDM0ZDI3YmYzNDZjZWYyZjQ0ZWI4YiIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.GaiDBUGoTvXRpNKQMNQWbqK5tFUd7dPObnfxPg4yAKk', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 08:59:58,697 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 08:59:58,741 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 09:00:51,112 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-04 09:00:51,921 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 09:01:09,816 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 09:01:11,191 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 09:02:20,484 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 09:02:23,643 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:02:39,147 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 09:02:40,157 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 09:03:58,064 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 09:04:00,638 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:04:07,860 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 09:04:11,400 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:05:09,837 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 09:05:16,327 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:05:25,360 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 09:05:29,262 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:06:01,356 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 09:06:08,017 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:06:18,187 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 09:06:22,049 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:07:41,512 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 09:07:41,512 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 09:07:41,513 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 09:07:41,524 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 09:07:41,524 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 09:07:41,524 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 09:07:41,593 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzUwNTYxLCJpYXQiOjE3NDYzNDk2NjEsImp0aSI6IjJhNDdlNjI4NzRjZjRjMGFiNzVlNTk4YTA2MjU3OTBjIiwidXNlcl9pZCI6IjVmMWMxNjNkLWZlZTUtNGU3MS1iMzNhLTYyYmI5ODc3N2EyNCJ9.B25UFE8QhxKPDB09v622kjbNQhJFdR9vlEh1mnIFI70', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNjA2MSwiaWF0IjoxNzQ2MzQ5NjYxLCJqdGkiOiIwMDY5Mzc2N2M0Y2U0MDVhYTBlMjY1OTVmZDFmOGMyYSIsInVzZXJfaWQiOiI1ZjFjMTYzZC1mZWU1LTRlNzEtYjMzYS02MmJiOTg3NzdhMjQifQ.-nt2UOYp7v-25mjE6iK1wycn9Jh_ldMo8w6VwX0nPaU', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 09:07:41,594 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 09:07:41,612 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 09:12:13,802 apps.users.social_auth_pipeline INFO     Updated first name for user: mussajajjage@gmail.com
2025-05-04 09:12:13,802 apps.users.social_auth_pipeline INFO     Updated last name for user: mussajajjage@gmail.com
2025-05-04 09:12:13,803 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mussajajjage@gmail.com
2025-05-04 09:12:13,816 apps.users.social_auth_pipeline INFO     Saved user details for: mussajajjage@gmail.com
2025-05-04 09:12:13,817 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 09:12:13,817 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 09:12:13,841 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzUwODMzLCJpYXQiOjE3NDYzNDk5MzMsImp0aSI6ImEyNWFhNjNjN2EyYjQ0ODQ4Yzg4Y2JkZWNkOWEyNDRlIiwidXNlcl9pZCI6IjA0NmNkMDk1LWI1MGQtNGVmNC04MWQ2LWY5ZGQ1ZDQ5MjgyYSJ9.5TIQBW8yIgq5OXd1RxXUD85xhFABfZIrsIqix7ruQbo', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNjMzMywiaWF0IjoxNzQ2MzQ5OTMzLCJqdGkiOiIyNTg3YzQ0MTNjZWU0NTU2OTYwODViZGI4NWJmY2E3NSIsInVzZXJfaWQiOiIwNDZjZDA5NS1iNTBkLTRlZjQtODFkNi1mOWRkNWQ0OTI4MmEifQ.9HZyL-N1fMGn-SV-yE8-G4ohNzqb_mA7Fpn6D3oMAqg', 'user': 'mussajajjage@gmail.com'}
2025-05-04 09:12:13,842 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-04 09:12:13,872 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 09:15:20,933 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 09:15:21,015 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 09:15:42,092 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-04 09:15:42,093 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-04 09:15:42,094 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-04 09:15:42,118 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-04 09:15:42,119 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 09:15:42,120 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 09:15:42,160 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzUxMDQyLCJpYXQiOjE3NDYzNTAxNDIsImp0aSI6ImFhZjRjNzViZmE2MzQ4MWJhMDA2YzhkOGRjYmQ1YjEyIiwidXNlcl9pZCI6ImRjZTA0ZTMwLTQxYzctNGIyNy04YTI2LTVhZWEyZGE5MDk3MiJ9.oG5Tzf7bH6rRYLVFnaBlvJ5FudgcL7fjflYoyVYRJ_I', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNjU0MiwiaWF0IjoxNzQ2MzUwMTQyLCJqdGkiOiIzZjEzODdmMGI2MDY0M2JjYTgxYmQwMDRlNWZmZGIxMyIsInVzZXJfaWQiOiJkY2UwNGUzMC00MWM3LTRiMjctOGEyNi01YWVhMmRhOTA5NzIifQ.hi2YmJl_j5dPrh0RoEH166qV9xY51FiXHiDhqfyIZ90', 'user': 'mustaphajajjage@gmail.com'}
2025-05-04 09:15:42,161 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-04 09:15:42,211 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 09:23:47,893 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-05-04 09:23:50,018 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:24:29,509 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-05-04 09:24:31,613 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:24:53,265 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-05-04 09:24:55,759 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:25:12,552 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 09:25:13,181 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 09:25:28,390 apps.users.social_auth_pipeline INFO     Updated first name for user: mussajajjage@gmail.com
2025-05-04 09:25:28,390 apps.users.social_auth_pipeline INFO     Updated last name for user: mussajajjage@gmail.com
2025-05-04 09:25:28,391 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mussajajjage@gmail.com
2025-05-04 09:25:28,401 apps.users.social_auth_pipeline INFO     Saved user details for: mussajajjage@gmail.com
2025-05-04 09:25:28,401 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 09:25:28,408 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 09:25:28,538 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzUxNjI4LCJpYXQiOjE3NDYzNTA3MjgsImp0aSI6ImFmMjVmY2RjMDA3NjQ5Mzk4YjNiMjM1YmEyZmNiMzBjIiwidXNlcl9pZCI6IjJlYWNiZDBjLWM5NjctNDQ2OC04NTdmLTM1MzlkNTJhZjQ3NyJ9.x3cEhZgH7VaxT-kSHar9apgjTdnlPCYHdi9fx7z2dVw', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNzEyOCwiaWF0IjoxNzQ2MzUwNzI4LCJqdGkiOiIzNWEyMmEwMTQ0ODA0OGFmODRkNzc2ZTc4YWUyZTExMCIsInVzZXJfaWQiOiIyZWFjYmQwYy1jOTY3LTQ0NjgtODU3Zi0zNTM5ZDUyYWY0NzcifQ.aDU_7uOu_7TtPlLJFyViT7ZRX5rzskw8LRJvRrHPU5Y', 'user': 'mussajajjage@gmail.com'}
2025-05-04 09:25:28,540 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-04 09:25:28,566 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 09:27:21,346 apps.users.social_auth_pipeline INFO     Updated first name for user: 02uak8286@gmail.com
2025-05-04 09:27:21,347 apps.users.social_auth_pipeline INFO     Updated last name for user: 02uak8286@gmail.com
2025-05-04 09:27:21,348 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: 02uak8286@gmail.com
2025-05-04 09:27:21,367 apps.users.social_auth_pipeline INFO     Saved user details for: 02uak8286@gmail.com
2025-05-04 09:27:21,368 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 09:27:21,369 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 09:27:21,403 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzUxNzQxLCJpYXQiOjE3NDYzNTA4NDEsImp0aSI6IjQ0MGI3ODlmYjVhZTQzMGFiNWM5NDEwNzRlNzZiYWIzIiwidXNlcl9pZCI6IjEwZTI4MzNkLWNkYWYtNDA5Mi05MTkzLWUyOTAzY2I5MjlmZCJ9.hmloLFvJZK9opkQBSyIhyUOPpF54JhS-hucjwQdgbIE', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNzI0MSwiaWF0IjoxNzQ2MzUwODQxLCJqdGkiOiI1ZWZiMmMyNmRiNWU0YWZmOGMxZTVhY2JkODE4OTIxMCIsInVzZXJfaWQiOiIxMGUyODMzZC1jZGFmLTQwOTItOTE5My1lMjkwM2NiOTI5ZmQifQ.bV32VTnBSJh13HROC3-U8sEmRqq7g0eoCCqmNw9G1Gw', 'user': '02uak8286@gmail.com'}
2025-05-04 09:27:21,404 apps.users.views INFO     Found user email: 02uak8286@gmail.com
2025-05-04 09:27:21,438 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 09:29:46,299 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-04 09:29:48,652 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:30:33,935 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-04 09:30:40,579 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 09:33:25,990 apps.users.social_auth_pipeline INFO     Updated first name for user: jajjagesheka@gmail.com
2025-05-04 09:33:25,991 apps.users.social_auth_pipeline INFO     Updated last name for user: jajjagesheka@gmail.com
2025-05-04 09:33:25,992 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: jajjagesheka@gmail.com
2025-05-04 09:33:26,021 apps.users.social_auth_pipeline INFO     Saved user details for: jajjagesheka@gmail.com
2025-05-04 09:33:26,023 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-04 09:33:26,024 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-04 09:33:26,056 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2MzUyMTA2LCJpYXQiOjE3NDYzNTEyMDYsImp0aSI6ImE0YjMxZjA5NzkzZjQ0NTVhYjY3NmIyNTkwMjUxZmMyIiwidXNlcl9pZCI6IjYzMmM3MzUyLTA0ZTUtNDJjZC1iMjk4LTEwNzExOGNlYWI1OSJ9.NHzZn1CZBWn_J-QjkGFmvnyIKPFGe0htl0Lz_zzthqw', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjQzNzYwNiwiaWF0IjoxNzQ2MzUxMjA2LCJqdGkiOiJmMzBkMDZmZjQxMTU0Nzk2OGZiNjQ4N2JkMzUxNzNmZCIsInVzZXJfaWQiOiI2MzJjNzM1Mi0wNGU1LTQyY2QtYjI5OC0xMDcxMThjZWFiNTkifQ.PWknI9LB4zFfOrggRi8KzW76zE7bBMG67orXDD3ZRCA', 'user': 'jajjagesheka@gmail.com'}
2025-05-04 09:33:26,057 apps.users.views INFO     Found user email: jajjagesheka@gmail.com
2025-05-04 09:33:26,100 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 11:48:03,677 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-04 11:48:04,314 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 11:50:27,271 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 11:50:27,320 apps.users.views ERROR    Token refresh error: CustomUser matching query does not exist.
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 232, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 116, in validate
    user := get_user_model().objects.get(
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        **{api_settings.USER_ID_FIELD: user_id}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
apps.users.models.base.CustomUser.DoesNotExist: CustomUser matching query does not exist.
2025-05-04 11:50:27,355 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-04 11:51:47,894 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 11:52:53,522 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 11:52:53,622 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 11:53:07,011 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-04 11:53:22,223 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 11:55:03,246 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 11:55:03,402 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 11:55:04,527 django.request WARNING  Unauthorized: /api/v1/auth/login/
2025-05-04 11:56:00,199 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 11:57:26,902 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 11:57:27,853 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 12:03:38,061 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 12:03:39,824 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:03:47,778 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/permissions.py changed, reloading.
2025-05-04 12:03:49,263 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:04:09,110 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 12:04:10,723 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:04:13,912 apps.core.permissions WARNING  Permission denied: User Usman (BUYER) attempted to access UserProfileViewSet which requires one of ['SELLER']
2025-05-04 12:04:13,919 apps.core.permissions WARNING  Permission denied: User Usman (BUYER) attempted to access UserProfileViewSet which requires one of ['SELLER']
2025-05-04 12:04:13,988 django.request WARNING  Forbidden: /api/v1/users/profiles/
2025-05-04 12:04:22,146 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 12:04:23,849 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:04:47,641 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 12:04:51,480 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:04:58,025 django.request WARNING  Not Found: /api/v1/users/address/
2025-05-04 12:08:30,690 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 12:11:00,645 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 12:11:01,995 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:12:42,037 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/views.py changed, reloading.
2025-05-04 12:12:43,299 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:12:57,668 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/views.py changed, reloading.
2025-05-04 12:12:58,940 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:16:41,146 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views.py changed, reloading.
2025-05-04 12:16:42,685 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:16:48,628 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views.py changed, reloading.
2025-05-04 12:16:50,056 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:17:19,500 django.request WARNING  Not Found: /api/v1/products/6a82133d-35f1-4020-863a-e2ba421b4616/
2025-05-04 12:17:24,056 django.request WARNING  Not Found: /api/v1/products/6/
2025-05-04 12:17:35,469 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 731, in render
    context = self.get_context(data, accepted_media_type, renderer_context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 662, in get_context
    raw_data_post_form = self.get_raw_data_form(data, view, 'POST', request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 569, in get_raw_data_form
    data = serializer.data.copy()
           ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 255, in data
    self._data = self.get_initial()
                 ~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 423, in get_initial
    for field in self.fields.values()
                 ^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/utils/functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 374, in fields
    for key, value in self.get_fields().items():
                      ~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1081, in get_fields
    field_names = self.get_field_names(declared_fields, info)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1177, in get_field_names
    assert field_name in fields, (
           ^^^^^^^^^^^^^^^^^^^^
AssertionError: The field 'share_url' was declared on serializer ProductBaseSerializer, but has not been included in the 'fields' option.
2025-05-04 12:19:08,328 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:19:09,838 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:20:02,772 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:20:04,337 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:20:56,024 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "specifications" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (a123fda5-114c-4368-9770-c2b4ff047d77, 2025-05-04 12:20:55.896618+00, 2025-05-04 12:20:55.896641+00, Kaftan, hdhh, 20.00, null, USD, f, 0, f, DRAFT, null, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views.py", line 83, in create
    return super().create(request, *args, **kwargs)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 59, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "specifications" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (a123fda5-114c-4368-9770-c2b4ff047d77, 2025-05-04 12:20:55.896618+00, 2025-05-04 12:20:55.896641+00, Kaftan, hdhh, 20.00, null, USD, f, 0, f, DRAFT, null, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-04 12:22:21,306 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views.py changed, reloading.
2025-05-04 12:22:22,824 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:23:56,842 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views.py changed, reloading.
2025-05-04 12:23:58,211 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:24:36,085 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:24:37,683 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:24:39,326 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-04 12:24:39,329 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-04 12:24:39,332 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-04 12:24:39,333 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-04 12:24:39,385 django.request WARNING  Unauthorized: /api/v1/products/
2025-05-04 12:24:50,946 apps.users.views ERROR    Token refresh error: 'CookieTokenRefreshView' object has no attribute '_set_token_cookies'
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 236, in post
    response = self._set_token_cookies(response)
               ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CookieTokenRefreshView' object has no attribute '_set_token_cookies'. Did you mean: 'set_token_cookies'?
2025-05-04 12:24:51,044 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-04 12:24:54,744 apps.users.views ERROR    Token refresh error: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 112, in validate
    refresh = self.token_class(attrs["refresh"])
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 71, in __init__
    self.verify()
    ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 280, in verify
    self.check_blacklist()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 292, in check_blacklist
    raise TokenError(_("Token is blacklisted"))
rest_framework_simplejwt.exceptions.TokenError: Token is blacklisted

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 233, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 46, in post
    raise InvalidToken(e.args[0])
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-04 12:24:54,786 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-04 12:25:00,260 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 12:26:10,879 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-04 12:26:12,432 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:26:26,644 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-04 12:26:28,016 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:26:37,802 apps.users.views ERROR    Token refresh error: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 112, in validate
    refresh = self.token_class(attrs["refresh"])
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 71, in __init__
    self.verify()
    ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 280, in verify
    self.check_blacklist()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 292, in check_blacklist
    raise TokenError(_("Token is blacklisted"))
rest_framework_simplejwt.exceptions.TokenError: Token is blacklisted

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 233, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 46, in post
    raise InvalidToken(e.args[0])
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-04 12:26:37,919 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-04 12:26:38,529 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 12:26:47,639 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 12:26:47,669 apps.users.views ERROR    Token refresh error: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 112, in validate
    refresh = self.token_class(attrs["refresh"])
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 71, in __init__
    self.verify()
    ~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 280, in verify
    self.check_blacklist()
    ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/tokens.py", line 292, in check_blacklist
    raise TokenError(_("Token is blacklisted"))
rest_framework_simplejwt.exceptions.TokenError: Token is blacklisted

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 233, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 46, in post
    raise InvalidToken(e.args[0])
rest_framework_simplejwt.exceptions.InvalidToken: {'detail': ErrorDetail(string='Token is blacklisted', code='token_not_valid'), 'code': ErrorDetail(string='token_not_valid', code='token_not_valid')}
2025-05-04 12:26:47,693 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-04 12:27:06,819 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 12:27:14,829 apps.users.views ERROR    Token refresh error: 'CookieTokenRefreshView' object has no attribute '_set_token_cookies'
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 236, in post
    response = self._set_token_cookies(response)
               ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'CookieTokenRefreshView' object has no attribute '_set_token_cookies'. Did you mean: 'set_token_cookies'?
2025-05-04 12:27:14,890 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-04 12:27:15,593 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 12:28:28,517 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-04 12:28:30,111 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:28:34,957 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 12:28:35,700 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 12:28:42,565 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 12:28:43,404 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 12:29:04,196 django.utils.autoreload INFO     /workspaces/safetrade-backend/conf/settings/base.py changed, reloading.
2025-05-04 12:29:05,845 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:29:08,996 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 12:29:09,714 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 12:29:16,342 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 12:29:16,972 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 12:29:29,009 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-04 12:29:29,113 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-04 12:29:32,048 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 12:29:35,869 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 12:29:37,001 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 12:29:41,962 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 12:29:42,923 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 12:32:09,386 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (7ff9f643-4daf-4f0d-857a-b9a2e506bcf5, 2025-05-04 12:32:09.305966+00, 2025-05-04 12:32:09.305983+00, Kaftan, jjrjr, 20.00, 12.00, USD, t, 23, t, DRAFT, {"dll": "kff"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views.py", line 83, in create
    return super().create(request, *args, **kwargs)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 59, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (7ff9f643-4daf-4f0d-857a-b9a2e506bcf5, 2025-05-04 12:32:09.305966+00, 2025-05-04 12:32:09.305983+00, Kaftan, jjrjr, 20.00, 12.00, USD, t, 23, t, DRAFT, {"dll": "kff"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-04 12:33:35,938 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:33:37,479 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:33:40,917 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (37e09f39-5004-4410-907f-3bdecb061526, 2025-05-04 12:33:40.809251+00, 2025-05-04 12:33:40.809275+00, Kaftan, jjrjr, 20.00, 12.00, USD, t, 23, t, DRAFT, {"dll": "kff"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views.py", line 83, in create
    return super().create(request, *args, **kwargs)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 59, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (37e09f39-5004-4410-907f-3bdecb061526, 2025-05-04 12:33:40.809251+00, 2025-05-04 12:33:40.809275+00, Kaftan, jjrjr, 20.00, 12.00, USD, t, 23, t, DRAFT, {"dll": "kff"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-04 12:33:51,455 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (541d07df-25ec-4b1c-a09e-33969706b6b2, 2025-05-04 12:33:51.371626+00, 2025-05-04 12:33:51.371644+00, Kaftan, jjrjr, 20.00, 12.00, USD, t, 23, t, DRAFT, {"dll": "kff"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views.py", line 83, in create
    return super().create(request, *args, **kwargs)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 59, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (541d07df-25ec-4b1c-a09e-33969706b6b2, 2025-05-04 12:33:51.371626+00, 2025-05-04 12:33:51.371644+00, Kaftan, jjrjr, 20.00, 12.00, USD, t, 23, t, DRAFT, {"dll": "kff"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-04 12:36:24,287 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/urls.py changed, reloading.
2025-05-04 12:36:26,005 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:36:41,029 django.request ERROR    Internal Server Error: /api/v1/category/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 30, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1010, in create
    raise TypeError(msg)
TypeError: Got a `TypeError` when calling `Category.objects.create()`. This may be because you have a writable field on the serializer class that is not a valid argument to `Category.objects.create()`. You may need to make the field read-only, or override the CategorySerializer.create() method to handle this correctly.
Original exception was:
 Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

2025-05-04 12:37:18,859 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:37:20,658 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:37:53,707 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:37:55,110 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:38:02,872 django.request ERROR    Internal Server Error: /api/v1/category/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 30, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1010, in create
    raise TypeError(msg)
TypeError: Got a `TypeError` when calling `Category.objects.create()`. This may be because you have a writable field on the serializer class that is not a valid argument to `Category.objects.create()`. You may need to make the field read-only, or override the CategorySerializer.create() method to handle this correctly.
Original exception was:
 Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

2025-05-04 12:38:24,184 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:38:26,222 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:38:29,188 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:38:31,119 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:38:34,187 django.request ERROR    Internal Server Error: /api/v1/category/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 30, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1010, in create
    raise TypeError(msg)
TypeError: Got a `TypeError` when calling `Category.objects.create()`. This may be because you have a writable field on the serializer class that is not a valid argument to `Category.objects.create()`. You may need to make the field read-only, or override the CategorySerializer.create() method to handle this correctly.
Original exception was:
 Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

2025-05-04 12:40:30,707 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:40:32,365 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:40:44,378 django.request ERROR    Internal Server Error: /api/v1/category/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 30, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1010, in create
    raise TypeError(msg)
TypeError: Got a `TypeError` when calling `Category.objects.create()`. This may be because you have a writable field on the serializer class that is not a valid argument to `Category.objects.create()`. You may need to make the field read-only, or override the CategorySerializer.create() method to handle this correctly.
Original exception was:
 Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

2025-05-04 12:54:39,621 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:54:41,099 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:55:01,390 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:55:02,674 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:55:59,112 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:56:00,593 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:56:58,687 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:57:00,203 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:57:24,914 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/category.py changed, reloading.
2025-05-04 12:57:26,213 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:57:28,964 django.request WARNING  Unauthorized: /api/v1/category/
2025-05-04 12:57:33,260 apps.users.utils INFO     Authentication cookies set successfully
2025-05-04 12:57:34,337 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-04 12:57:38,768 django.request ERROR    Internal Server Error: /api/v1/category/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 30, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1010, in create
    raise TypeError(msg)
TypeError: Got a `TypeError` when calling `Category.objects.create()`. This may be because you have a writable field on the serializer class that is not a valid argument to `Category.objects.create()`. You may need to make the field read-only, or override the CategorySerializer.create() method to handle this correctly.
Original exception was:
 Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

2025-05-04 12:58:43,305 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views.py changed, reloading.
2025-05-04 12:58:44,751 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 12:59:52,937 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 12:59:54,363 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 13:00:45,952 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 13:00:47,331 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 13:00:53,684 django.request ERROR    Internal Server Error: /api/v1/category/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 31, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1010, in create
    raise TypeError(msg)
TypeError: Got a `TypeError` when calling `Category.objects.create()`. This may be because you have a writable field on the serializer class that is not a valid argument to `Category.objects.create()`. You may need to make the field read-only, or override the CategorySerializer.create() method to handle this correctly.
Original exception was:
 Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: Category() got unexpected keyword arguments: 'seller'

2025-05-04 13:01:45,204 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views.py changed, reloading.
2025-05-04 13:01:46,592 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 13:04:50,936 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "specifications" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (6c14b16a-a669-4b43-a1b8-d6f751f601b9, 2025-05-04 13:04:50.855118+00, 2025-05-04 13:04:50.855134+00, Kaftan, www, 20.00, 12.00, USD, f, 23, f, DRAFT, null, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views.py", line 84, in create
    return super().create(request, *args, **kwargs)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 60, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "specifications" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (6c14b16a-a669-4b43-a1b8-d6f751f601b9, 2025-05-04 13:04:50.855118+00, 2025-05-04 13:04:50.855134+00, Kaftan, www, 20.00, 12.00, USD, f, 23, f, DRAFT, null, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-04 13:05:30,640 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (76d270ac-9609-41a2-b1d8-5b0845e9db38, 2025-05-04 13:05:30.558927+00, 2025-05-04 13:05:30.558943+00, Kaftan, www, 20.00, 12.00, USD, f, 23, f, DRAFT, {"sksk": "sdff"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views.py", line 84, in create
    return super().create(request, *args, **kwargs)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 60, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (76d270ac-9609-41a2-b1d8-5b0845e9db38, 2025-05-04 13:05:30.558927+00, 2025-05-04 13:05:30.558943+00, Kaftan, www, 20.00, 12.00, USD, f, 23, f, DRAFT, {"sksk": "sdff"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-04 13:06:02,040 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 13:06:03,425 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 13:06:36,479 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 13:06:38,435 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 13:06:59,072 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 13:07:00,429 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 13:07:51,114 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (20a9ee4c-0bcc-4e4a-9d7e-5078bc5d54df, 2025-05-04 13:07:51.029953+00, 2025-05-04 13:07:51.029996+00, Kaftan, qefe, 20.00, 12.00, USD, f, 23, t, DRAFT, {"ssdd": "sSs"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views.py", line 84, in create
    return super().create(request, *args, **kwargs)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 60, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (20a9ee4c-0bcc-4e4a-9d7e-5078bc5d54df, 2025-05-04 13:07:51.029953+00, 2025-05-04 13:07:51.029996+00, Kaftan, qefe, 20.00, 12.00, USD, f, 23, t, DRAFT, {"ssdd": "sSs"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-04 13:09:11,852 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 13:09:13,408 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 13:09:17,266 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (cba7dd8d-08a6-4d9c-b26f-265915deedf9, 2025-05-04 13:09:17.170433+00, 2025-05-04 13:09:17.170476+00, Kaftan, qefe, 20.00, 12.00, USD, f, 23, t, DRAFT, {"ssdd": "sSs"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views.py", line 84, in create
    return super().create(request, *args, **kwargs)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 60, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (cba7dd8d-08a6-4d9c-b26f-265915deedf9, 2025-05-04 13:09:17.170433+00, 2025-05-04 13:09:17.170476+00, Kaftan, qefe, 20.00, 12.00, USD, f, 23, t, DRAFT, {"ssdd": "sSs"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-04 13:10:08,847 django.request WARNING  Bad Request: /api/v1/products/
2025-05-04 13:10:19,650 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (f58ab32f-37c7-47b4-9c62-01e5c575f1f5, 2025-05-04 13:10:19.580831+00, 2025-05-04 13:10:19.580848+00, Kaftan, dd, 20.00, 12.00, USD, f, 23, t, DRAFT, {"fgfg": "ghh"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views.py", line 84, in create
    return super().create(request, *args, **kwargs)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 60, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (f58ab32f-37c7-47b4-9c62-01e5c575f1f5, 2025-05-04 13:10:19.580831+00, 2025-05-04 13:10:19.580848+00, Kaftan, dd, 20.00, 12.00, USD, f, 23, t, DRAFT, {"fgfg": "ghh"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-04 13:11:16,829 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views.py changed, reloading.
2025-05-04 13:11:18,817 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 13:11:21,743 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (72954c6d-e2ab-4ce7-950e-15d0eb5a91a0, 2025-05-04 13:11:21.646485+00, 2025-05-04 13:11:21.646503+00, Kaftan, dd, 20.00, 12.00, USD, f, 23, t, DRAFT, {"fgfg": "ghh"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views.py", line 84, in create
    return super().create(request, *args, **kwargs)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views.py", line 60, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "category_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (72954c6d-e2ab-4ce7-950e-15d0eb5a91a0, 2025-05-04 13:11:21.646485+00, 2025-05-04 13:11:21.646503+00, Kaftan, dd, 20.00, 12.00, USD, f, 23, t, DRAFT, {"fgfg": "ghh"}, kaftan, null, null, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-04 13:11:52,316 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 13:11:53,782 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 13:12:24,663 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views.py changed, reloading.
2025-05-04 13:12:25,917 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 21:20:32,322 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 21:20:34,589 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 21:21:23,873 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers.py changed, reloading.
2025-05-04 21:21:26,319 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 21:37:33,185 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views.py changed, reloading.
2025-05-04 21:37:35,612 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 21:39:30,421 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views.py changed, reloading.
2025-05-04 21:39:32,774 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 21:40:19,568 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views.py changed, reloading.
2025-05-04 21:40:21,733 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 21:40:45,833 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/urls.py changed, reloading.
2025-05-04 21:40:47,704 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 21:46:18,806 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/apps.py changed, reloading.
2025-05-04 21:46:21,267 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 21:47:30,541 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/apps.py changed, reloading.
2025-05-04 21:47:32,399 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 22:39:33,157 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/urls.py changed, reloading.
2025-05-04 22:39:35,729 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 22:42:30,586 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/base.py changed, reloading.
2025-05-04 22:42:32,650 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-04 22:42:49,463 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/base.py changed, reloading.
2025-05-04 22:42:51,566 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 08:52:56,279 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/base.py changed, reloading.
2025-05-05 08:52:58,321 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 08:54:04,702 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/base.py changed, reloading.
2025-05-05 08:54:06,867 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 08:54:40,516 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/base.py changed, reloading.
2025-05-05 08:54:43,313 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 08:54:58,224 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/base.py changed, reloading.
2025-05-05 08:55:00,282 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 08:57:25,116 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/__init__.py changed, reloading.
2025-05-05 08:57:27,409 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:01:49,809 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 09:01:52,106 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:05:31,248 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:11:48,238 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 09:11:50,410 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:12:14,073 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 09:12:16,731 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:14:18,593 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 09:14:20,654 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:16:26,357 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 09:16:28,444 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:16:45,123 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 09:16:47,376 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:18:38,866 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 09:18:40,922 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:20:36,520 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/__init__.py changed, reloading.
2025-05-05 09:20:38,685 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:22:54,079 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/__init__.py changed, reloading.
2025-05-05 09:22:56,297 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:23:51,585 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/urls.py changed, reloading.
2025-05-05 09:23:53,518 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:24:04,437 django.request WARNING  Unauthorized: /api/v1/products/
2025-05-05 09:24:10,626 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 09:24:12,556 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 09:24:17,613 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "condition_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (6cba31bf-f4be-41f8-8a8e-9ea05931eb42, 2025-05-05 09:24:17.309787+00, 2025-05-05 09:24:17.30985+00, Kaftan, , 0.00, null, USD, t, 0, f, DRAFT, {}, kaftan, Q4HDLS, 4a6d581f-1e8e-403b-9d16-005673262ed8, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 87, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/serializers/products.py", line 72, in create
    return super().create(validated_data)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "condition_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (6cba31bf-f4be-41f8-8a8e-9ea05931eb42, 2025-05-05 09:24:17.309787+00, 2025-05-05 09:24:17.30985+00, Kaftan, , 0.00, null, USD, t, 0, f, DRAFT, {}, kaftan, Q4HDLS, 4a6d581f-1e8e-403b-9d16-005673262ed8, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-05 09:24:35,562 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "condition_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (8b430cf3-a48d-4b94-abc1-925ea79ebd07, 2025-05-05 09:24:35.124966+00, 2025-05-05 09:24:35.125028+00, Kaftan, , 0.00, null, USD, t, 0, f, DRAFT, {}, kaftan, UD9XQH, 4a6d581f-1e8e-403b-9d16-005673262ed8, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 87, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/serializers/products.py", line 72, in create
    return super().create(validated_data)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "condition_id" of relation "products" violates not-null constraint
DETAIL:  Failing row contains (8b430cf3-a48d-4b94-abc1-925ea79ebd07, 2025-05-05 09:24:35.124966+00, 2025-05-05 09:24:35.125028+00, Kaftan, , 0.00, null, USD, t, 0, f, DRAFT, {}, kaftan, UD9XQH, 4a6d581f-1e8e-403b-9d16-005673262ed8, 58d638ed-810c-4d3d-aa6d-905e2aa97a14, null).

2025-05-05 09:29:44,802 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 09:29:47,330 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:29:58,718 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 09:30:01,005 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:30:36,586 django.request WARNING  Bad Request: /api/v1/products/
2025-05-05 09:36:55,773 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/conditions.py changed, reloading.
2025-05-05 09:36:58,331 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:38:08,731 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/conditions.py changed, reloading.
2025-05-05 09:38:10,761 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:38:23,897 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/conditions.py changed, reloading.
2025-05-05 09:38:26,176 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:38:46,996 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/conditions.py changed, reloading.
2025-05-05 09:38:49,165 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:38:58,522 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/conditions.py changed, reloading.
2025-05-05 09:39:00,430 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:39:27,580 django.request WARNING  Unauthorized: /api/v1/conditions/active/
2025-05-05 09:39:33,773 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 09:39:35,376 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 09:39:39,748 django.request WARNING  Forbidden: /api/v1/conditions/active/
2025-05-05 09:40:30,883 django.request WARNING  Forbidden: /api/v1/conditions/popular/
2025-05-05 09:40:44,909 django.request WARNING  Not Found: /api/v1/conditions/product/
2025-05-05 09:40:50,785 django.request WARNING  Not Found: /api/v1/conditions/products/
2025-05-05 09:41:20,950 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:41:25,721 django.request WARNING  Not Found: /api/v1/conditions/products/
2025-05-05 09:41:33,482 django.request WARNING  Forbidden: /api/v1/conditions/products/products/
2025-05-05 09:41:48,043 django.request WARNING  Not Found: /api/v1/conditions/products/
2025-05-05 09:42:17,589 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/conditions.py changed, reloading.
2025-05-05 09:42:20,075 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:42:31,350 django.request WARNING  Forbidden: /api/v1/conditions/products/
2025-05-05 09:44:47,944 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/conditions.py changed, reloading.
2025-05-05 09:44:50,216 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:44:58,326 apps.core.permissions WARNING  Permission denied: User Abdurrazaq (SELLER) attempted to access ProductConditionViewSet which requires one of ['BUYER']
2025-05-05 09:44:58,335 apps.core.permissions WARNING  Permission denied: User Abdurrazaq (SELLER) attempted to access ProductConditionViewSet which requires one of ['BUYER']
2025-05-05 09:44:58,426 django.request WARNING  Forbidden: /api/v1/conditions/popular/
2025-05-05 09:45:19,349 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/conditions.py changed, reloading.
2025-05-05 09:45:22,436 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:45:28,696 apps.core.permissions WARNING  Permission denied: User Abdurrazaq (SELLER) attempted to access ProductConditionViewSet which requires one of ['BUYER']
2025-05-05 09:45:28,809 django.request ERROR    Internal Server Error: /api/v1/conditions/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 731, in render
    context = self.get_context(data, accepted_media_type, renderer_context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 662, in get_context
    raw_data_post_form = self.get_raw_data_form(data, view, 'POST', request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 569, in get_raw_data_form
    data = serializer.data.copy()
           ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 255, in data
    self._data = self.get_initial()
                 ~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 423, in get_initial
    for field in self.fields.values()
                 ^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/utils/functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 374, in fields
    for key, value in self.get_fields().items():
                      ~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1105, in get_fields
    field_class, field_kwargs = self.build_field(
                                ~~~~~~~~~~~~~~~~^
        source, info, model, depth
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1251, in build_field
    return self.build_unknown_field(field_name, model_class)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1369, in build_unknown_field
    raise ImproperlyConfigured(
    ...<2 lines>...
    )
django.core.exceptions.ImproperlyConfigured: Field name `is_active` is not valid for model `ProductCondition` in `apps.products.serializers.conditions.ProductConditionWriteSerializer`.
2025-05-05 09:45:29,548 apps.core.permissions WARNING  Permission denied: User Abdurrazaq (SELLER) attempted to access ProductConditionViewSet which requires one of ['BUYER']
2025-05-05 09:45:29,666 django.request ERROR    Internal Server Error: /api/v1/conditions/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 731, in render
    context = self.get_context(data, accepted_media_type, renderer_context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 662, in get_context
    raw_data_post_form = self.get_raw_data_form(data, view, 'POST', request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 569, in get_raw_data_form
    data = serializer.data.copy()
           ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 255, in data
    self._data = self.get_initial()
                 ~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 423, in get_initial
    for field in self.fields.values()
                 ^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/utils/functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 374, in fields
    for key, value in self.get_fields().items():
                      ~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1105, in get_fields
    field_class, field_kwargs = self.build_field(
                                ~~~~~~~~~~~~~~~~^
        source, info, model, depth
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1251, in build_field
    return self.build_unknown_field(field_name, model_class)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1369, in build_unknown_field
    raise ImproperlyConfigured(
    ...<2 lines>...
    )
django.core.exceptions.ImproperlyConfigured: Field name `is_active` is not valid for model `ProductCondition` in `apps.products.serializers.conditions.ProductConditionWriteSerializer`.
2025-05-05 09:45:39,007 apps.core.permissions WARNING  Permission denied: User Abdurrazaq (SELLER) attempted to access ProductConditionViewSet which requires one of ['BUYER']
2025-05-05 09:45:39,266 django.request ERROR    Internal Server Error: /api/v1/conditions/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 731, in render
    context = self.get_context(data, accepted_media_type, renderer_context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 662, in get_context
    raw_data_post_form = self.get_raw_data_form(data, view, 'POST', request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 569, in get_raw_data_form
    data = serializer.data.copy()
           ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 255, in data
    self._data = self.get_initial()
                 ~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 423, in get_initial
    for field in self.fields.values()
                 ^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/utils/functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 374, in fields
    for key, value in self.get_fields().items():
                      ~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1105, in get_fields
    field_class, field_kwargs = self.build_field(
                                ~~~~~~~~~~~~~~~~^
        source, info, model, depth
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1251, in build_field
    return self.build_unknown_field(field_name, model_class)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1369, in build_unknown_field
    raise ImproperlyConfigured(
    ...<2 lines>...
    )
django.core.exceptions.ImproperlyConfigured: Field name `is_active` is not valid for model `ProductCondition` in `apps.products.serializers.conditions.ProductConditionWriteSerializer`.
2025-05-05 09:47:01,016 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/product_condition.py changed, reloading.
2025-05-05 09:47:05,488 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:47:43,234 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/product_condition.py changed, reloading.
2025-05-05 09:47:46,620 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:48:04,446 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/migrations/0003_productcondition_is_active.py changed, reloading.
2025-05-05 09:48:09,355 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:48:25,025 apps.core.permissions WARNING  Permission denied: User Abdurrazaq (SELLER) attempted to access ProductConditionViewSet which requires one of ['BUYER']
2025-05-05 09:48:25,046 apps.core.permissions WARNING  Permission denied: User Abdurrazaq (SELLER) attempted to access ProductConditionViewSet which requires one of ['BUYER']
2025-05-05 09:48:25,150 django.request WARNING  Forbidden: /api/v1/conditions/
2025-05-05 09:49:14,316 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/conditions.py changed, reloading.
2025-05-05 09:49:17,164 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 09:50:01,833 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/dispatch/dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "/workspaces/safetrade-backend/apps/products/signals.py", line 40, in ensure_product_meta
    ProductMeta.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        product=instance,
        ^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        share_button_clicks=0,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: ProductMeta() got unexpected keyword arguments: 'view_count', 'facebook_shares', 'twitter_shares', 'instagram_shares', 'share_button_clicks'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 87, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/serializers/products.py", line 54, in create
    return super().create(validated_data)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1010, in create
    raise TypeError(msg)
TypeError: Got a `TypeError` when calling `Product.objects.create()`. This may be because you have a writable field on the serializer class that is not a valid argument to `Product.objects.create()`. You may need to make the field read-only, or override the ProductCreateSerializer.create() method to handle this correctly.
Original exception was:
 Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/dispatch/dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "/workspaces/safetrade-backend/apps/products/signals.py", line 40, in ensure_product_meta
    ProductMeta.objects.create(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        product=instance,
        ^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        share_button_clicks=0,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 677, in create
    obj = self.model(**kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 567, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: ProductMeta() got unexpected keyword arguments: 'view_count', 'facebook_shares', 'twitter_shares', 'instagram_shares', 'share_button_clicks'

2025-05-05 09:53:32,398 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/signals.py changed, reloading.
2025-05-05 09:53:34,432 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 10:09:29,909 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 10:09:32,306 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 10:12:32,234 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 10:12:34,950 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 10:13:29,462 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 10:13:31,841 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 10:14:35,027 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/product_metadata.py changed, reloading.
2025-05-05 10:14:37,298 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 10:15:30,894 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/signals.py changed, reloading.
2025-05-05 10:15:33,238 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 10:15:43,809 django.request WARNING  Unauthorized: /api/v1/products/
2025-05-05 10:15:50,583 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 10:15:51,881 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 10:15:54,064 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django_filters/rest_framework/backends.py", line 68, in filter_queryset
    filterset = self.get_filterset(request, queryset, view)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django_filters/rest_framework/backends.py", line 20, in get_filterset
    filterset_class = self.get_filterset_class(view, queryset)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django_filters/rest_framework/backends.py", line 35, in get_filterset_class
    filterset_model = filterset_class._meta.model
                      ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute '_meta'
2025-05-05 10:17:52,351 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django_filters/rest_framework/backends.py", line 68, in filter_queryset
    filterset = self.get_filterset(request, queryset, view)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django_filters/rest_framework/backends.py", line 20, in get_filterset
    filterset_class = self.get_filterset_class(view, queryset)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django_filters/rest_framework/backends.py", line 35, in get_filterset_class
    filterset_model = filterset_class._meta.model
                      ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute '_meta'
2025-05-05 10:20:03,063 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 10:20:05,530 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 10:20:13,792 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 10:20:19,764 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 38, in list
    queryset = self.filter_queryset(self.get_queryset())
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 154, in filter_queryset
    queryset = backend().filter_queryset(self.request, queryset, self)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django_filters/rest_framework/backends.py", line 68, in filter_queryset
    filterset = self.get_filterset(request, queryset, view)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django_filters/rest_framework/backends.py", line 20, in get_filterset
    filterset_class = self.get_filterset_class(view, queryset)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django_filters/rest_framework/backends.py", line 35, in get_filterset_class
    filterset_model = filterset_class._meta.model
                      ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute '_meta'
2025-05-05 11:19:15,446 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 11:19:15,546 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 11:22:14,536 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:22:48,308 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 19, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 85, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/serializers/products.py", line 54, in create
    return super().create(validated_data)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/models/base.py", line 65, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1013, in save_base
    post_save.send(
    ~~~~~~~~~~~~~~^
        sender=origin,
        ^^^^^^^^^^^^^^
    ...<4 lines>...
        using=using,
        ^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/dispatch/dispatcher.py", line 189, in send
    response = receiver(signal=self, sender=sender, **named)
  File "/workspaces/safetrade-backend/apps/products/signals.py", line 45, in ensure_product_meta
    seo_keywords=instance.seo_keywords or "",
                 ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Product' object has no attribute 'seo_keywords'
2025-05-05 11:23:41,756 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/signals.py changed, reloading.
2025-05-05 11:23:43,803 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:26:36,714 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 526, in options
    data = self.metadata_class().determine_metadata(request, self)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/metadata.py", line 67, in determine_metadata
    actions = self.determine_actions(request, view)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/metadata.py", line 93, in determine_actions
    actions[method] = self.get_serializer_info(serializer)
                      ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/metadata.py", line 109, in get_serializer_info
    field_name: self.get_field_info(field)
                ~~~~~~~~~~~~~~~~~~~^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/metadata.py", line 138, in get_field_info
    elif getattr(field, 'fields', None):
         ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/utils/functional.py", line 47, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
                                         ~~~~~~~~~^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 374, in fields
    for key, value in self.get_fields().items():
                      ~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1105, in get_fields
    field_class, field_kwargs = self.build_field(
                                ~~~~~~~~~~~~~~~~^
        source, info, model, depth
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1251, in build_field
    return self.build_unknown_field(field_name, model_class)
           ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 1369, in build_unknown_field
    raise ImproperlyConfigured(
    ...<2 lines>...
    )
django.core.exceptions.ImproperlyConfigured: Field name `is_active` is not valid for model `Category` in `apps.products.serializers.category.CategoryDetailSerializer`.
2025-05-05 11:27:25,923 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/category.py changed, reloading.
2025-05-05 11:27:27,581 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:28:00,095 django.request ERROR    Internal Server Error: /api/v1/products/de55d6d0-0491-4320-8f48-e9b40ae1f040/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/products/serializers/products.py", line 184, in get_seller
    if hasattr(obj.seller, "profile") and obj.seller.profile.avatar
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserProfile' object has no attribute 'avatar'
2025-05-05 11:29:53,950 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 11:29:55,490 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:30:00,713 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 11:30:02,268 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:31:12,459 django.request ERROR    Internal Server Error: /api/v1/products/de55d6d0-0491-4320-8f48-e9b40ae1f040/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/products/serializers/products.py", line 184, in get_seller
    if hasattr(obj.seller, "profile") and obj.seller.profile.profile_url
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserProfile' object has no attribute 'profile_url'
2025-05-05 11:33:16,816 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 11:33:18,719 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:40:27,900 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/models/user_profile.py changed, reloading.
2025-05-05 11:40:29,926 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:45:41,460 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/models/user_profile.py changed, reloading.
2025-05-05 11:45:43,686 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:46:57,524 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-05 11:46:59,969 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:48:52,865 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-05-05 11:48:54,303 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:49:04,423 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/signals.py changed, reloading.
2025-05-05 11:49:05,771 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:50:51,293 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 11:50:52,794 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:51:49,556 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/models/user_profile.py changed, reloading.
2025-05-05 11:51:51,031 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:54:11,220 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/migrations/0002_initial.py changed, reloading.
2025-05-05 11:54:13,090 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:54:37,071 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 11:54:54,334 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 11:54:54,439 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 11:55:04,354 apps.users.social_auth_pipeline INFO     Updated avatar_url for existing user: mussajajjage@gmail.com
2025-05-05 11:55:04,355 apps.users.social_auth_pipeline INFO     Updated first name for user: mussajajjage@gmail.com
2025-05-05 11:55:04,355 apps.users.social_auth_pipeline INFO     Updated last name for user: mussajajjage@gmail.com
2025-05-05 11:55:04,355 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mussajajjage@gmail.com
2025-05-05 11:55:04,430 apps.users.social_auth_pipeline INFO     Saved user details for: mussajajjage@gmail.com
2025-05-05 11:55:04,430 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 11:55:04,430 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 11:55:04,516 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDQ3MDA0LCJpYXQiOjE3NDY0NDYxMDQsImp0aSI6Ijc3YTYyY2VkNTY3NDQ0MDc5NGNhZDE4YWUxZWVlMmFmIiwidXNlcl9pZCI6IjI1ZTk2MjI0LWUwYjEtNDVjNC05N2JlLTQ5MTMzODFlNjg3YSJ9.MrHYFOsLw2eUYPusabUnmK3Or7L5fA4UFjTg7h0eO84', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzMjUwNCwiaWF0IjoxNzQ2NDQ2MTA0LCJqdGkiOiI3YzVkM2RjN2MxN2E0NDM1OTE3YzViMGVjNWQ2YmE4NyIsInVzZXJfaWQiOiIyNWU5NjIyNC1lMGIxLTQ1YzQtOTdiZS00OTEzMzgxZTY4N2EifQ.y9NWqoO8Irdsp-ujHjVBRVMWyXaty2dQEzy9Psp5pNs', 'user': 'mussajajjage@gmail.com'}
2025-05-05 11:55:04,517 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-05 11:55:04,534 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 11:55:40,486 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 11:55:57,214 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 11:55:57,295 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 11:58:19,639 apps.users.social_auth_pipeline INFO     Updated avatar_url for existing user: mustaphajajjage@gmail.com
2025-05-05 11:58:19,640 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 11:58:19,640 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 11:58:19,641 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 11:58:19,664 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 11:58:19,665 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 11:58:19,666 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 11:58:19,684 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDQ3MTk5LCJpYXQiOjE3NDY0NDYyOTksImp0aSI6ImYzNTlkOGQ0ZjgzYjQxMWVhNjYxMTRjYzA5MDRiMWJkIiwidXNlcl9pZCI6Ijk0Y2QwYzVlLWU1MDYtNDNhYi1iNGMyLTkxODRjZTNjMzRlMSJ9.NYabQ3FsOwcbWgGSY_jYYwHFzCH7z2bh7waSHV0wnd8', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzMjY5OSwiaWF0IjoxNzQ2NDQ2Mjk5LCJqdGkiOiJjNDRmOGUxYjdhMWI0ZWZkOTAzNDhmOGUzYmI3Njg1YSIsInVzZXJfaWQiOiI5NGNkMGM1ZS1lNTA2LTQzYWItYjRjMi05MTg0Y2UzYzM0ZTEifQ.w-_3d1Myk7ftbAJ79TmHfsP9NrSwlbe1FmvoIXe6Xww', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 11:58:19,685 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 11:58:19,732 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 11:59:05,373 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 11:59:05,448 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 12:03:47,957 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 12:03:48,033 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 12:04:03,953 apps.users.social_auth_pipeline INFO     Updated avatar_url for existing user: mussajajjage@gmail.com
2025-05-05 12:04:03,953 apps.users.social_auth_pipeline INFO     Updated first name for user: mussajajjage@gmail.com
2025-05-05 12:04:03,953 apps.users.social_auth_pipeline INFO     Updated last name for user: mussajajjage@gmail.com
2025-05-05 12:04:03,954 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mussajajjage@gmail.com
2025-05-05 12:04:03,966 apps.users.social_auth_pipeline INFO     Saved user details for: mussajajjage@gmail.com
2025-05-05 12:04:03,967 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 12:04:03,967 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 12:04:03,988 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDQ3NTQzLCJpYXQiOjE3NDY0NDY2NDMsImp0aSI6IjdiNGIzNjk4NjU5NTQ3MjI4NGM5Mzk2NDA0NWNiN2ZlIiwidXNlcl9pZCI6IjI1ZTk2MjI0LWUwYjEtNDVjNC05N2JlLTQ5MTMzODFlNjg3YSJ9.FCTXAxj8JaVI1QfLe5gjxESZmEmkZ8QUooe2OwtNgCU', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzMzA0MywiaWF0IjoxNzQ2NDQ2NjQzLCJqdGkiOiIyOGQ4MjUwZjdiMGI0MjRhYjQwZDAyMDc1OTc0ZjUwYiIsInVzZXJfaWQiOiIyNWU5NjIyNC1lMGIxLTQ1YzQtOTdiZS00OTEzMzgxZTY4N2EifQ.CBFdXzJkrjw8-PlQ0BRf0JNVGS1vS2tInCi_m932aiI', 'user': 'mussajajjage@gmail.com'}
2025-05-05 12:04:03,988 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-05 12:04:04,008 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 12:04:37,439 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 12:04:37,568 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 12:04:49,874 apps.users.social_auth_pipeline INFO     Updated avatar_url for existing user: mussajajjage@gmail.com
2025-05-05 12:04:49,875 apps.users.social_auth_pipeline INFO     Updated first name for user: mussajajjage@gmail.com
2025-05-05 12:04:49,875 apps.users.social_auth_pipeline INFO     Updated last name for user: mussajajjage@gmail.com
2025-05-05 12:04:49,876 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mussajajjage@gmail.com
2025-05-05 12:04:49,904 apps.users.social_auth_pipeline INFO     Saved user details for: mussajajjage@gmail.com
2025-05-05 12:04:49,906 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 12:04:49,907 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 12:04:49,941 apps.users.social_auth_pipeline INFO     Created buyer address for user: mussajajjage@gmail.com
2025-05-05 12:04:49,972 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDQ3NTg5LCJpYXQiOjE3NDY0NDY2ODksImp0aSI6ImVlZWYyODNmZGVlZDQ5YWQ4MTY2Y2NkMTc2Y2Q0Njc4IiwidXNlcl9pZCI6IjI1ZTk2MjI0LWUwYjEtNDVjNC05N2JlLTQ5MTMzODFlNjg3YSJ9.mN-fZQQ90bc5rLloneYqcIufVNPojhcu6T9riCBcmFo', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzMzA4OSwiaWF0IjoxNzQ2NDQ2Njg5LCJqdGkiOiIzYWNhZTYwYzkwNGE0ZGIyYWQ1ODUyYzk4MGVmMzkxZCIsInVzZXJfaWQiOiIyNWU5NjIyNC1lMGIxLTQ1YzQtOTdiZS00OTEzMzgxZTY4N2EifQ.ymo4vEeE7cgymgz8FoVgKRl4Qe1oxoJsmLvcYN2tlOQ', 'user': 'mussajajjage@gmail.com'}
2025-05-05 12:04:49,973 apps.users.views INFO     Found user email: mussajajjage@gmail.com
2025-05-05 12:04:50,018 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 12:11:55,669 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/social_auth_pipeline.py changed, reloading.
2025-05-05 12:11:57,990 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 12:14:56,621 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 12:14:56,621 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 12:14:56,622 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 12:14:56,646 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 12:14:56,648 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 12:14:56,649 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 12:14:56,982 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDQ4MTk2LCJpYXQiOjE3NDY0NDcyOTYsImp0aSI6IjM1Y2NhNGQ3MDYxYjRlYmI5MDIyNDExMTNhZjI1OWU0IiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.ZLRZQMGQ0yQc1iJzIp0yjjuFo0GUY-Hx92EifZ6SOfI', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzMzY5NiwiaWF0IjoxNzQ2NDQ3Mjk2LCJqdGkiOiI2NTEwODM2MTllMGU0MTRhYjkzYTU5NTZlYTIzY2FjMyIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.rIGDr9VUgEl-7HVGsCWoQaDU59mYMsZMeEm1WinXDBg', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 12:14:56,984 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 12:14:57,042 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 12:16:56,043 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 12:16:56,186 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 12:19:02,515 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-05 12:19:05,209 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 12:19:12,012 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 12:19:12,013 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 12:19:12,014 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 12:19:12,036 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 12:19:12,037 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 12:19:12,038 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 12:19:12,165 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDQ4NDUyLCJpYXQiOjE3NDY0NDc1NTIsImp0aSI6IjAzN2E1YzI3YjcxNTQ2NjU4ZWQ4MGQ5ZTY3NzI4MTcxIiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.vS2CAvmU40QRn8CakSHZB4afQ0V1gL4ybSXzLpFlahM', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzMzk1MiwiaWF0IjoxNzQ2NDQ3NTUyLCJqdGkiOiJkNjVjMWJjY2YxZDM0ZTE3YjZkNjViY2I5NTQwMzQwMSIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.KTyXgLcyi4SheW7GKP_guoENjQsB8Jqhr8EHjri1Ehc', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 12:19:12,166 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 12:19:12,189 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 12:34:31,627 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 12:34:31,629 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 12:34:31,632 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 12:34:31,666 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 12:34:31,669 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 12:34:31,673 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 12:34:31,737 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDQ5MzcxLCJpYXQiOjE3NDY0NDg0NzEsImp0aSI6ImIxZGRhZWU2YWNmNjQ3OTJhNjhiMThhNjI1MzQ1YzY0IiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.rkysdUnWrZTWKuDpL1gRdy3b84VeGQf2QcxDrR1m4kg', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzNDg3MSwiaWF0IjoxNzQ2NDQ4NDcxLCJqdGkiOiI5YjUxZmNiOTg4MWE0YjhiYmRhMGYxMmE1ZDZkNjFmNiIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.kpYPsxzTWu4i1Cw7lQhGnbSLvX4OxJbSyow0Gi9KK6g', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 12:34:31,739 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 12:34:31,773 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 12:35:26,011 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 12:35:26,012 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 12:35:26,013 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 12:35:26,037 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 12:35:26,038 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 12:35:26,039 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 12:35:26,067 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDQ5NDI2LCJpYXQiOjE3NDY0NDg1MjYsImp0aSI6IjRhZTViZGVhMjI2MzRlMDFhYTQzZGQ1ZGIyMWU5M2Q2IiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.faoc21wWeqWP8QJgIsss1z2BS3BRl2bC9EA2ui-HPAY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzNDkyNiwiaWF0IjoxNzQ2NDQ4NTI2LCJqdGkiOiIyOTI4ZjAzZmU3ZDU0ZmFlYjE5ZjBiZTA4ZGVhODVmYyIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.DjjSBteGEqLjtUXwj2bWvqFTH0O4_MEzZpu8G8cZY_w', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 12:35:26,069 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 12:35:26,107 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 12:36:32,102 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 12:36:32,103 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 12:36:32,104 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 12:36:32,185 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 12:36:32,186 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 12:36:32,196 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 12:36:32,230 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDQ5NDkyLCJpYXQiOjE3NDY0NDg1OTIsImp0aSI6IjYyNjk2N2I2ZjEwYjRhMDM5MjVjYTJiY2UwMTg5MjVjIiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.C3W2NDNSTwUnqZJUm_V2k5tFw5fBv2sw2Z80CdD9qqg', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzNDk5MiwiaWF0IjoxNzQ2NDQ4NTkyLCJqdGkiOiI2OTJjNGM4MWQ1MWQ0MzVlYjg1YjY4MWUyMDQ3NDJkNyIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.dKElJt8iVN0UjVyshn8ocXFO1NKa2rh7lYToMxQ0Gkc', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 12:36:32,231 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 12:36:32,252 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 13:11:31,919 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 13:11:31,920 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 13:11:31,921 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 13:11:31,950 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 13:11:31,951 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 13:11:31,952 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 13:11:31,987 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDUxNTkxLCJpYXQiOjE3NDY0NTA2OTEsImp0aSI6IjRiNzEzMjY1YzAwZDQ0MmZiYTk5Y2Y0NmNmMmY2ZWYyIiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.Mt6FJoWGfwctFeQyc0P2Q8fQs9vT-IiJSqJYknM34kw', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzNzA5MSwiaWF0IjoxNzQ2NDUwNjkxLCJqdGkiOiI5YjE0YWJlNjljNWQ0NjA5OWY0NTk1MzAxODU4ZTZkMCIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.QWu7mVNnvzXzLQYtk5I6Z_4lYMZPcPU2GBsNScAmAUQ', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 13:11:31,989 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 13:11:32,057 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 13:12:58,047 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 13:12:58,121 apps.users.views ERROR    Token refresh error: CustomUser matching query does not exist.
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 231, in post
    response = super().post(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/views.py", line 44, in post
    serializer.is_valid(raise_exception=True)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework_simplejwt/serializers.py", line 116, in validate
    user := get_user_model().objects.get(
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        **{api_settings.USER_ID_FIELD: user_id}
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
apps.users.models.base.CustomUser.DoesNotExist: CustomUser matching query does not exist.
2025-05-05 13:12:58,192 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
2025-05-05 13:14:04,622 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 13:15:39,405 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 13:15:39,406 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 13:15:39,407 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 13:15:39,430 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 13:15:39,431 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 13:15:39,432 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 13:15:39,466 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDUxODM5LCJpYXQiOjE3NDY0NTA5MzksImp0aSI6Ijk4ZjJlNzM5ZmY5NzQzMDU5MDM2MDBmNWU2OGQyYThlIiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.zF5lhseyZleMwvAcH2z_-1UXpB74H84tbIuYBjPHsB0', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzNzMzOSwiaWF0IjoxNzQ2NDUwOTM5LCJqdGkiOiI4MDM4MDMyMDNkMjU0NjYxYjBjOGQ1ZjNhYzYzNGI0MCIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.AaN3ImPY_YC6MffOBWfcuqCmNjUbKB2YTpzdOHapUwc', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 13:15:39,467 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 13:15:39,509 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 13:22:02,661 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 13:22:02,740 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 13:22:10,522 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 13:22:10,523 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 13:22:10,523 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 13:22:10,550 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 13:22:10,551 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 13:22:10,551 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 13:22:10,586 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDUyMjMwLCJpYXQiOjE3NDY0NTEzMzAsImp0aSI6ImRiMWE2OGNkYmM3NzQ1M2Q4M2NhOTE5ZDYyMDc2NGI1IiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.xEYU2xZLv20rwAYjh2YT7kuXUhA6W23wH7Mws9sO2Jo', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjUzNzczMCwiaWF0IjoxNzQ2NDUxMzMwLCJqdGkiOiIxNDJiNzgzYjJlZDM0NTdmODkxZjhhMzRiN2QxYjMwMiIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.eVs3Hmb7OrreZSJpF9Z7ljOQ_S1EYNNvI_sirDmb-e4', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 13:22:10,587 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 13:22:10,629 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 13:24:31,025 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-05 13:24:33,945 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 13:25:31,439 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-05 13:25:34,312 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 13:26:29,044 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-05 13:26:31,633 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 13:27:41,681 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-05 13:27:43,928 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 13:28:09,049 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-05 13:28:11,630 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 13:28:40,103 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/serializers.py changed, reloading.
2025-05-05 13:28:42,352 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 13:29:56,530 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 13:29:57,210 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 13:30:07,414 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:15:25,757 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 18:15:25,867 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:16:18,073 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 18:16:18,097 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 18:16:24,178 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 18:16:24,178 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 18:16:24,178 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 18:16:24,186 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 18:16:24,186 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:16:24,187 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:16:24,197 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDY5ODg0LCJpYXQiOjE3NDY0Njg5ODQsImp0aSI6Ijc3ODdkNWQ1NTZiNTQyODViYzJhNzJkYzFiNWZkYTM0IiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.UHTKeCjuuMo-BVWQ23qyvT41q2cVUKtILZDwPdiADYY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NTM4NCwiaWF0IjoxNzQ2NDY4OTg0LCJqdGkiOiIzYTdmZmJiMzE2OTg0M2JlOGFkYTI1NzU3ZWIzZWEyZCIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.T_PJzfQPB0TA9_08WbyqmmOBHq_btxLq1o08wASD5nc', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 18:16:24,197 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 18:16:24,219 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:17:45,536 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 18:17:45,536 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 18:17:45,536 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 18:17:45,542 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 18:17:45,543 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:17:45,543 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:17:45,552 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDY5OTY1LCJpYXQiOjE3NDY0NjkwNjUsImp0aSI6ImE0YzNjMGFhMjAyYTRiNmVhZThhMzcxY2M3MDQ4NTYzIiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.jiG806XHGHS5CZgqW2KDTjLAFuOxpxCc_lhwpZmSskQ', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NTQ2NSwiaWF0IjoxNzQ2NDY5MDY1LCJqdGkiOiI1NTQxMjkzNTY2Mjg0MTQ1YjQzMDVhMDhkYTU3Mjk4ZCIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.yiO0ARNdAHtKLkb8pJsGwkIdaBNikJme_DFaq-TYyzg', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 18:17:45,552 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 18:17:45,564 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:19:11,976 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 18:19:11,976 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 18:19:11,976 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 18:19:11,988 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 18:19:11,989 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:19:11,990 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:19:12,003 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcwMDUxLCJpYXQiOjE3NDY0NjkxNTEsImp0aSI6ImNiN2FiZjYwZjYzNjQ4N2ZhNjU2ZDhkYTExN2JmOGNhIiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.60Iu88qErH7x7flG6LY9xcPZAZdsD09cyIXl0oiaKMg', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NTU1MSwiaWF0IjoxNzQ2NDY5MTUxLCJqdGkiOiJmZmMxMDlhYmRjMjE0Y2NhOTkwNzE3ODZkYjQwZDQ0MCIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.3PnAqYYdWNNcBB7EeeiCci4jZqq9AbgWYieAA9Nw3jo', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 18:19:12,004 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 18:19:12,023 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:20:04,574 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 18:20:04,575 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 18:20:04,575 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 18:20:04,583 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 18:20:04,583 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:20:04,583 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:20:04,595 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcwMTA0LCJpYXQiOjE3NDY0NjkyMDQsImp0aSI6IjEwZWNmODdkMGVjNTRiMDZiYjZiZGY3ZDNmMjdlODg2IiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.yxXcuELxiklBRpBoF4lQdl04gKbkIFiaIygiRDKtXnE', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NTYwNCwiaWF0IjoxNzQ2NDY5MjA0LCJqdGkiOiI3MGVmZDc3OTY4ZDc0M2M3ODU1NGNjYzA1OThjM2I2NCIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.0SXtU_PT0xpKNumjQzfEVxI-cu61q4h3ctxB2_BBSgA', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 18:20:04,595 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 18:20:04,612 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:23:24,412 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 18:23:24,412 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 18:23:24,413 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 18:23:24,422 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 18:23:24,422 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:23:24,422 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:23:24,430 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcwMzA0LCJpYXQiOjE3NDY0Njk0MDQsImp0aSI6IjgwODUxNGIxM2Y4NjQ1YWZhOWI4OGM3YjZiYzkxZjZkIiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.XzmENFXhkja6qj6QCS9V_a0faENwAeAWTIcW2KgR3aY', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NTgwNCwiaWF0IjoxNzQ2NDY5NDA0LCJqdGkiOiI4NTJhZTMxNjA1MDc0Y2M0OWVjM2ZmNGY4M2RiOTE2MyIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.OM0CWYii7kL25o87evcLUsBX1Ts9t6P4Zl7PBueBpnA', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 18:23:24,431 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 18:23:24,442 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:24:08,267 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 18:24:08,268 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 18:24:08,268 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 18:24:08,280 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 18:24:08,280 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:24:08,280 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:24:08,291 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcwMzQ4LCJpYXQiOjE3NDY0Njk0NDgsImp0aSI6IjU5MjY3NWIxOWM2OTQzODE5ZmNjNDUwZjIzZjE3NmEwIiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.CzV8WSDdPf5Ua2T_g8z0M1Ao2G6Jbl3CQ1M9iPvaPvQ', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NTg0OCwiaWF0IjoxNzQ2NDY5NDQ4LCJqdGkiOiIxNjYzNDdlOWI0YWU0ZjhkYmNmMTNkMzk0MzdkYmQ1MyIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.ALlXd_EzC2WjsT4xeYGdWXZYsdrJ5FLurDhjt3-_QZA', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 18:24:08,291 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 18:24:08,303 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:25:30,675 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 18:25:30,675 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 18:25:30,675 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 18:25:30,685 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 18:25:30,686 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:25:30,686 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:25:30,694 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcwNDMwLCJpYXQiOjE3NDY0Njk1MzAsImp0aSI6ImYzMzJhZTRlZTk0YjRlYmY5ODkzOGY3YzJmMDk1ZTZmIiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.WX68iguTFdeyz7-faAyNBUgjTBzXjKdBBqhU5KDE3YM', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NTkzMCwiaWF0IjoxNzQ2NDY5NTMwLCJqdGkiOiJhZTI4ZDEzZGQ5OTU0ZjIxOWYyNWU0YzllM2JkY2Y5YyIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.S4S7QfBio4tYukpCbrfSKhJB_QH1Mgk4Jj9MyZPKZXU', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 18:25:30,695 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 18:25:30,707 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:32:40,434 apps.users.social_auth_pipeline INFO     Updated first name for user: mustaphajajjage@gmail.com
2025-05-05 18:32:40,434 apps.users.social_auth_pipeline INFO     Updated last name for user: mustaphajajjage@gmail.com
2025-05-05 18:32:40,435 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: mustaphajajjage@gmail.com
2025-05-05 18:32:40,441 apps.users.social_auth_pipeline INFO     Saved user details for: mustaphajajjage@gmail.com
2025-05-05 18:32:40,441 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:32:40,441 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:32:40,451 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcwODYwLCJpYXQiOjE3NDY0Njk5NjAsImp0aSI6ImZhMGU2MTQ3YjNhZTRkYmRiNjhlNzUyZTg2ZjBhN2IxIiwidXNlcl9pZCI6IjEzODJlNTVlLWE2ZjQtNDFiNy04ZDRiLTNkOGMzNDlmZDI4ZiJ9.ojoMs0FjPAqKlSo0_Dq4LbGCg1AhKVMcB0JwUaO_N6I', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NjM2MCwiaWF0IjoxNzQ2NDY5OTYwLCJqdGkiOiJhNjNkMTc3NDgxMjI0YjJlODhiMmE0NWRhOGY3ZjM3OSIsInVzZXJfaWQiOiIxMzgyZTU1ZS1hNmY0LTQxYjctOGQ0Yi0zZDhjMzQ5ZmQyOGYifQ.fn4a-lb-iSX7-tR_urNwPoJkKVufOYchQgJNSR_74yM', 'user': 'mustaphajajjage@gmail.com'}
2025-05-05 18:32:40,451 apps.users.views INFO     Found user email: mustaphajajjage@gmail.com
2025-05-05 18:32:40,463 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:34:11,110 apps.users.social_auth_pipeline INFO     Updated first name for user: jajjagesheka@gmail.com
2025-05-05 18:34:11,111 apps.users.social_auth_pipeline INFO     Updated last name for user: jajjagesheka@gmail.com
2025-05-05 18:34:11,112 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: jajjagesheka@gmail.com
2025-05-05 18:34:11,132 apps.users.social_auth_pipeline INFO     Saved user details for: jajjagesheka@gmail.com
2025-05-05 18:34:11,133 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:34:11,134 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:34:11,147 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcwOTUxLCJpYXQiOjE3NDY0NzAwNTEsImp0aSI6IjcyYzg5OTdiMDFkMzRkNWJhM2NhNzIxYzYxNDZjY2Y4IiwidXNlcl9pZCI6ImYyMDU1YjM3LWExNjUtNGRjMi05NDU1LWFhZTQ5MDY5NTA2YyJ9.8NyW2yoer5icP-bmbvTQOlJa60Ukw5zSdxey_5DUlss', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NjQ1MSwiaWF0IjoxNzQ2NDcwMDUxLCJqdGkiOiI1NDNlZjFhNTM0NWE0OWQ2OTgwOTA4YTA4YTcxNGNjMiIsInVzZXJfaWQiOiJmMjA1NWIzNy1hMTY1LTRkYzItOTQ1NS1hYWU0OTA2OTUwNmMifQ.-J4cy-mDkAuKWEDrrOUGAudqvGt7QxFjIwztRPWm9Gs', 'user': 'jajjagesheka@gmail.com'}
2025-05-05 18:34:11,147 apps.users.views INFO     Found user email: jajjagesheka@gmail.com
2025-05-05 18:34:11,163 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:38:06,174 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 18:38:06,276 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 18:38:42,748 apps.users.social_auth_pipeline INFO     Updated first name for user: jajjagesheka@gmail.com
2025-05-05 18:38:42,749 apps.users.social_auth_pipeline INFO     Updated last name for user: jajjagesheka@gmail.com
2025-05-05 18:38:42,749 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: jajjagesheka@gmail.com
2025-05-05 18:38:42,761 apps.users.social_auth_pipeline INFO     Saved user details for: jajjagesheka@gmail.com
2025-05-05 18:38:42,762 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:38:42,762 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:38:42,775 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcxMjIyLCJpYXQiOjE3NDY0NzAzMjIsImp0aSI6IjNmOTRmYzM5YTQzMzQ0YmI5NmIwMTcwYjcwZjAwODNmIiwidXNlcl9pZCI6ImYyMDU1YjM3LWExNjUtNGRjMi05NDU1LWFhZTQ5MDY5NTA2YyJ9.cFOXN3OI5DuMVAYMWO8i0q_VI4Yje6FicvPr4ZQfYQk', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NjcyMiwiaWF0IjoxNzQ2NDcwMzIyLCJqdGkiOiIxMjA4OTU1MWM0NGY0MTZkODBkZGJhYmNkYWE5ZTRhNSIsInVzZXJfaWQiOiJmMjA1NWIzNy1hMTY1LTRkYzItOTQ1NS1hYWU0OTA2OTUwNmMifQ.mGWy38kvTiMBHN37gnqaxhBqGB6c8Ip9PMXx-vUf2K0', 'user': 'jajjagesheka@gmail.com'}
2025-05-05 18:38:42,775 apps.users.views INFO     Found user email: jajjagesheka@gmail.com
2025-05-05 18:38:42,788 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:40:19,197 apps.users.social_auth_pipeline INFO     Updated first name for user: 02uak8286@gmail.com
2025-05-05 18:40:19,197 apps.users.social_auth_pipeline INFO     Updated last name for user: 02uak8286@gmail.com
2025-05-05 18:40:19,197 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: 02uak8286@gmail.com
2025-05-05 18:40:19,203 apps.users.social_auth_pipeline INFO     Saved user details for: 02uak8286@gmail.com
2025-05-05 18:40:19,203 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:40:19,203 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:40:19,208 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcxMzE5LCJpYXQiOjE3NDY0NzA0MTksImp0aSI6IjQzMzdkNzk1YjA0MzRmYTY4NzZmZmJjMDk2ODgyZjM4IiwidXNlcl9pZCI6ImZjNzhiNzFmLTYzMjItNDNkMi05NzZhLThiMzk3MmZiOGQ4NiJ9.UKK0SoGsDIMxk8qehOj_t0kPERvh96n4z0gpV5Nr-rU', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NjgxOSwiaWF0IjoxNzQ2NDcwNDE5LCJqdGkiOiI5YTMwOWY5YWQ2ZDg0YzUyODljY2IyM2RjZmIwOTIxNyIsInVzZXJfaWQiOiJmYzc4YjcxZi02MzIyLTQzZDItOTc2YS04YjM5NzJmYjhkODYifQ.GZyZm1LqW5x3WWWiWgS-m7A761eqwvFENKrape4W1NM', 'user': '02uak8286@gmail.com'}
2025-05-05 18:40:19,209 apps.users.views INFO     Found user email: 02uak8286@gmail.com
2025-05-05 18:40:19,218 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:42:07,750 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 18:42:08,107 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 18:42:29,512 apps.users.social_auth_pipeline INFO     Updated first name for user: 02uak8286@gmail.com
2025-05-05 18:42:29,513 apps.users.social_auth_pipeline INFO     Updated last name for user: 02uak8286@gmail.com
2025-05-05 18:42:29,513 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: 02uak8286@gmail.com
2025-05-05 18:42:29,527 apps.users.social_auth_pipeline INFO     Saved user details for: 02uak8286@gmail.com
2025-05-05 18:42:29,528 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:42:29,528 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:42:29,550 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcxNDQ5LCJpYXQiOjE3NDY0NzA1NDksImp0aSI6IjVmMDBlZTY1YzNhYTRjZWNiN2VjMzZlNWUzYWVjMzFhIiwidXNlcl9pZCI6ImZjNzhiNzFmLTYzMjItNDNkMi05NzZhLThiMzk3MmZiOGQ4NiJ9.mnOhniY3swXg6WpeObxyBdSD_gpEsxUlZEA_QVSPCNs', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1Njk0OSwiaWF0IjoxNzQ2NDcwNTQ5LCJqdGkiOiJjMzVmYTE4YjQ4YTI0ZDZhYWFjNzkyMDNkMGUzZjVhMiIsInVzZXJfaWQiOiJmYzc4YjcxZi02MzIyLTQzZDItOTc2YS04YjM5NzJmYjhkODYifQ.Rjm2cZgZHi8nWHkUuHM7eF4zEeKnSvEg-U1y1scg5TU', 'user': '02uak8286@gmail.com'}
2025-05-05 18:42:29,550 apps.users.views INFO     Found user email: 02uak8286@gmail.com
2025-05-05 18:42:29,579 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:43:28,973 apps.users.social_auth_pipeline INFO     Updated first name for user: 02uak8286@gmail.com
2025-05-05 18:43:28,976 apps.users.social_auth_pipeline INFO     Updated last name for user: 02uak8286@gmail.com
2025-05-05 18:43:28,977 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: 02uak8286@gmail.com
2025-05-05 18:43:29,008 apps.users.social_auth_pipeline INFO     Saved user details for: 02uak8286@gmail.com
2025-05-05 18:43:29,011 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:43:29,013 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:43:29,063 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcxNTA5LCJpYXQiOjE3NDY0NzA2MDksImp0aSI6IjY1MWY0MmFlMDMxNzQ3MGViYmYwNDk0OWQwYTI0MDcwIiwidXNlcl9pZCI6ImZjNzhiNzFmLTYzMjItNDNkMi05NzZhLThiMzk3MmZiOGQ4NiJ9.kj1oEEFs4rraPhVlAuNByfVj6cpS-EionVXnp_NzufM', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NzAwOSwiaWF0IjoxNzQ2NDcwNjA5LCJqdGkiOiI1MWEzOGYzM2EyN2U0NTAyODUwMWUxODI1NzY4ZWE5ZiIsInVzZXJfaWQiOiJmYzc4YjcxZi02MzIyLTQzZDItOTc2YS04YjM5NzJmYjhkODYifQ.9LSjBG1DLP3--9OmJ_98Tzg2_tUJfT_cvUU0eENHRP0', 'user': '02uak8286@gmail.com'}
2025-05-05 18:43:29,064 apps.users.views INFO     Found user email: 02uak8286@gmail.com
2025-05-05 18:43:29,101 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:49:56,723 apps.users.social_auth_pipeline INFO     Updated first name for user: 02uak8286@gmail.com
2025-05-05 18:49:56,724 apps.users.social_auth_pipeline INFO     Updated last name for user: 02uak8286@gmail.com
2025-05-05 18:49:56,724 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: 02uak8286@gmail.com
2025-05-05 18:49:56,738 apps.users.social_auth_pipeline INFO     Saved user details for: 02uak8286@gmail.com
2025-05-05 18:49:56,739 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:49:56,740 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:49:56,760 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcxODk2LCJpYXQiOjE3NDY0NzA5OTYsImp0aSI6ImI0YzFiNGRhMTZkMjQ4Yzc4YjAxN2NhZDAwMmRlMmZmIiwidXNlcl9pZCI6ImZjNzhiNzFmLTYzMjItNDNkMi05NzZhLThiMzk3MmZiOGQ4NiJ9.lU-_Z4HxCYLRna5vDop76AMRBnlFgWCQOSyQ-K5H5RQ', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NzM5NiwiaWF0IjoxNzQ2NDcwOTk2LCJqdGkiOiI5NGE2ZTZlODJiNTk0NzM0YWYyNzI3ZjQyNzAzYWFkMCIsInVzZXJfaWQiOiJmYzc4YjcxZi02MzIyLTQzZDItOTc2YS04YjM5NzJmYjhkODYifQ.jTslFH9akHpMUSiTDVFmCIhutPae5ZXf-6MuiAb-pmM', 'user': '02uak8286@gmail.com'}
2025-05-05 18:49:56,761 apps.users.views INFO     Found user email: 02uak8286@gmail.com
2025-05-05 18:49:56,782 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 18:51:24,694 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 18:51:24,864 django.request WARNING  Unauthorized: /api/v1/auth/refresh/
2025-05-05 18:51:34,501 apps.users.social_auth_pipeline INFO     Updated first name for user: 02uak8286@gmail.com
2025-05-05 18:51:34,501 apps.users.social_auth_pipeline INFO     Updated last name for user: 02uak8286@gmail.com
2025-05-05 18:51:34,502 apps.users.social_auth_pipeline INFO     Updated profile picture URL for user: 02uak8286@gmail.com
2025-05-05 18:51:34,520 apps.users.social_auth_pipeline INFO     Saved user details for: 02uak8286@gmail.com
2025-05-05 18:51:34,521 apps.users.social_auth_pipeline INFO     Found user_type: None
2025-05-05 18:51:34,521 apps.users.social_auth_pipeline WARNING  No user_type parameter found in request
2025-05-05 18:51:34,549 apps.users.views INFO     Initial response data: {'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzQ2NDcxOTk0LCJpYXQiOjE3NDY0NzEwOTQsImp0aSI6ImUyZmZmNDJkZDgzMjQ1YWViYzc0NDkxNTMwNWE3MTYxIiwidXNlcl9pZCI6ImZjNzhiNzFmLTYzMjItNDNkMi05NzZhLThiMzk3MmZiOGQ4NiJ9.lPCKsHaNxTpHFqYbPMb830C5tjbHSM95d2sN6WjqL0A', 'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc0NjU1NzQ5NCwiaWF0IjoxNzQ2NDcxMDk0LCJqdGkiOiI1NmRhOWUyYTNjZTY0NTcwOGRkNWZkMThiNGRkMWMyOCIsInVzZXJfaWQiOiJmYzc4YjcxZi02MzIyLTQzZDItOTc2YS04YjM5NzJmYjhkODYifQ.4hvOanS4xE0HuAd3dtssmvR57Kiqje_elhlBI_dAzGo', 'user': '02uak8286@gmail.com'}
2025-05-05 18:51:34,554 apps.users.views INFO     Found user email: 02uak8286@gmail.com
2025-05-05 18:51:34,606 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 19:14:53,666 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 19:15:02,032 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 19:15:03,025 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 19:15:15,466 django.request WARNING  Not Found: /api/v1/products/de55d6d0-0491-4320-8f48-e9b40ae1f040/
2025-05-05 19:15:31,359 django.request WARNING  Bad Request: /api/v1/products/
2025-05-05 19:15:43,296 django.request WARNING  Not Found: /api/v1/category/
2025-05-05 19:18:36,477 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 19:18:38,574 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:18:46,325 django.request WARNING  Bad Request: /api/v1/products/
2025-05-05 19:20:25,839 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/category.py changed, reloading.
2025-05-05 19:20:27,550 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:22:23,052 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/category.py changed, reloading.
2025-05-05 19:22:24,642 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:23:43,320 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 19:23:44,973 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:25:25,211 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 19:25:27,140 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:27:58,399 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 19:28:00,154 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:28:11,244 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 102, in create
    return self.send_response(
           ^^^^^^^^^^^^^^^^^^
AttributeError: 'ProductViewSet' object has no attribute 'send_response'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 108, in create
    return self.send_error(
           ^^^^^^^^^^^^^^^
AttributeError: 'ProductViewSet' object has no attribute 'send_error'
2025-05-05 19:28:41,916 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 19:28:43,813 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:30:28,962 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 19:30:28,965 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 19:30:28,968 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 19:30:28,968 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 19:30:29,012 django.request WARNING  Unauthorized: /api/v1/products/
2025-05-05 19:30:34,379 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 19:30:35,433 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 19:31:42,910 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 19:31:48,294 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:32:09,698 django.request ERROR    Internal Server Error: /api/v1/products/2f53fa27-a048-4d13-a94f-f98bf46a6db8/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/products/serializers/products.py", line 191, in get_seller
    if hasattr(obj.seller, "profile") and obj.seller.profile.profile_url
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'UserProfile' object has no attribute 'profile_url'
2025-05-05 19:34:00,892 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 19:34:03,564 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:34:09,200 django.request ERROR    Internal Server Error: /api/v1/products/2f53fa27-a048-4d13-a94f-f98bf46a6db8/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/mixins.py", line 56, in retrieve
    return Response(serializer.data)
                    ^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 573, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/products/serializers/products.py", line 221, in get_watching_count
    return obj.watchlist_items.count()
           ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Product' object has no attribute 'watchlist_items'
2025-05-05 19:35:24,909 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/base.py changed, reloading.
2025-05-05 19:35:27,655 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:35:33,473 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/base.py changed, reloading.
2025-05-05 19:35:36,393 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:39:31,268 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 19:39:34,146 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:49:08,991 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 19:49:10,552 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:49:29,690 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 19:49:31,307 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:51:18,842 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 19:51:20,351 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:54:09,710 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 19:54:12,362 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:55:02,024 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:55:31,394 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/views.py changed, reloading.
2025-05-05 19:55:32,761 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:55:51,145 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/transactions/views.py changed, reloading.
2025-05-05 19:55:54,794 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 19:57:09,077 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 19:57:12,439 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:03:55,984 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 20:03:58,326 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:04:51,061 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 20:04:52,668 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:05:47,284 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 20:05:49,784 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:06:36,116 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 20:06:39,967 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:06:43,324 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 20:06:47,026 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:08:35,100 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 20:08:38,537 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:08:58,920 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 20:09:03,288 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:10:19,847 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 20:10:21,680 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:11:58,584 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/category.py changed, reloading.
2025-05-05 20:12:02,251 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:12:08,121 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/images.py changed, reloading.
2025-05-05 20:12:12,539 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:12:24,764 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/metadata.py changed, reloading.
2025-05-05 20:12:29,845 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:12:42,770 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/watchlists.py changed, reloading.
2025-05-05 20:12:45,421 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:13:25,506 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 20:13:31,019 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:13:41,650 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 20:13:44,333 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:14:57,659 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 20:15:00,496 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:16:29,886 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 20:16:31,698 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:19:54,794 django.request WARNING  Not Found: /api/v1/users/me/
2025-05-05 20:21:12,571 django.request WARNING  Method Not Allowed: /api/v1/auth/logout/
2025-05-05 20:21:18,605 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:21:27,170 apps.users.views ERROR    Logout error: 'LogoutView' object has no attribute 'send_response'
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 320, in post
    response = self.send_response(
               ^^^^^^^^^^^^^^^^^^
AttributeError: 'LogoutView' object has no attribute 'send_response'
2025-05-05 20:21:27,209 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 320, in post
    response = self.send_response(
               ^^^^^^^^^^^^^^^^^^
AttributeError: 'LogoutView' object has no attribute 'send_response'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 328, in post
    return self.send_error(
           ^^^^^^^^^^^^^^^
AttributeError: 'LogoutView' object has no attribute 'send_error'
2025-05-05 20:21:27,409 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:24:30,555 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 20:24:32,336 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:24:38,493 django.request WARNING  Method Not Allowed: /api/v1/auth/logout/
2025-05-05 20:24:39,082 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:24:45,780 apps.users.views ERROR    Logout error: 'LogoutView' object has no attribute 'send_response'
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 320, in post
    response = self.send_response(
               ^^^^^^^^^^^^^^^^^^
AttributeError: 'LogoutView' object has no attribute 'send_response'
2025-05-05 20:24:45,822 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 517, in dispatch
    self.response = self.finalize_response(request, response, *args, **kwargs)
                    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 429, in finalize_response
    assert isinstance(response, HttpResponseBase), (
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: Expected a `Response`, `HttpResponse` or `StreamingHttpResponse` to be returned from the view, but received a `<class 'dict'>`
2025-05-05 20:24:46,049 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:25:45,738 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 20:25:48,413 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:25:53,477 django.request WARNING  Method Not Allowed: /api/v1/auth/logout/
2025-05-05 20:25:55,396 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:25:58,631 apps.users.views ERROR    Logout error: 'LogoutView' object has no attribute 'send_response'
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 321, in post
    response = self.send_response(
               ^^^^^^^^^^^^^^^^^^
AttributeError: 'LogoutView' object has no attribute 'send_response'
2025-05-05 20:25:58,683 django.request ERROR    Internal Server Error: /api/v1/auth/logout/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 220, in _get_response
    response = response.render()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/template/response.py", line 114, in render
    self.content = self.rendered_content
                   ^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/response.py", line 74, in rendered_content
    ret = renderer.render(self.data, accepted_media_type, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 731, in render
    context = self.get_context(data, accepted_media_type, renderer_context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 687, in get_context
    'content': self.get_content(renderer, data, accepted_media_type, renderer_context),
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 417, in get_content
    content = renderer.render(data, accepted_media_type, renderer_context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/renderers.py", line 100, in render
    ret = json.dumps(
        data, cls=self.encoder_class,
        indent=indent, ensure_ascii=self.ensure_ascii,
        allow_nan=not self.strict, separators=separators
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/json.py", line 25, in dumps
    return json.dumps(*args, **kwargs)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ~~~~~~^^^^^
  File "/usr/local/lib/python3.13/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.13/json/encoder.py", line 261, in iterencode
    return _iterencode(o, 0)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/utils/encoders.py", line 67, in default
    return super().default(obj)
           ~~~~~~~~~~~~~~~^^^^^
  File "/usr/local/lib/python3.13/json/encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type AttributeError is not JSON serializable
2025-05-05 20:25:58,885 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:26:21,120 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 20:26:22,813 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:26:24,750 django.request WARNING  Method Not Allowed: /api/v1/auth/logout/
2025-05-05 20:26:25,653 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:26:28,635 apps.users.views ERROR    Logout error: 'LogoutView' object has no attribute 'send_response'
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/users/views.py", line 321, in post
    response = self.send_response(
               ^^^^^^^^^^^^^^^^^^
AttributeError: 'LogoutView' object has no attribute 'send_response'
2025-05-05 20:26:28,789 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:27:40,304 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 20:27:43,567 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:30:01,826 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 20:30:03,446 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:30:44,245 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 20:30:47,479 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:31:16,292 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 20:31:18,641 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:31:34,955 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 20:31:37,325 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:31:58,463 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 20:31:59,865 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:32:09,324 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 20:32:10,138 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:32:14,623 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:32:30,114 django.request WARNING  Unauthorized: /api/v1/auth/users/me/
2025-05-05 20:32:30,668 django.request ERROR    Internal Server Error: /api/v1/auth/refresh/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/users/views.py", line 212, in post
    return self.send_error(
           ^^^^^^^^^^^^^^^
AttributeError: 'CookieTokenRefreshView' object has no attribute 'send_error'
2025-05-05 20:32:37,394 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 20:33:28,891 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:33:56,946 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/users/views.py changed, reloading.
2025-05-05 20:33:58,644 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:34:31,635 django.request ERROR    Internal Server Error: /api/v1/products/stats/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 183, in stats
    most_watched = queryset.annotate(watch_count=Count("watchlist_items")).order_by(
                   ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1630, in annotate
    return self._annotate(args, kwargs, select=True)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1680, in _annotate
    clone.query.add_annotation(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~^
        annotation,
        ^^^^^^^^^^^
        alias,
        ^^^^^^
        select=select,
        ^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1194, in add_annotation
    annotation = annotation.resolve_expression(self, allow_joins=True, reuse=None)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/aggregates.py", line 63, in resolve_expression
    c = super().resolve_expression(query, allow_joins, reuse, summarize)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/expressions.py", line 1073, in resolve_expression
    c.source_expressions[pos] = arg.resolve_expression(
                                ~~~~~~~~~~~~~~~~~~~~~~^
        query, allow_joins, reuse, summarize, for_save
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/expressions.py", line 895, in resolve_expression
    return query.resolve_ref(self.name, allow_joins, reuse, summarize)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 2010, in resolve_ref
    join_info = self.setup_joins(
        field_list, self.get_meta(), self.get_initial_alias(), can_reuse=reuse
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1863, in setup_joins
    path, final_field, targets, rest = self.names_to_path(
                                       ~~~~~~~~~~~~~~~~~~^
        names[:pivot],
        ^^^^^^^^^^^^^^
    ...<2 lines>...
        fail_on_missing=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'watchlist_items' into field. Choices are: category, category_id, condition, condition_id, created_at, currency, description, escrowtransaction, id, images, inventory_count, is_active, is_featured, meta, original_price, price, seller, seller_id, short_code, slug, specifications, status, title, updated_at, watchers
2025-05-05 20:35:38,114 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 20:35:39,496 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:37:57,216 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 20:37:58,733 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:38:03,584 django.request ERROR    Internal Server Error: /api/v1/products/stats/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 189, in stats
    ).data
      ^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 797, in data
    ret = super().data
          ^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 251, in data
    self._data = self.to_representation(self.instance)
                 ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 716, in to_representation
    self.child.to_representation(item) for item in iterable
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 540, in to_representation
    ret[field.field_name] = field.to_representation(attribute)
                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/fields.py", line 1870, in to_representation
    return method(value)
  File "/workspaces/safetrade-backend/apps/products/serializers/products.py", line 268, in get_watching_count
    return obj.watchlist_items.count()
           ^^^^^^^^^^^^^^^^^^^
AttributeError: 'Product' object has no attribute 'watchlist_items'
2025-05-05 20:39:00,031 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/serializers/products.py changed, reloading.
2025-05-05 20:39:01,672 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:40:44,405 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/product_watchlist.py changed, reloading.
2025-05-05 20:40:45,858 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:45:59,489 django.request ERROR    Internal Server Error: /api/v1/products/zYTJqB/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/fields/__init__.py", line 2761, in to_python
    return uuid.UUID(**{input_form: value})
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/uuid.py", line 181, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/shortcuts.py", line 86, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 635, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1555, in build_filter
    condition = self.build_lookup(lookups, col, value)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1385, in build_lookup
    lookup = lookup_class(lhs, rhs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/lookups.py", line 30, in __init__
    self.rhs = self.get_prep_lookup()
               ~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/lookups.py", line 369, in get_prep_lookup
    return super().get_prep_lookup()
           ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/lookups.py", line 88, in get_prep_lookup
    return self.lhs.output_field.get_prep_value(self.rhs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/fields/__init__.py", line 2745, in get_prep_value
    return self.to_python(value)
           ~~~~~~~~~~~~~~^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/fields/__init__.py", line 2763, in to_python
    raise exceptions.ValidationError(
    ...<3 lines>...
    )
django.core.exceptions.ValidationError: ['zYTJqB is not a valid UUID.']

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/apps/core/views.py", line 169, in retrieve
    instance = self.get_object()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 100, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 21, in get_object_or_404
    raise Http404
django.http.response.Http404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/core/views.py", line 177, in retrieve
    return self.error_response(
           ~~~~~~~~~~~~~~~~~~~^
        message=f"{self.get_model_name()} not found",
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        code="not_found",
        ^^^^^^^^^^^^^^^^^
        status_code=status.HTTP_404_NOT_FOUND,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: BaseResponseMixin.error_response() got an unexpected keyword argument 'code'
2025-05-05 20:49:42,657 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/core/views.py changed, reloading.
2025-05-05 20:49:44,848 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:49:45,610 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:49:45,615 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:49:45,615 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:49:45,622 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:49:45,622 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:49:45,623 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:49:45,742 django.request WARNING  Unauthorized: /api/v1/products/zYTJqB/
2025-05-05 20:50:51,555 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:50:51,555 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:50:51,555 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:50:51,558 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:50:51,558 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:50:51,558 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:50:51,587 django.request WARNING  Unauthorized: /api/v1/products/zYTJqB/
2025-05-05 20:51:31,158 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:51:35,360 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:51:35,362 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:51:35,362 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:51:35,365 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:51:35,366 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:51:35,366 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 20:51:35,406 django.request WARNING  Unauthorized: /api/v1/products/zYTJqB/
2025-05-05 20:52:55,992 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 20:52:57,024 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 20:53:01,679 django.request WARNING  Not Found: /api/v1/products/zYTJqB/
2025-05-05 20:55:25,464 django.request WARNING  Not Found: /api/v1/products/SaF2sW/
2025-05-05 20:56:12,977 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 20:56:14,740 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:56:17,464 django.request WARNING  Not Found: /api/v1/products/SaF2sW/
2025-05-05 20:57:26,120 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/urls.py changed, reloading.
2025-05-05 20:57:27,652 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:57:35,194 django.request ERROR    Internal Server Error: /api/v1/products-short-code/SaF2sW/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 212, in get
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 373, in retrieve
    reverse("product-detail-by-shortcode", args=[product.short_code])
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/urls/resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'product-detail-by-shortcode' not found. 'product-detail-by-shortcode' is not a valid view function or pattern name.
2025-05-05 20:59:04,086 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/urls.py changed, reloading.
2025-05-05 20:59:05,427 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:59:11,253 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/urls.py changed, reloading.
2025-05-05 20:59:12,641 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:59:16,829 django.request ERROR    Internal Server Error: /api/v1/products-short-code/SaF2sW/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 212, in get
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 373, in retrieve
    reverse("product-detail-by-shortcode", args=[product.short_code])
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/urls/resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'product-detail-by-shortcode' not found. 'product-detail-by-shortcode' is not a valid view function or pattern name.
2025-05-05 20:59:36,286 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/urls.py changed, reloading.
2025-05-05 20:59:37,726 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 20:59:51,775 django.request WARNING  Not Found: /api/v1/products-uuid/
2025-05-05 21:00:25,578 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 21:00:31,958 django.request WARNING  Not Found: /api/v1/products-uuid/
2025-05-05 21:02:55,802 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/urls.py changed, reloading.
2025-05-05 21:02:57,080 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 21:03:19,029 django.request ERROR    Internal Server Error: /api/v1/products-short-code/SaF2sW/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 212, in get
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 373, in retrieve
    reverse("product-detail-by-shortcode", args=[product.short_code])
    ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/urls/base.py", line 88, in reverse
    return resolver._reverse_with_prefix(view, prefix, *args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/urls/resolvers.py", line 831, in _reverse_with_prefix
    raise NoReverseMatch(msg)
django.urls.exceptions.NoReverseMatch: Reverse for 'product-detail-by-shortcode' not found. 'product-detail-by-shortcode' is not a valid view function or pattern name.
2025-05-05 21:05:05,601 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/urls.py changed, reloading.
2025-05-05 21:05:07,155 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 21:06:14,448 django.request ERROR    Internal Server Error: /api/v1/products-uuid/d3da24e5-4d81-4f58-87c6-33f367e414c5/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 212, in get
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 319, in retrieve
    instance = self.get_object()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 100, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/shortcuts.py", line 86, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 635, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'uuid' into field. Choices are: category, category_id, condition, condition_id, created_at, currency, description, escrowtransaction, id, images, inventory_count, is_active, is_featured, meta, original_price, price, seller, seller_id, short_code, slug, specifications, status, title, updated_at, watchers
2025-05-05 21:06:24,076 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/urls.py changed, reloading.
2025-05-05 21:06:25,669 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 21:06:30,065 django.request ERROR    Internal Server Error: /api/v1/products-uuid/d3da24e5-4d81-4f58-87c6-33f367e414c5/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 212, in get
    return self.retrieve(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/views/base.py", line 319, in retrieve
    instance = self.get_object()
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 100, in get_object
    obj = get_object_or_404(queryset, **filter_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/generics.py", line 19, in get_object_or_404
    return _get_object_or_404(queryset, *filter_args, **filter_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/shortcuts.py", line 86, in get_object_or_404
    return queryset.get(*args, **kwargs)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 635, in get
    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)
                                                        ~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1476, in filter
    return self._filter_or_exclude(False, args, kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1494, in _filter_or_exclude
    clone._filter_or_exclude_inplace(negate, args, kwargs)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1501, in _filter_or_exclude_inplace
    self._query.add_q(Q(*args, **kwargs))
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1609, in add_q
    clause, _ = self._add_q(q_object, self.used_aliases)
                ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1641, in _add_q
    child_clause, needed_inner = self.build_filter(
                                 ~~~~~~~~~~~~~~~~~^
        child,
        ^^^^^^
    ...<7 lines>...
        update_join_types=update_join_types,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1491, in build_filter
    lookups, parts, reffed_expression = self.solve_lookup_type(arg, summarize)
                                        ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1303, in solve_lookup_type
    _, field, _, lookup_parts = self.names_to_path(lookup_splitted, self.get_meta())
                                ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/query.py", line 1768, in names_to_path
    raise FieldError(
    ...<2 lines>...
    )
django.core.exceptions.FieldError: Cannot resolve keyword 'uuid' into field. Choices are: category, category_id, condition, condition_id, created_at, currency, description, escrowtransaction, id, images, inventory_count, is_active, is_featured, meta, original_price, price, seller, seller_id, short_code, slug, specifications, status, title, updated_at, watchers
2025-05-05 21:09:24,101 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/base.py changed, reloading.
2025-05-05 21:09:25,603 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 21:11:42,598 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/utils/social_sharing_utils.py changed, reloading.
2025-05-05 21:11:43,807 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 21:12:00,583 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/views/__init__.py changed, reloading.
2025-05-05 21:12:02,025 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 21:12:13,435 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 21:12:13,439 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 21:12:13,442 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 21:12:13,443 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 21:12:13,479 django.request WARNING  Unauthorized: /api/v1/products/
2025-05-05 21:12:23,147 apps.users.utils INFO     Authentication cookies set successfully
2025-05-05 21:12:24,172 django.request WARNING  Not Found: /.well-known/appspecific/com.chrome.devtools.json
2025-05-05 21:12:38,244 django.request ERROR    Internal Server Error: /api/v1/products/
Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.StringDataRightTruncation: value too long for type character varying(10)


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/viewsets.py", line 125, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
  File "/workspaces/safetrade-backend/apps/core/views.py", line 66, in create
    self.perform_create(serializer)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/core/views.py", line 182, in perform_create
    serializer.save(seller=self.request.user)
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/apps/products/serializers/products.py", line 61, in create
    return super().create(validated_data)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/rest_framework/serializers.py", line 991, in create
    instance = ModelClass._default_manager.create(**validated_data)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 679, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 892, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 998, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1161, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/base.py", line 1202, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/query.py", line 1847, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1836, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 235, in execute
    return self._record(super().execute, sql, params)
           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/debug_toolbar/panels/sql/tracking.py", line 160, in _record
    return method(sql, params)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/workspaces/safetrade-backend/.venv/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.DataError: value too long for type character varying(10)

2025-05-05 21:12:58,354 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/base.py changed, reloading.
2025-05-05 21:13:02,453 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 21:13:11,080 django.utils.autoreload INFO     /workspaces/safetrade-backend/apps/products/models/base.py changed, reloading.
2025-05-05 21:13:15,140 django.utils.autoreload INFO     Watching for file changes with StatReloader
2025-05-05 21:14:06,323 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 21:14:06,324 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 21:14:06,325 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 21:14:06,326 apps.core.permissions WARNING  Unauthenticated access attempt to ProductViewSet
2025-05-05 21:14:06,346 django.request WARNING  Unauthorized: /api/v1/products/
